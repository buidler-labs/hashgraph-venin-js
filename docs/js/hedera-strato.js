import{AccountBalanceQuery as Q,Hbar as B,TransferTransaction as F,TokenAssociateTransaction as U,ContractFunctionParameters as g,PrivateKey as I,AccountCreateTransaction as C,AccountInfoQuery as s,AccountDeleteTransaction as c,AccountUpdateTransaction as l,AccountId as S,ContractId as Z,ContractInfoQuery as G,ContractDeleteTransaction as L,ContractCallQuery as x,ContractExecuteTransaction as y,TransactionId as d,Client as b,AccountRecordsQuery as V,Wallet as N,TransactionReceiptQuery as R,SignerSignature as A,Status as D,FileCreateTransaction as m,FileAppendTransaction as E,FileId as J,FileInfoQuery as t,FileDeleteTransaction as i,FileUpdateTransaction as X,FileContentsQuery as n,TransactionRecordQuery as u,TransactionResponse as H,TokenType as W,TokenCreateTransaction as a,TokenDeleteTransaction as o,TokenUpdateTransaction as h,Key as Y,TokenInfoQuery as e,TopicCreateTransaction as k,TopicId as p,TopicInfoQuery as M,TopicDeleteTransaction as T,TopicMessageSubmitTransaction as z,TopicUpdateTransaction as r,ContractCreateTransaction as v}from"/js/hashgraph-sdk.js";function w(Q,B,F){return B in Q?Object.defineProperty(Q,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):Q[B]=F,Q}function K(Q,B,F,U,g,I,C){try{var s=Q[I](C),c=s.value}catch(Q){return void F(Q)}s.done?B(c):Promise.resolve(c).then(U,g)}function O(Q){return function(){var B=this,F=arguments;return new Promise((function(U,g){var I=Q.apply(B,F);function C(Q){K(I,U,g,C,s,"next",Q)}function s(Q){K(I,U,g,C,s,"throw",Q)}C(void 0)}))}}function P(Q,B){if(!(Q instanceof B))throw new TypeError("Cannot call a class as a function")}function f(Q,B){for(var F=0;F<B.length;F++){var U=B[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Q,U.key,U)}}function j(Q,B,F){return B&&f(Q.prototype,B),F&&f(Q,F),Object.defineProperty(Q,"prototype",{writable:!1}),Q}var q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_={exports:{}};!function(Q){var B=function(Q){var B,F=Object.prototype,U=F.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},I=g.iterator||"@@iterator",C=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function c(Q,B,F){return Object.defineProperty(Q,B,{value:F,enumerable:!0,configurable:!0,writable:!0}),Q[B]}try{c({},"")}catch(Q){c=function(Q,B,F){return Q[B]=F}}function l(Q,B,F,U){var g=B&&B.prototype instanceof d?B:d,I=Object.create(g.prototype),C=new X(U||[]);return I._invoke=function(Q,B,F){var U=Z;return function(g,I){if(U===L)throw new Error("Generator is already running");if(U===x){if("throw"===g)throw I;return u()}for(F.method=g,F.arg=I;;){var C=F.delegate;if(C){var s=J(C,F);if(s){if(s===y)continue;return s}}if("next"===F.method)F.sent=F._sent=F.arg;else if("throw"===F.method){if(U===Z)throw U=x,F.arg;F.dispatchException(F.arg)}else"return"===F.method&&F.abrupt("return",F.arg);U=L;var c=S(Q,B,F);if("normal"===c.type){if(U=F.done?x:G,c.arg===y)continue;return{value:c.arg,done:F.done}}"throw"===c.type&&(U=x,F.method="throw",F.arg=c.arg)}}}(Q,F,C),I}function S(Q,B,F){try{return{type:"normal",arg:Q.call(B,F)}}catch(Q){return{type:"throw",arg:Q}}}Q.wrap=l;var Z="suspendedStart",G="suspendedYield",L="executing",x="completed",y={};function d(){}function b(){}function V(){}var N={};c(N,I,(function(){return this}));var R=Object.getPrototypeOf,A=R&&R(R(n([])));A&&A!==F&&U.call(A,I)&&(N=A);var D=V.prototype=d.prototype=Object.create(N);function m(Q){["next","throw","return"].forEach((function(B){c(Q,B,(function(Q){return this._invoke(B,Q)}))}))}function E(Q,B){function F(g,I,C,s){var c=S(Q[g],Q,I);if("throw"!==c.type){var l=c.arg,Z=l.value;return Z&&"object"==typeof Z&&U.call(Z,"__await")?B.resolve(Z.__await).then((function(Q){F("next",Q,C,s)}),(function(Q){F("throw",Q,C,s)})):B.resolve(Z).then((function(Q){l.value=Q,C(l)}),(function(Q){return F("throw",Q,C,s)}))}s(c.arg)}var g;this._invoke=function(Q,U){function I(){return new B((function(B,g){F(Q,U,B,g)}))}return g=g?g.then(I,I):I()}}function J(Q,F){var U=Q.iterator[F.method];if(U===B){if(F.delegate=null,"throw"===F.method){if(Q.iterator.return&&(F.method="return",F.arg=B,J(Q,F),"throw"===F.method))return y;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var g=S(U,Q.iterator,F.arg);if("throw"===g.type)return F.method="throw",F.arg=g.arg,F.delegate=null,y;var I=g.arg;return I?I.done?(F[Q.resultName]=I.value,F.next=Q.nextLoc,"return"!==F.method&&(F.method="next",F.arg=B),F.delegate=null,y):I:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,y)}function t(Q){var B={tryLoc:Q[0]};1 in Q&&(B.catchLoc=Q[1]),2 in Q&&(B.finallyLoc=Q[2],B.afterLoc=Q[3]),this.tryEntries.push(B)}function i(Q){var B=Q.completion||{};B.type="normal",delete B.arg,Q.completion=B}function X(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(t,this),this.reset(!0)}function n(Q){if(Q){var F=Q[I];if(F)return F.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length)){var g=-1,C=function F(){for(;++g<Q.length;)if(U.call(Q,g))return F.value=Q[g],F.done=!1,F;return F.value=B,F.done=!0,F};return C.next=C}}return{next:u}}function u(){return{value:B,done:!0}}return b.prototype=V,c(D,"constructor",V),c(V,"constructor",b),b.displayName=c(V,s,"GeneratorFunction"),Q.isGeneratorFunction=function(Q){var B="function"==typeof Q&&Q.constructor;return!!B&&(B===b||"GeneratorFunction"===(B.displayName||B.name))},Q.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,V):(Q.__proto__=V,c(Q,s,"GeneratorFunction")),Q.prototype=Object.create(D),Q},Q.awrap=function(Q){return{__await:Q}},m(E.prototype),c(E.prototype,C,(function(){return this})),Q.AsyncIterator=E,Q.async=function(B,F,U,g,I){void 0===I&&(I=Promise);var C=new E(l(B,F,U,g),I);return Q.isGeneratorFunction(F)?C:C.next().then((function(Q){return Q.done?Q.value:C.next()}))},m(D),c(D,s,"Generator"),c(D,I,(function(){return this})),c(D,"toString",(function(){return"[object Generator]"})),Q.keys=function(Q){var B=[];for(var F in Q)B.push(F);return B.reverse(),function F(){for(;B.length;){var U=B.pop();if(U in Q)return F.value=U,F.done=!1,F}return F.done=!0,F}},Q.values=n,X.prototype={constructor:X,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(i),!Q)for(var F in this)"t"===F.charAt(0)&&U.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=B)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var F=this;function g(U,g){return s.type="throw",s.arg=Q,F.next=U,g&&(F.method="next",F.arg=B),!!g}for(var I=this.tryEntries.length-1;I>=0;--I){var C=this.tryEntries[I],s=C.completion;if("root"===C.tryLoc)return g("end");if(C.tryLoc<=this.prev){var c=U.call(C,"catchLoc"),l=U.call(C,"finallyLoc");if(c&&l){if(this.prev<C.catchLoc)return g(C.catchLoc,!0);if(this.prev<C.finallyLoc)return g(C.finallyLoc)}else if(c){if(this.prev<C.catchLoc)return g(C.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<C.finallyLoc)return g(C.finallyLoc)}}}},abrupt:function(Q,B){for(var F=this.tryEntries.length-1;F>=0;--F){var g=this.tryEntries[F];if(g.tryLoc<=this.prev&&U.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var I=g;break}}I&&("break"===Q||"continue"===Q)&&I.tryLoc<=B&&B<=I.finallyLoc&&(I=null);var C=I?I.completion:{};return C.type=Q,C.arg=B,I?(this.method="next",this.next=I.finallyLoc,y):this.complete(C)},complete:function(Q,B){if("throw"===Q.type)throw Q.arg;return"break"===Q.type||"continue"===Q.type?this.next=Q.arg:"return"===Q.type?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):"normal"===Q.type&&B&&(this.next=B),y},finish:function(Q){for(var B=this.tryEntries.length-1;B>=0;--B){var F=this.tryEntries[B];if(F.finallyLoc===Q)return this.complete(F.completion,F.afterLoc),i(F),y}},catch:function(Q){for(var B=this.tryEntries.length-1;B>=0;--B){var F=this.tryEntries[B];if(F.tryLoc===Q){var U=F.completion;if("throw"===U.type){var g=U.arg;i(F)}return g}}throw new Error("illegal catch attempt")},delegateYield:function(Q,F,U){return this.delegate={iterator:n(Q),resultName:F,nextLoc:U},"next"===this.method&&(this.arg=B),y}},Q}(Q.exports);try{regeneratorRuntime=B}catch(Q){"object"==typeof globalThis?globalThis.regeneratorRuntime=B:Function("r","regeneratorRuntime = r")(B)}}(_);var $,QQ=_.exports,BQ={exports:{}},FQ="object"==typeof Reflect?Reflect:null,UQ=FQ&&"function"==typeof FQ.apply?FQ.apply:function(Q,B,F){return Function.prototype.apply.call(Q,B,F)};$=FQ&&"function"==typeof FQ.ownKeys?FQ.ownKeys:Object.getOwnPropertySymbols?function(Q){return Object.getOwnPropertyNames(Q).concat(Object.getOwnPropertySymbols(Q))}:function(Q){return Object.getOwnPropertyNames(Q)};var gQ=Number.isNaN||function(Q){return Q!=Q};function IQ(){IQ.init.call(this)}BQ.exports=IQ,BQ.exports.once=function(Q,B){return new Promise((function(F,U){function g(F){Q.removeListener(B,I),U(F)}function I(){"function"==typeof Q.removeListener&&Q.removeListener("error",g),F([].slice.call(arguments))}yQ(Q,B,I,{once:!0}),"error"!==B&&function(Q,B,F){"function"==typeof Q.on&&yQ(Q,"error",B,F)}(Q,g,{once:!0})}))},IQ.EventEmitter=IQ,IQ.prototype._events=void 0,IQ.prototype._eventsCount=0,IQ.prototype._maxListeners=void 0;var CQ=10;function sQ(Q){if("function"!=typeof Q)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Q)}function cQ(Q){return void 0===Q._maxListeners?IQ.defaultMaxListeners:Q._maxListeners}function lQ(Q,B,F,U){var g,I,C,s;if(sQ(F),void 0===(I=Q._events)?(I=Q._events=Object.create(null),Q._eventsCount=0):(void 0!==I.newListener&&(Q.emit("newListener",B,F.listener?F.listener:F),I=Q._events),C=I[B]),void 0===C)C=I[B]=F,++Q._eventsCount;else if("function"==typeof C?C=I[B]=U?[F,C]:[C,F]:U?C.unshift(F):C.push(F),(g=cQ(Q))>0&&C.length>g&&!C.warned){C.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=Q,c.type=B,c.count=C.length,s=c,console&&console.warn&&console.warn(s)}return Q}function SQ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ZQ(Q,B,F){var U={fired:!1,wrapFn:void 0,target:Q,type:B,listener:F},g=SQ.bind(U);return g.listener=F,U.wrapFn=g,g}function GQ(Q,B,F){var U=Q._events;if(void 0===U)return[];var g=U[B];return void 0===g?[]:"function"==typeof g?F?[g.listener||g]:[g]:F?function(Q){for(var B=new Array(Q.length),F=0;F<B.length;++F)B[F]=Q[F].listener||Q[F];return B}(g):xQ(g,g.length)}function LQ(Q){var B=this._events;if(void 0!==B){var F=B[Q];if("function"==typeof F)return 1;if(void 0!==F)return F.length}return 0}function xQ(Q,B){for(var F=new Array(B),U=0;U<B;++U)F[U]=Q[U];return F}function yQ(Q,B,F,U){if("function"==typeof Q.on)U.once?Q.once(B,F):Q.on(B,F);else{if("function"!=typeof Q.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Q);Q.addEventListener(B,(function g(I){U.once&&Q.removeEventListener(B,g),F(I)}))}}Object.defineProperty(IQ,"defaultMaxListeners",{enumerable:!0,get:function(){return CQ},set:function(Q){if("number"!=typeof Q||Q<0||gQ(Q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Q+".");CQ=Q}}),IQ.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},IQ.prototype.setMaxListeners=function(Q){if("number"!=typeof Q||Q<0||gQ(Q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Q+".");return this._maxListeners=Q,this},IQ.prototype.getMaxListeners=function(){return cQ(this)},IQ.prototype.emit=function(Q){for(var B=[],F=1;F<arguments.length;F++)B.push(arguments[F]);var U="error"===Q,g=this._events;if(void 0!==g)U=U&&void 0===g.error;else if(!U)return!1;if(U){var I;if(B.length>0&&(I=B[0]),I instanceof Error)throw I;var C=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw C.context=I,C}var s=g[Q];if(void 0===s)return!1;if("function"==typeof s)UQ(s,this,B);else{var c=s.length,l=xQ(s,c);for(F=0;F<c;++F)UQ(l[F],this,B)}return!0},IQ.prototype.addListener=function(Q,B){return lQ(this,Q,B,!1)},IQ.prototype.on=IQ.prototype.addListener,IQ.prototype.prependListener=function(Q,B){return lQ(this,Q,B,!0)},IQ.prototype.once=function(Q,B){return sQ(B),this.on(Q,ZQ(this,Q,B)),this},IQ.prototype.prependOnceListener=function(Q,B){return sQ(B),this.prependListener(Q,ZQ(this,Q,B)),this},IQ.prototype.removeListener=function(Q,B){var F,U,g,I,C;if(sQ(B),void 0===(U=this._events))return this;if(void 0===(F=U[Q]))return this;if(F===B||F.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete U[Q],U.removeListener&&this.emit("removeListener",Q,F.listener||B));else if("function"!=typeof F){for(g=-1,I=F.length-1;I>=0;I--)if(F[I]===B||F[I].listener===B){C=F[I].listener,g=I;break}if(g<0)return this;0===g?F.shift():function(Q,B){for(;B+1<Q.length;B++)Q[B]=Q[B+1];Q.pop()}(F,g),1===F.length&&(U[Q]=F[0]),void 0!==U.removeListener&&this.emit("removeListener",Q,C||B)}return this},IQ.prototype.off=IQ.prototype.removeListener,IQ.prototype.removeAllListeners=function(Q){var B,F,U;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[Q]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[Q]),this;if(0===arguments.length){var g,I=Object.keys(F);for(U=0;U<I.length;++U)"removeListener"!==(g=I[U])&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=F[Q]))this.removeListener(Q,B);else if(void 0!==B)for(U=B.length-1;U>=0;U--)this.removeListener(Q,B[U]);return this},IQ.prototype.listeners=function(Q){return GQ(this,Q,!0)},IQ.prototype.rawListeners=function(Q){return GQ(this,Q,!1)},IQ.listenerCount=function(Q,B){return"function"==typeof Q.listenerCount?Q.listenerCount(B):LQ.call(Q,B)},IQ.prototype.listenerCount=LQ,IQ.prototype.eventNames=function(){return this._eventsCount>0?$(this._events):[]};var dQ={exports:{}};!function(Q,B){function F(Q,B){if(!Q)throw new Error(B||"Assertion failed")}function U(Q,B){Q.super_=B;var F=function(){};F.prototype=B.prototype,Q.prototype=new F,Q.prototype.constructor=Q}function g(Q,B,F){if(g.isBN(Q))return Q;this.negative=0,this.words=null,this.length=0,this.red=null,null!==Q&&("le"!==B&&"be"!==B||(F=B,B=10),this._init(Q||0,B||10,F||"be"))}var I;"object"==typeof Q?Q.exports=g:B.BN=g,g.BN=g,g.wordSize=26;try{I="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(Q){}function C(Q,B){var F=Q.charCodeAt(B);return F>=65&&F<=70?F-55:F>=97&&F<=102?F-87:F-48&15}function s(Q,B,F){var U=C(Q,F);return F-1>=B&&(U|=C(Q,F-1)<<4),U}function c(Q,B,F,U){for(var g=0,I=Math.min(Q.length,F),C=B;C<I;C++){var s=Q.charCodeAt(C)-48;g*=U,g+=s>=49?s-49+10:s>=17?s-17+10:s}return g}g.isBN=function(Q){return Q instanceof g||null!==Q&&"object"==typeof Q&&Q.constructor.wordSize===g.wordSize&&Array.isArray(Q.words)},g.max=function(Q,B){return Q.cmp(B)>0?Q:B},g.min=function(Q,B){return Q.cmp(B)<0?Q:B},g.prototype._init=function(Q,B,U){if("number"==typeof Q)return this._initNumber(Q,B,U);if("object"==typeof Q)return this._initArray(Q,B,U);"hex"===B&&(B=16),F(B===(0|B)&&B>=2&&B<=36);var g=0;"-"===(Q=Q.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<Q.length&&(16===B?this._parseHex(Q,g,U):(this._parseBase(Q,B,g),"le"===U&&this._initArray(this.toArray(),B,U)))},g.prototype._initNumber=function(Q,B,U){Q<0&&(this.negative=1,Q=-Q),Q<67108864?(this.words=[67108863&Q],this.length=1):Q<4503599627370496?(this.words=[67108863&Q,Q/67108864&67108863],this.length=2):(F(Q<9007199254740992),this.words=[67108863&Q,Q/67108864&67108863,1],this.length=3),"le"===U&&this._initArray(this.toArray(),B,U)},g.prototype._initArray=function(Q,B,U){if(F("number"==typeof Q.length),Q.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Q.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var I,C,s=0;if("be"===U)for(g=Q.length-1,I=0;g>=0;g-=3)C=Q[g]|Q[g-1]<<8|Q[g-2]<<16,this.words[I]|=C<<s&67108863,this.words[I+1]=C>>>26-s&67108863,(s+=24)>=26&&(s-=26,I++);else if("le"===U)for(g=0,I=0;g<Q.length;g+=3)C=Q[g]|Q[g+1]<<8|Q[g+2]<<16,this.words[I]|=C<<s&67108863,this.words[I+1]=C>>>26-s&67108863,(s+=24)>=26&&(s-=26,I++);return this.strip()},g.prototype._parseHex=function(Q,B,F){this.length=Math.ceil((Q.length-B)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var g,I=0,C=0;if("be"===F)for(U=Q.length-1;U>=B;U-=2)g=s(Q,B,U)<<I,this.words[C]|=67108863&g,I>=18?(I-=18,C+=1,this.words[C]|=g>>>26):I+=8;else for(U=(Q.length-B)%2==0?B+1:B;U<Q.length;U+=2)g=s(Q,B,U)<<I,this.words[C]|=67108863&g,I>=18?(I-=18,C+=1,this.words[C]|=g>>>26):I+=8;this.strip()},g.prototype._parseBase=function(Q,B,F){this.words=[0],this.length=1;for(var U=0,g=1;g<=67108863;g*=B)U++;U--,g=g/B|0;for(var I=Q.length-F,C=I%U,s=Math.min(I,I-C)+F,l=0,S=F;S<s;S+=U)l=c(Q,S,S+U,B),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==C){var Z=1;for(l=c(Q,S,Q.length,B),S=0;S<C;S++)Z*=B;this.imuln(Z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(Q){Q.words=new Array(this.length);for(var B=0;B<this.length;B++)Q.words[B]=this.words[B];Q.length=this.length,Q.negative=this.negative,Q.red=this.red},g.prototype.clone=function(){var Q=new g(null);return this.copy(Q),Q},g.prototype._expand=function(Q){for(;this.length<Q;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(Q,B,F){F.negative=B.negative^Q.negative;var U=Q.length+B.length|0;F.length=U,U=U-1|0;var g=0|Q.words[0],I=0|B.words[0],C=g*I,s=67108863&C,c=C/67108864|0;F.words[0]=s;for(var l=1;l<U;l++){for(var S=c>>>26,Z=67108863&c,G=Math.min(l,B.length-1),L=Math.max(0,l-Q.length+1);L<=G;L++){var x=l-L|0;S+=(C=(g=0|Q.words[x])*(I=0|B.words[L])+Z)/67108864|0,Z=67108863&C}F.words[l]=0|Z,c=0|S}return 0!==c?F.words[l]=0|c:F.length--,F.strip()}g.prototype.toString=function(Q,B){var U;if(B=0|B||1,16===(Q=Q||10)||"hex"===Q){U="";for(var g=0,I=0,C=0;C<this.length;C++){var s=this.words[C],c=(16777215&(s<<g|I)).toString(16);U=0!=(I=s>>>24-g&16777215)||C!==this.length-1?l[6-c.length]+c+U:c+U,(g+=2)>=26&&(g-=26,C--)}for(0!==I&&(U=I.toString(16)+U);U.length%B!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}if(Q===(0|Q)&&Q>=2&&Q<=36){var G=S[Q],L=Z[Q];U="";var x=this.clone();for(x.negative=0;!x.isZero();){var y=x.modn(L).toString(Q);U=(x=x.idivn(L)).isZero()?y+U:l[G-y.length]+y+U}for(this.isZero()&&(U="0"+U);U.length%B!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}F(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var Q=this.words[0];return 2===this.length?Q+=67108864*this.words[1]:3===this.length&&1===this.words[2]?Q+=4503599627370496+67108864*this.words[1]:this.length>2&&F(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-Q:Q},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(Q,B){return F(void 0!==I),this.toArrayLike(I,Q,B)},g.prototype.toArray=function(Q,B){return this.toArrayLike(Array,Q,B)},g.prototype.toArrayLike=function(Q,B,U){var g=this.byteLength(),I=U||Math.max(1,g);F(g<=I,"byte array longer than desired length"),F(I>0,"Requested array length <= 0"),this.strip();var C,s,c="le"===B,l=new Q(I),S=this.clone();if(c){for(s=0;!S.isZero();s++)C=S.andln(255),S.iushrn(8),l[s]=C;for(;s<I;s++)l[s]=0}else{for(s=0;s<I-g;s++)l[s]=0;for(s=0;!S.isZero();s++)C=S.andln(255),S.iushrn(8),l[I-s-1]=C}return l},Math.clz32?g.prototype._countBits=function(Q){return 32-Math.clz32(Q)}:g.prototype._countBits=function(Q){var B=Q,F=0;return B>=4096&&(F+=13,B>>>=13),B>=64&&(F+=7,B>>>=7),B>=8&&(F+=4,B>>>=4),B>=2&&(F+=2,B>>>=2),F+B},g.prototype._zeroBits=function(Q){if(0===Q)return 26;var B=Q,F=0;return 0==(8191&B)&&(F+=13,B>>>=13),0==(127&B)&&(F+=7,B>>>=7),0==(15&B)&&(F+=4,B>>>=4),0==(3&B)&&(F+=2,B>>>=2),0==(1&B)&&F++,F},g.prototype.bitLength=function(){var Q=this.words[this.length-1],B=this._countBits(Q);return 26*(this.length-1)+B},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Q=0,B=0;B<this.length;B++){var F=this._zeroBits(this.words[B]);if(Q+=F,26!==F)break}return Q},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(Q){return 0!==this.negative?this.abs().inotn(Q).iaddn(1):this.clone()},g.prototype.fromTwos=function(Q){return this.testn(Q-1)?this.notn(Q).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(Q){for(;this.length<Q.length;)this.words[this.length++]=0;for(var B=0;B<Q.length;B++)this.words[B]=this.words[B]|Q.words[B];return this.strip()},g.prototype.ior=function(Q){return F(0==(this.negative|Q.negative)),this.iuor(Q)},g.prototype.or=function(Q){return this.length>Q.length?this.clone().ior(Q):Q.clone().ior(this)},g.prototype.uor=function(Q){return this.length>Q.length?this.clone().iuor(Q):Q.clone().iuor(this)},g.prototype.iuand=function(Q){var B;B=this.length>Q.length?Q:this;for(var F=0;F<B.length;F++)this.words[F]=this.words[F]&Q.words[F];return this.length=B.length,this.strip()},g.prototype.iand=function(Q){return F(0==(this.negative|Q.negative)),this.iuand(Q)},g.prototype.and=function(Q){return this.length>Q.length?this.clone().iand(Q):Q.clone().iand(this)},g.prototype.uand=function(Q){return this.length>Q.length?this.clone().iuand(Q):Q.clone().iuand(this)},g.prototype.iuxor=function(Q){var B,F;this.length>Q.length?(B=this,F=Q):(B=Q,F=this);for(var U=0;U<F.length;U++)this.words[U]=B.words[U]^F.words[U];if(this!==B)for(;U<B.length;U++)this.words[U]=B.words[U];return this.length=B.length,this.strip()},g.prototype.ixor=function(Q){return F(0==(this.negative|Q.negative)),this.iuxor(Q)},g.prototype.xor=function(Q){return this.length>Q.length?this.clone().ixor(Q):Q.clone().ixor(this)},g.prototype.uxor=function(Q){return this.length>Q.length?this.clone().iuxor(Q):Q.clone().iuxor(this)},g.prototype.inotn=function(Q){F("number"==typeof Q&&Q>=0);var B=0|Math.ceil(Q/26),U=Q%26;this._expand(B),U>0&&B--;for(var g=0;g<B;g++)this.words[g]=67108863&~this.words[g];return U>0&&(this.words[g]=~this.words[g]&67108863>>26-U),this.strip()},g.prototype.notn=function(Q){return this.clone().inotn(Q)},g.prototype.setn=function(Q,B){F("number"==typeof Q&&Q>=0);var U=Q/26|0,g=Q%26;return this._expand(U+1),this.words[U]=B?this.words[U]|1<<g:this.words[U]&~(1<<g),this.strip()},g.prototype.iadd=function(Q){var B,F,U;if(0!==this.negative&&0===Q.negative)return this.negative=0,B=this.isub(Q),this.negative^=1,this._normSign();if(0===this.negative&&0!==Q.negative)return Q.negative=0,B=this.isub(Q),Q.negative=1,B._normSign();this.length>Q.length?(F=this,U=Q):(F=Q,U=this);for(var g=0,I=0;I<U.length;I++)B=(0|F.words[I])+(0|U.words[I])+g,this.words[I]=67108863&B,g=B>>>26;for(;0!==g&&I<F.length;I++)B=(0|F.words[I])+g,this.words[I]=67108863&B,g=B>>>26;if(this.length=F.length,0!==g)this.words[this.length]=g,this.length++;else if(F!==this)for(;I<F.length;I++)this.words[I]=F.words[I];return this},g.prototype.add=function(Q){var B;return 0!==Q.negative&&0===this.negative?(Q.negative=0,B=this.sub(Q),Q.negative^=1,B):0===Q.negative&&0!==this.negative?(this.negative=0,B=Q.sub(this),this.negative=1,B):this.length>Q.length?this.clone().iadd(Q):Q.clone().iadd(this)},g.prototype.isub=function(Q){if(0!==Q.negative){Q.negative=0;var B=this.iadd(Q);return Q.negative=1,B._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(Q),this.negative=1,this._normSign();var F,U,g=this.cmp(Q);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(F=this,U=Q):(F=Q,U=this);for(var I=0,C=0;C<U.length;C++)I=(B=(0|F.words[C])-(0|U.words[C])+I)>>26,this.words[C]=67108863&B;for(;0!==I&&C<F.length;C++)I=(B=(0|F.words[C])+I)>>26,this.words[C]=67108863&B;if(0===I&&C<F.length&&F!==this)for(;C<F.length;C++)this.words[C]=F.words[C];return this.length=Math.max(this.length,C),F!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(Q){return this.clone().isub(Q)};var L=function(Q,B,F){var U,g,I,C=Q.words,s=B.words,c=F.words,l=0,S=0|C[0],Z=8191&S,G=S>>>13,L=0|C[1],x=8191&L,y=L>>>13,d=0|C[2],b=8191&d,V=d>>>13,N=0|C[3],R=8191&N,A=N>>>13,D=0|C[4],m=8191&D,E=D>>>13,J=0|C[5],t=8191&J,i=J>>>13,X=0|C[6],n=8191&X,u=X>>>13,H=0|C[7],W=8191&H,a=H>>>13,o=0|C[8],h=8191&o,Y=o>>>13,e=0|C[9],k=8191&e,p=e>>>13,M=0|s[0],T=8191&M,z=M>>>13,r=0|s[1],v=8191&r,w=r>>>13,K=0|s[2],O=8191&K,P=K>>>13,f=0|s[3],j=8191&f,q=f>>>13,_=0|s[4],$=8191&_,QQ=_>>>13,BQ=0|s[5],FQ=8191&BQ,UQ=BQ>>>13,gQ=0|s[6],IQ=8191&gQ,CQ=gQ>>>13,sQ=0|s[7],cQ=8191&sQ,lQ=sQ>>>13,SQ=0|s[8],ZQ=8191&SQ,GQ=SQ>>>13,LQ=0|s[9],xQ=8191&LQ,yQ=LQ>>>13;F.negative=Q.negative^B.negative,F.length=19;var dQ=(l+(U=Math.imul(Z,T))|0)+((8191&(g=(g=Math.imul(Z,z))+Math.imul(G,T)|0))<<13)|0;l=((I=Math.imul(G,z))+(g>>>13)|0)+(dQ>>>26)|0,dQ&=67108863,U=Math.imul(x,T),g=(g=Math.imul(x,z))+Math.imul(y,T)|0,I=Math.imul(y,z);var bQ=(l+(U=U+Math.imul(Z,v)|0)|0)+((8191&(g=(g=g+Math.imul(Z,w)|0)+Math.imul(G,v)|0))<<13)|0;l=((I=I+Math.imul(G,w)|0)+(g>>>13)|0)+(bQ>>>26)|0,bQ&=67108863,U=Math.imul(b,T),g=(g=Math.imul(b,z))+Math.imul(V,T)|0,I=Math.imul(V,z),U=U+Math.imul(x,v)|0,g=(g=g+Math.imul(x,w)|0)+Math.imul(y,v)|0,I=I+Math.imul(y,w)|0;var VQ=(l+(U=U+Math.imul(Z,O)|0)|0)+((8191&(g=(g=g+Math.imul(Z,P)|0)+Math.imul(G,O)|0))<<13)|0;l=((I=I+Math.imul(G,P)|0)+(g>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,U=Math.imul(R,T),g=(g=Math.imul(R,z))+Math.imul(A,T)|0,I=Math.imul(A,z),U=U+Math.imul(b,v)|0,g=(g=g+Math.imul(b,w)|0)+Math.imul(V,v)|0,I=I+Math.imul(V,w)|0,U=U+Math.imul(x,O)|0,g=(g=g+Math.imul(x,P)|0)+Math.imul(y,O)|0,I=I+Math.imul(y,P)|0;var NQ=(l+(U=U+Math.imul(Z,j)|0)|0)+((8191&(g=(g=g+Math.imul(Z,q)|0)+Math.imul(G,j)|0))<<13)|0;l=((I=I+Math.imul(G,q)|0)+(g>>>13)|0)+(NQ>>>26)|0,NQ&=67108863,U=Math.imul(m,T),g=(g=Math.imul(m,z))+Math.imul(E,T)|0,I=Math.imul(E,z),U=U+Math.imul(R,v)|0,g=(g=g+Math.imul(R,w)|0)+Math.imul(A,v)|0,I=I+Math.imul(A,w)|0,U=U+Math.imul(b,O)|0,g=(g=g+Math.imul(b,P)|0)+Math.imul(V,O)|0,I=I+Math.imul(V,P)|0,U=U+Math.imul(x,j)|0,g=(g=g+Math.imul(x,q)|0)+Math.imul(y,j)|0,I=I+Math.imul(y,q)|0;var RQ=(l+(U=U+Math.imul(Z,$)|0)|0)+((8191&(g=(g=g+Math.imul(Z,QQ)|0)+Math.imul(G,$)|0))<<13)|0;l=((I=I+Math.imul(G,QQ)|0)+(g>>>13)|0)+(RQ>>>26)|0,RQ&=67108863,U=Math.imul(t,T),g=(g=Math.imul(t,z))+Math.imul(i,T)|0,I=Math.imul(i,z),U=U+Math.imul(m,v)|0,g=(g=g+Math.imul(m,w)|0)+Math.imul(E,v)|0,I=I+Math.imul(E,w)|0,U=U+Math.imul(R,O)|0,g=(g=g+Math.imul(R,P)|0)+Math.imul(A,O)|0,I=I+Math.imul(A,P)|0,U=U+Math.imul(b,j)|0,g=(g=g+Math.imul(b,q)|0)+Math.imul(V,j)|0,I=I+Math.imul(V,q)|0,U=U+Math.imul(x,$)|0,g=(g=g+Math.imul(x,QQ)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,QQ)|0;var AQ=(l+(U=U+Math.imul(Z,FQ)|0)|0)+((8191&(g=(g=g+Math.imul(Z,UQ)|0)+Math.imul(G,FQ)|0))<<13)|0;l=((I=I+Math.imul(G,UQ)|0)+(g>>>13)|0)+(AQ>>>26)|0,AQ&=67108863,U=Math.imul(n,T),g=(g=Math.imul(n,z))+Math.imul(u,T)|0,I=Math.imul(u,z),U=U+Math.imul(t,v)|0,g=(g=g+Math.imul(t,w)|0)+Math.imul(i,v)|0,I=I+Math.imul(i,w)|0,U=U+Math.imul(m,O)|0,g=(g=g+Math.imul(m,P)|0)+Math.imul(E,O)|0,I=I+Math.imul(E,P)|0,U=U+Math.imul(R,j)|0,g=(g=g+Math.imul(R,q)|0)+Math.imul(A,j)|0,I=I+Math.imul(A,q)|0,U=U+Math.imul(b,$)|0,g=(g=g+Math.imul(b,QQ)|0)+Math.imul(V,$)|0,I=I+Math.imul(V,QQ)|0,U=U+Math.imul(x,FQ)|0,g=(g=g+Math.imul(x,UQ)|0)+Math.imul(y,FQ)|0,I=I+Math.imul(y,UQ)|0;var DQ=(l+(U=U+Math.imul(Z,IQ)|0)|0)+((8191&(g=(g=g+Math.imul(Z,CQ)|0)+Math.imul(G,IQ)|0))<<13)|0;l=((I=I+Math.imul(G,CQ)|0)+(g>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,U=Math.imul(W,T),g=(g=Math.imul(W,z))+Math.imul(a,T)|0,I=Math.imul(a,z),U=U+Math.imul(n,v)|0,g=(g=g+Math.imul(n,w)|0)+Math.imul(u,v)|0,I=I+Math.imul(u,w)|0,U=U+Math.imul(t,O)|0,g=(g=g+Math.imul(t,P)|0)+Math.imul(i,O)|0,I=I+Math.imul(i,P)|0,U=U+Math.imul(m,j)|0,g=(g=g+Math.imul(m,q)|0)+Math.imul(E,j)|0,I=I+Math.imul(E,q)|0,U=U+Math.imul(R,$)|0,g=(g=g+Math.imul(R,QQ)|0)+Math.imul(A,$)|0,I=I+Math.imul(A,QQ)|0,U=U+Math.imul(b,FQ)|0,g=(g=g+Math.imul(b,UQ)|0)+Math.imul(V,FQ)|0,I=I+Math.imul(V,UQ)|0,U=U+Math.imul(x,IQ)|0,g=(g=g+Math.imul(x,CQ)|0)+Math.imul(y,IQ)|0,I=I+Math.imul(y,CQ)|0;var mQ=(l+(U=U+Math.imul(Z,cQ)|0)|0)+((8191&(g=(g=g+Math.imul(Z,lQ)|0)+Math.imul(G,cQ)|0))<<13)|0;l=((I=I+Math.imul(G,lQ)|0)+(g>>>13)|0)+(mQ>>>26)|0,mQ&=67108863,U=Math.imul(h,T),g=(g=Math.imul(h,z))+Math.imul(Y,T)|0,I=Math.imul(Y,z),U=U+Math.imul(W,v)|0,g=(g=g+Math.imul(W,w)|0)+Math.imul(a,v)|0,I=I+Math.imul(a,w)|0,U=U+Math.imul(n,O)|0,g=(g=g+Math.imul(n,P)|0)+Math.imul(u,O)|0,I=I+Math.imul(u,P)|0,U=U+Math.imul(t,j)|0,g=(g=g+Math.imul(t,q)|0)+Math.imul(i,j)|0,I=I+Math.imul(i,q)|0,U=U+Math.imul(m,$)|0,g=(g=g+Math.imul(m,QQ)|0)+Math.imul(E,$)|0,I=I+Math.imul(E,QQ)|0,U=U+Math.imul(R,FQ)|0,g=(g=g+Math.imul(R,UQ)|0)+Math.imul(A,FQ)|0,I=I+Math.imul(A,UQ)|0,U=U+Math.imul(b,IQ)|0,g=(g=g+Math.imul(b,CQ)|0)+Math.imul(V,IQ)|0,I=I+Math.imul(V,CQ)|0,U=U+Math.imul(x,cQ)|0,g=(g=g+Math.imul(x,lQ)|0)+Math.imul(y,cQ)|0,I=I+Math.imul(y,lQ)|0;var EQ=(l+(U=U+Math.imul(Z,ZQ)|0)|0)+((8191&(g=(g=g+Math.imul(Z,GQ)|0)+Math.imul(G,ZQ)|0))<<13)|0;l=((I=I+Math.imul(G,GQ)|0)+(g>>>13)|0)+(EQ>>>26)|0,EQ&=67108863,U=Math.imul(k,T),g=(g=Math.imul(k,z))+Math.imul(p,T)|0,I=Math.imul(p,z),U=U+Math.imul(h,v)|0,g=(g=g+Math.imul(h,w)|0)+Math.imul(Y,v)|0,I=I+Math.imul(Y,w)|0,U=U+Math.imul(W,O)|0,g=(g=g+Math.imul(W,P)|0)+Math.imul(a,O)|0,I=I+Math.imul(a,P)|0,U=U+Math.imul(n,j)|0,g=(g=g+Math.imul(n,q)|0)+Math.imul(u,j)|0,I=I+Math.imul(u,q)|0,U=U+Math.imul(t,$)|0,g=(g=g+Math.imul(t,QQ)|0)+Math.imul(i,$)|0,I=I+Math.imul(i,QQ)|0,U=U+Math.imul(m,FQ)|0,g=(g=g+Math.imul(m,UQ)|0)+Math.imul(E,FQ)|0,I=I+Math.imul(E,UQ)|0,U=U+Math.imul(R,IQ)|0,g=(g=g+Math.imul(R,CQ)|0)+Math.imul(A,IQ)|0,I=I+Math.imul(A,CQ)|0,U=U+Math.imul(b,cQ)|0,g=(g=g+Math.imul(b,lQ)|0)+Math.imul(V,cQ)|0,I=I+Math.imul(V,lQ)|0,U=U+Math.imul(x,ZQ)|0,g=(g=g+Math.imul(x,GQ)|0)+Math.imul(y,ZQ)|0,I=I+Math.imul(y,GQ)|0;var JQ=(l+(U=U+Math.imul(Z,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(Z,yQ)|0)+Math.imul(G,xQ)|0))<<13)|0;l=((I=I+Math.imul(G,yQ)|0)+(g>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,U=Math.imul(k,v),g=(g=Math.imul(k,w))+Math.imul(p,v)|0,I=Math.imul(p,w),U=U+Math.imul(h,O)|0,g=(g=g+Math.imul(h,P)|0)+Math.imul(Y,O)|0,I=I+Math.imul(Y,P)|0,U=U+Math.imul(W,j)|0,g=(g=g+Math.imul(W,q)|0)+Math.imul(a,j)|0,I=I+Math.imul(a,q)|0,U=U+Math.imul(n,$)|0,g=(g=g+Math.imul(n,QQ)|0)+Math.imul(u,$)|0,I=I+Math.imul(u,QQ)|0,U=U+Math.imul(t,FQ)|0,g=(g=g+Math.imul(t,UQ)|0)+Math.imul(i,FQ)|0,I=I+Math.imul(i,UQ)|0,U=U+Math.imul(m,IQ)|0,g=(g=g+Math.imul(m,CQ)|0)+Math.imul(E,IQ)|0,I=I+Math.imul(E,CQ)|0,U=U+Math.imul(R,cQ)|0,g=(g=g+Math.imul(R,lQ)|0)+Math.imul(A,cQ)|0,I=I+Math.imul(A,lQ)|0,U=U+Math.imul(b,ZQ)|0,g=(g=g+Math.imul(b,GQ)|0)+Math.imul(V,ZQ)|0,I=I+Math.imul(V,GQ)|0;var tQ=(l+(U=U+Math.imul(x,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(x,yQ)|0)+Math.imul(y,xQ)|0))<<13)|0;l=((I=I+Math.imul(y,yQ)|0)+(g>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,U=Math.imul(k,O),g=(g=Math.imul(k,P))+Math.imul(p,O)|0,I=Math.imul(p,P),U=U+Math.imul(h,j)|0,g=(g=g+Math.imul(h,q)|0)+Math.imul(Y,j)|0,I=I+Math.imul(Y,q)|0,U=U+Math.imul(W,$)|0,g=(g=g+Math.imul(W,QQ)|0)+Math.imul(a,$)|0,I=I+Math.imul(a,QQ)|0,U=U+Math.imul(n,FQ)|0,g=(g=g+Math.imul(n,UQ)|0)+Math.imul(u,FQ)|0,I=I+Math.imul(u,UQ)|0,U=U+Math.imul(t,IQ)|0,g=(g=g+Math.imul(t,CQ)|0)+Math.imul(i,IQ)|0,I=I+Math.imul(i,CQ)|0,U=U+Math.imul(m,cQ)|0,g=(g=g+Math.imul(m,lQ)|0)+Math.imul(E,cQ)|0,I=I+Math.imul(E,lQ)|0,U=U+Math.imul(R,ZQ)|0,g=(g=g+Math.imul(R,GQ)|0)+Math.imul(A,ZQ)|0,I=I+Math.imul(A,GQ)|0;var iQ=(l+(U=U+Math.imul(b,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(b,yQ)|0)+Math.imul(V,xQ)|0))<<13)|0;l=((I=I+Math.imul(V,yQ)|0)+(g>>>13)|0)+(iQ>>>26)|0,iQ&=67108863,U=Math.imul(k,j),g=(g=Math.imul(k,q))+Math.imul(p,j)|0,I=Math.imul(p,q),U=U+Math.imul(h,$)|0,g=(g=g+Math.imul(h,QQ)|0)+Math.imul(Y,$)|0,I=I+Math.imul(Y,QQ)|0,U=U+Math.imul(W,FQ)|0,g=(g=g+Math.imul(W,UQ)|0)+Math.imul(a,FQ)|0,I=I+Math.imul(a,UQ)|0,U=U+Math.imul(n,IQ)|0,g=(g=g+Math.imul(n,CQ)|0)+Math.imul(u,IQ)|0,I=I+Math.imul(u,CQ)|0,U=U+Math.imul(t,cQ)|0,g=(g=g+Math.imul(t,lQ)|0)+Math.imul(i,cQ)|0,I=I+Math.imul(i,lQ)|0,U=U+Math.imul(m,ZQ)|0,g=(g=g+Math.imul(m,GQ)|0)+Math.imul(E,ZQ)|0,I=I+Math.imul(E,GQ)|0;var XQ=(l+(U=U+Math.imul(R,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(R,yQ)|0)+Math.imul(A,xQ)|0))<<13)|0;l=((I=I+Math.imul(A,yQ)|0)+(g>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,U=Math.imul(k,$),g=(g=Math.imul(k,QQ))+Math.imul(p,$)|0,I=Math.imul(p,QQ),U=U+Math.imul(h,FQ)|0,g=(g=g+Math.imul(h,UQ)|0)+Math.imul(Y,FQ)|0,I=I+Math.imul(Y,UQ)|0,U=U+Math.imul(W,IQ)|0,g=(g=g+Math.imul(W,CQ)|0)+Math.imul(a,IQ)|0,I=I+Math.imul(a,CQ)|0,U=U+Math.imul(n,cQ)|0,g=(g=g+Math.imul(n,lQ)|0)+Math.imul(u,cQ)|0,I=I+Math.imul(u,lQ)|0,U=U+Math.imul(t,ZQ)|0,g=(g=g+Math.imul(t,GQ)|0)+Math.imul(i,ZQ)|0,I=I+Math.imul(i,GQ)|0;var nQ=(l+(U=U+Math.imul(m,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(m,yQ)|0)+Math.imul(E,xQ)|0))<<13)|0;l=((I=I+Math.imul(E,yQ)|0)+(g>>>13)|0)+(nQ>>>26)|0,nQ&=67108863,U=Math.imul(k,FQ),g=(g=Math.imul(k,UQ))+Math.imul(p,FQ)|0,I=Math.imul(p,UQ),U=U+Math.imul(h,IQ)|0,g=(g=g+Math.imul(h,CQ)|0)+Math.imul(Y,IQ)|0,I=I+Math.imul(Y,CQ)|0,U=U+Math.imul(W,cQ)|0,g=(g=g+Math.imul(W,lQ)|0)+Math.imul(a,cQ)|0,I=I+Math.imul(a,lQ)|0,U=U+Math.imul(n,ZQ)|0,g=(g=g+Math.imul(n,GQ)|0)+Math.imul(u,ZQ)|0,I=I+Math.imul(u,GQ)|0;var uQ=(l+(U=U+Math.imul(t,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(t,yQ)|0)+Math.imul(i,xQ)|0))<<13)|0;l=((I=I+Math.imul(i,yQ)|0)+(g>>>13)|0)+(uQ>>>26)|0,uQ&=67108863,U=Math.imul(k,IQ),g=(g=Math.imul(k,CQ))+Math.imul(p,IQ)|0,I=Math.imul(p,CQ),U=U+Math.imul(h,cQ)|0,g=(g=g+Math.imul(h,lQ)|0)+Math.imul(Y,cQ)|0,I=I+Math.imul(Y,lQ)|0,U=U+Math.imul(W,ZQ)|0,g=(g=g+Math.imul(W,GQ)|0)+Math.imul(a,ZQ)|0,I=I+Math.imul(a,GQ)|0;var HQ=(l+(U=U+Math.imul(n,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(n,yQ)|0)+Math.imul(u,xQ)|0))<<13)|0;l=((I=I+Math.imul(u,yQ)|0)+(g>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,U=Math.imul(k,cQ),g=(g=Math.imul(k,lQ))+Math.imul(p,cQ)|0,I=Math.imul(p,lQ),U=U+Math.imul(h,ZQ)|0,g=(g=g+Math.imul(h,GQ)|0)+Math.imul(Y,ZQ)|0,I=I+Math.imul(Y,GQ)|0;var WQ=(l+(U=U+Math.imul(W,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(W,yQ)|0)+Math.imul(a,xQ)|0))<<13)|0;l=((I=I+Math.imul(a,yQ)|0)+(g>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,U=Math.imul(k,ZQ),g=(g=Math.imul(k,GQ))+Math.imul(p,ZQ)|0,I=Math.imul(p,GQ);var aQ=(l+(U=U+Math.imul(h,xQ)|0)|0)+((8191&(g=(g=g+Math.imul(h,yQ)|0)+Math.imul(Y,xQ)|0))<<13)|0;l=((I=I+Math.imul(Y,yQ)|0)+(g>>>13)|0)+(aQ>>>26)|0,aQ&=67108863;var oQ=(l+(U=Math.imul(k,xQ))|0)+((8191&(g=(g=Math.imul(k,yQ))+Math.imul(p,xQ)|0))<<13)|0;return l=((I=Math.imul(p,yQ))+(g>>>13)|0)+(oQ>>>26)|0,oQ&=67108863,c[0]=dQ,c[1]=bQ,c[2]=VQ,c[3]=NQ,c[4]=RQ,c[5]=AQ,c[6]=DQ,c[7]=mQ,c[8]=EQ,c[9]=JQ,c[10]=tQ,c[11]=iQ,c[12]=XQ,c[13]=nQ,c[14]=uQ,c[15]=HQ,c[16]=WQ,c[17]=aQ,c[18]=oQ,0!==l&&(c[19]=l,F.length++),F};function x(Q,B,F){return(new y).mulp(Q,B,F)}function y(Q,B){this.x=Q,this.y=B}Math.imul||(L=G),g.prototype.mulTo=function(Q,B){var F,U=this.length+Q.length;return F=10===this.length&&10===Q.length?L(this,Q,B):U<63?G(this,Q,B):U<1024?function(Q,B,F){F.negative=B.negative^Q.negative,F.length=Q.length+B.length;for(var U=0,g=0,I=0;I<F.length-1;I++){var C=g;g=0;for(var s=67108863&U,c=Math.min(I,B.length-1),l=Math.max(0,I-Q.length+1);l<=c;l++){var S=I-l,Z=(0|Q.words[S])*(0|B.words[l]),G=67108863&Z;s=67108863&(G=G+s|0),g+=(C=(C=C+(Z/67108864|0)|0)+(G>>>26)|0)>>>26,C&=67108863}F.words[I]=s,U=C,C=g}return 0!==U?F.words[I]=U:F.length--,F.strip()}(this,Q,B):x(this,Q,B),F},y.prototype.makeRBT=function(Q){for(var B=new Array(Q),F=g.prototype._countBits(Q)-1,U=0;U<Q;U++)B[U]=this.revBin(U,F,Q);return B},y.prototype.revBin=function(Q,B,F){if(0===Q||Q===F-1)return Q;for(var U=0,g=0;g<B;g++)U|=(1&Q)<<B-g-1,Q>>=1;return U},y.prototype.permute=function(Q,B,F,U,g,I){for(var C=0;C<I;C++)U[C]=B[Q[C]],g[C]=F[Q[C]]},y.prototype.transform=function(Q,B,F,U,g,I){this.permute(I,Q,B,F,U,g);for(var C=1;C<g;C<<=1)for(var s=C<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),S=0;S<g;S+=s)for(var Z=c,G=l,L=0;L<C;L++){var x=F[S+L],y=U[S+L],d=F[S+L+C],b=U[S+L+C],V=Z*d-G*b;b=Z*b+G*d,d=V,F[S+L]=x+d,U[S+L]=y+b,F[S+L+C]=x-d,U[S+L+C]=y-b,L!==s&&(V=c*Z-l*G,G=c*G+l*Z,Z=V)}},y.prototype.guessLen13b=function(Q,B){var F=1|Math.max(B,Q),U=1&F,g=0;for(F=F/2|0;F;F>>>=1)g++;return 1<<g+1+U},y.prototype.conjugate=function(Q,B,F){if(!(F<=1))for(var U=0;U<F/2;U++){var g=Q[U];Q[U]=Q[F-U-1],Q[F-U-1]=g,g=B[U],B[U]=-B[F-U-1],B[F-U-1]=-g}},y.prototype.normalize13b=function(Q,B){for(var F=0,U=0;U<B/2;U++){var g=8192*Math.round(Q[2*U+1]/B)+Math.round(Q[2*U]/B)+F;Q[U]=67108863&g,F=g<67108864?0:g/67108864|0}return Q},y.prototype.convert13b=function(Q,B,U,g){for(var I=0,C=0;C<B;C++)I+=0|Q[C],U[2*C]=8191&I,I>>>=13,U[2*C+1]=8191&I,I>>>=13;for(C=2*B;C<g;++C)U[C]=0;F(0===I),F(0==(-8192&I))},y.prototype.stub=function(Q){for(var B=new Array(Q),F=0;F<Q;F++)B[F]=0;return B},y.prototype.mulp=function(Q,B,F){var U=2*this.guessLen13b(Q.length,B.length),g=this.makeRBT(U),I=this.stub(U),C=new Array(U),s=new Array(U),c=new Array(U),l=new Array(U),S=new Array(U),Z=new Array(U),G=F.words;G.length=U,this.convert13b(Q.words,Q.length,C,U),this.convert13b(B.words,B.length,l,U),this.transform(C,I,s,c,U,g),this.transform(l,I,S,Z,U,g);for(var L=0;L<U;L++){var x=s[L]*S[L]-c[L]*Z[L];c[L]=s[L]*Z[L]+c[L]*S[L],s[L]=x}return this.conjugate(s,c,U),this.transform(s,c,G,I,U,g),this.conjugate(G,I,U),this.normalize13b(G,U),F.negative=Q.negative^B.negative,F.length=Q.length+B.length,F.strip()},g.prototype.mul=function(Q){var B=new g(null);return B.words=new Array(this.length+Q.length),this.mulTo(Q,B)},g.prototype.mulf=function(Q){var B=new g(null);return B.words=new Array(this.length+Q.length),x(this,Q,B)},g.prototype.imul=function(Q){return this.clone().mulTo(Q,this)},g.prototype.imuln=function(Q){F("number"==typeof Q),F(Q<67108864);for(var B=0,U=0;U<this.length;U++){var g=(0|this.words[U])*Q,I=(67108863&g)+(67108863&B);B>>=26,B+=g/67108864|0,B+=I>>>26,this.words[U]=67108863&I}return 0!==B&&(this.words[U]=B,this.length++),this},g.prototype.muln=function(Q){return this.clone().imuln(Q)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(Q){var B=function(Q){for(var B=new Array(Q.bitLength()),F=0;F<B.length;F++){var U=F/26|0,g=F%26;B[F]=(Q.words[U]&1<<g)>>>g}return B}(Q);if(0===B.length)return new g(1);for(var F=this,U=0;U<B.length&&0===B[U];U++,F=F.sqr());if(++U<B.length)for(var I=F.sqr();U<B.length;U++,I=I.sqr())0!==B[U]&&(F=F.mul(I));return F},g.prototype.iushln=function(Q){F("number"==typeof Q&&Q>=0);var B,U=Q%26,g=(Q-U)/26,I=67108863>>>26-U<<26-U;if(0!==U){var C=0;for(B=0;B<this.length;B++){var s=this.words[B]&I,c=(0|this.words[B])-s<<U;this.words[B]=c|C,C=s>>>26-U}C&&(this.words[B]=C,this.length++)}if(0!==g){for(B=this.length-1;B>=0;B--)this.words[B+g]=this.words[B];for(B=0;B<g;B++)this.words[B]=0;this.length+=g}return this.strip()},g.prototype.ishln=function(Q){return F(0===this.negative),this.iushln(Q)},g.prototype.iushrn=function(Q,B,U){var g;F("number"==typeof Q&&Q>=0),g=B?(B-B%26)/26:0;var I=Q%26,C=Math.min((Q-I)/26,this.length),s=67108863^67108863>>>I<<I,c=U;if(g-=C,g=Math.max(0,g),c){for(var l=0;l<C;l++)c.words[l]=this.words[l];c.length=C}if(0===C);else if(this.length>C)for(this.length-=C,l=0;l<this.length;l++)this.words[l]=this.words[l+C];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(0!==S||l>=g);l--){var Z=0|this.words[l];this.words[l]=S<<26-I|Z>>>I,S=Z&s}return c&&0!==S&&(c.words[c.length++]=S),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(Q,B,U){return F(0===this.negative),this.iushrn(Q,B,U)},g.prototype.shln=function(Q){return this.clone().ishln(Q)},g.prototype.ushln=function(Q){return this.clone().iushln(Q)},g.prototype.shrn=function(Q){return this.clone().ishrn(Q)},g.prototype.ushrn=function(Q){return this.clone().iushrn(Q)},g.prototype.testn=function(Q){F("number"==typeof Q&&Q>=0);var B=Q%26,U=(Q-B)/26,g=1<<B;return!(this.length<=U||!(this.words[U]&g))},g.prototype.imaskn=function(Q){F("number"==typeof Q&&Q>=0);var B=Q%26,U=(Q-B)/26;if(F(0===this.negative,"imaskn works only with positive numbers"),this.length<=U)return this;if(0!==B&&U++,this.length=Math.min(U,this.length),0!==B){var g=67108863^67108863>>>B<<B;this.words[this.length-1]&=g}return this.strip()},g.prototype.maskn=function(Q){return this.clone().imaskn(Q)},g.prototype.iaddn=function(Q){return F("number"==typeof Q),F(Q<67108864),Q<0?this.isubn(-Q):0!==this.negative?1===this.length&&(0|this.words[0])<Q?(this.words[0]=Q-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(Q),this.negative=1,this):this._iaddn(Q)},g.prototype._iaddn=function(Q){this.words[0]+=Q;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},g.prototype.isubn=function(Q){if(F("number"==typeof Q),F(Q<67108864),Q<0)return this.iaddn(-Q);if(0!==this.negative)return this.negative=0,this.iaddn(Q),this.negative=1,this;if(this.words[0]-=Q,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},g.prototype.addn=function(Q){return this.clone().iaddn(Q)},g.prototype.subn=function(Q){return this.clone().isubn(Q)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(Q,B,U){var g,I,C=Q.length+U;this._expand(C);var s=0;for(g=0;g<Q.length;g++){I=(0|this.words[g+U])+s;var c=(0|Q.words[g])*B;s=((I-=67108863&c)>>26)-(c/67108864|0),this.words[g+U]=67108863&I}for(;g<this.length-U;g++)s=(I=(0|this.words[g+U])+s)>>26,this.words[g+U]=67108863&I;if(0===s)return this.strip();for(F(-1===s),s=0,g=0;g<this.length;g++)s=(I=-(0|this.words[g])+s)>>26,this.words[g]=67108863&I;return this.negative=1,this.strip()},g.prototype._wordDiv=function(Q,B){var F=(this.length,Q.length),U=this.clone(),I=Q,C=0|I.words[I.length-1];0!=(F=26-this._countBits(C))&&(I=I.ushln(F),U.iushln(F),C=0|I.words[I.length-1]);var s,c=U.length-I.length;if("mod"!==B){(s=new g(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var S=U.clone()._ishlnsubmul(I,1,c);0===S.negative&&(U=S,s&&(s.words[c]=1));for(var Z=c-1;Z>=0;Z--){var G=67108864*(0|U.words[I.length+Z])+(0|U.words[I.length+Z-1]);for(G=Math.min(G/C|0,67108863),U._ishlnsubmul(I,G,Z);0!==U.negative;)G--,U.negative=0,U._ishlnsubmul(I,1,Z),U.isZero()||(U.negative^=1);s&&(s.words[Z]=G)}return s&&s.strip(),U.strip(),"div"!==B&&0!==F&&U.iushrn(F),{div:s||null,mod:U}},g.prototype.divmod=function(Q,B,U){return F(!Q.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===Q.negative?(s=this.neg().divmod(Q,B),"mod"!==B&&(I=s.div.neg()),"div"!==B&&(C=s.mod.neg(),U&&0!==C.negative&&C.iadd(Q)),{div:I,mod:C}):0===this.negative&&0!==Q.negative?(s=this.divmod(Q.neg(),B),"mod"!==B&&(I=s.div.neg()),{div:I,mod:s.mod}):0!=(this.negative&Q.negative)?(s=this.neg().divmod(Q.neg(),B),"div"!==B&&(C=s.mod.neg(),U&&0!==C.negative&&C.isub(Q)),{div:s.div,mod:C}):Q.length>this.length||this.cmp(Q)<0?{div:new g(0),mod:this}:1===Q.length?"div"===B?{div:this.divn(Q.words[0]),mod:null}:"mod"===B?{div:null,mod:new g(this.modn(Q.words[0]))}:{div:this.divn(Q.words[0]),mod:new g(this.modn(Q.words[0]))}:this._wordDiv(Q,B);var I,C,s},g.prototype.div=function(Q){return this.divmod(Q,"div",!1).div},g.prototype.mod=function(Q){return this.divmod(Q,"mod",!1).mod},g.prototype.umod=function(Q){return this.divmod(Q,"mod",!0).mod},g.prototype.divRound=function(Q){var B=this.divmod(Q);if(B.mod.isZero())return B.div;var F=0!==B.div.negative?B.mod.isub(Q):B.mod,U=Q.ushrn(1),g=Q.andln(1),I=F.cmp(U);return I<0||1===g&&0===I?B.div:0!==B.div.negative?B.div.isubn(1):B.div.iaddn(1)},g.prototype.modn=function(Q){F(Q<=67108863);for(var B=(1<<26)%Q,U=0,g=this.length-1;g>=0;g--)U=(B*U+(0|this.words[g]))%Q;return U},g.prototype.idivn=function(Q){F(Q<=67108863);for(var B=0,U=this.length-1;U>=0;U--){var g=(0|this.words[U])+67108864*B;this.words[U]=g/Q|0,B=g%Q}return this.strip()},g.prototype.divn=function(Q){return this.clone().idivn(Q)},g.prototype.egcd=function(Q){F(0===Q.negative),F(!Q.isZero());var B=this,U=Q.clone();B=0!==B.negative?B.umod(Q):B.clone();for(var I=new g(1),C=new g(0),s=new g(0),c=new g(1),l=0;B.isEven()&&U.isEven();)B.iushrn(1),U.iushrn(1),++l;for(var S=U.clone(),Z=B.clone();!B.isZero();){for(var G=0,L=1;0==(B.words[0]&L)&&G<26;++G,L<<=1);if(G>0)for(B.iushrn(G);G-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(S),C.isub(Z)),I.iushrn(1),C.iushrn(1);for(var x=0,y=1;0==(U.words[0]&y)&&x<26;++x,y<<=1);if(x>0)for(U.iushrn(x);x-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(S),c.isub(Z)),s.iushrn(1),c.iushrn(1);B.cmp(U)>=0?(B.isub(U),I.isub(s),C.isub(c)):(U.isub(B),s.isub(I),c.isub(C))}return{a:s,b:c,gcd:U.iushln(l)}},g.prototype._invmp=function(Q){F(0===Q.negative),F(!Q.isZero());var B=this,U=Q.clone();B=0!==B.negative?B.umod(Q):B.clone();for(var I,C=new g(1),s=new g(0),c=U.clone();B.cmpn(1)>0&&U.cmpn(1)>0;){for(var l=0,S=1;0==(B.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(B.iushrn(l);l-- >0;)C.isOdd()&&C.iadd(c),C.iushrn(1);for(var Z=0,G=1;0==(U.words[0]&G)&&Z<26;++Z,G<<=1);if(Z>0)for(U.iushrn(Z);Z-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);B.cmp(U)>=0?(B.isub(U),C.isub(s)):(U.isub(B),s.isub(C))}return(I=0===B.cmpn(1)?C:s).cmpn(0)<0&&I.iadd(Q),I},g.prototype.gcd=function(Q){if(this.isZero())return Q.abs();if(Q.isZero())return this.abs();var B=this.clone(),F=Q.clone();B.negative=0,F.negative=0;for(var U=0;B.isEven()&&F.isEven();U++)B.iushrn(1),F.iushrn(1);for(;;){for(;B.isEven();)B.iushrn(1);for(;F.isEven();)F.iushrn(1);var g=B.cmp(F);if(g<0){var I=B;B=F,F=I}else if(0===g||0===F.cmpn(1))break;B.isub(F)}return F.iushln(U)},g.prototype.invm=function(Q){return this.egcd(Q).a.umod(Q)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(Q){return this.words[0]&Q},g.prototype.bincn=function(Q){F("number"==typeof Q);var B=Q%26,U=(Q-B)/26,g=1<<B;if(this.length<=U)return this._expand(U+1),this.words[U]|=g,this;for(var I=g,C=U;0!==I&&C<this.length;C++){var s=0|this.words[C];I=(s+=I)>>>26,s&=67108863,this.words[C]=s}return 0!==I&&(this.words[C]=I,this.length++),this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(Q){var B,U=Q<0;if(0!==this.negative&&!U)return-1;if(0===this.negative&&U)return 1;if(this.strip(),this.length>1)B=1;else{U&&(Q=-Q),F(Q<=67108863,"Number is too big");var g=0|this.words[0];B=g===Q?0:g<Q?-1:1}return 0!==this.negative?0|-B:B},g.prototype.cmp=function(Q){if(0!==this.negative&&0===Q.negative)return-1;if(0===this.negative&&0!==Q.negative)return 1;var B=this.ucmp(Q);return 0!==this.negative?0|-B:B},g.prototype.ucmp=function(Q){if(this.length>Q.length)return 1;if(this.length<Q.length)return-1;for(var B=0,F=this.length-1;F>=0;F--){var U=0|this.words[F],g=0|Q.words[F];if(U!==g){U<g?B=-1:U>g&&(B=1);break}}return B},g.prototype.gtn=function(Q){return 1===this.cmpn(Q)},g.prototype.gt=function(Q){return 1===this.cmp(Q)},g.prototype.gten=function(Q){return this.cmpn(Q)>=0},g.prototype.gte=function(Q){return this.cmp(Q)>=0},g.prototype.ltn=function(Q){return-1===this.cmpn(Q)},g.prototype.lt=function(Q){return-1===this.cmp(Q)},g.prototype.lten=function(Q){return this.cmpn(Q)<=0},g.prototype.lte=function(Q){return this.cmp(Q)<=0},g.prototype.eqn=function(Q){return 0===this.cmpn(Q)},g.prototype.eq=function(Q){return 0===this.cmp(Q)},g.red=function(Q){return new D(Q)},g.prototype.toRed=function(Q){return F(!this.red,"Already a number in reduction context"),F(0===this.negative,"red works only with positives"),Q.convertTo(this)._forceRed(Q)},g.prototype.fromRed=function(){return F(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(Q){return this.red=Q,this},g.prototype.forceRed=function(Q){return F(!this.red,"Already a number in reduction context"),this._forceRed(Q)},g.prototype.redAdd=function(Q){return F(this.red,"redAdd works only with red numbers"),this.red.add(this,Q)},g.prototype.redIAdd=function(Q){return F(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Q)},g.prototype.redSub=function(Q){return F(this.red,"redSub works only with red numbers"),this.red.sub(this,Q)},g.prototype.redISub=function(Q){return F(this.red,"redISub works only with red numbers"),this.red.isub(this,Q)},g.prototype.redShl=function(Q){return F(this.red,"redShl works only with red numbers"),this.red.shl(this,Q)},g.prototype.redMul=function(Q){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,Q),this.red.mul(this,Q)},g.prototype.redIMul=function(Q){return F(this.red,"redMul works only with red numbers"),this.red._verify2(this,Q),this.red.imul(this,Q)},g.prototype.redSqr=function(){return F(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return F(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return F(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return F(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return F(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(Q){return F(this.red&&!Q.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Q)};var d={k256:null,p224:null,p192:null,p25519:null};function b(Q,B){this.name=Q,this.p=new g(B,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function N(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function D(Q){if("string"==typeof Q){var B=g._prime(Q);this.m=B.p,this.prime=B}else F(Q.gtn(1),"modulus must be greater than 1"),this.m=Q,this.prime=null}function m(Q){D.call(this,Q),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var Q=new g(null);return Q.words=new Array(Math.ceil(this.n/13)),Q},b.prototype.ireduce=function(Q){var B,F=Q;do{this.split(F,this.tmp),B=(F=(F=this.imulK(F)).iadd(this.tmp)).bitLength()}while(B>this.n);var U=B<this.n?-1:F.ucmp(this.p);return 0===U?(F.words[0]=0,F.length=1):U>0?F.isub(this.p):void 0!==F.strip?F.strip():F._strip(),F},b.prototype.split=function(Q,B){Q.iushrn(this.n,0,B)},b.prototype.imulK=function(Q){return Q.imul(this.k)},U(V,b),V.prototype.split=function(Q,B){for(var F=4194303,U=Math.min(Q.length,9),g=0;g<U;g++)B.words[g]=Q.words[g];if(B.length=U,Q.length<=9)return Q.words[0]=0,void(Q.length=1);var I=Q.words[9];for(B.words[B.length++]=I&F,g=10;g<Q.length;g++){var C=0|Q.words[g];Q.words[g-10]=(C&F)<<4|I>>>22,I=C}I>>>=22,Q.words[g-10]=I,0===I&&Q.length>10?Q.length-=10:Q.length-=9},V.prototype.imulK=function(Q){Q.words[Q.length]=0,Q.words[Q.length+1]=0,Q.length+=2;for(var B=0,F=0;F<Q.length;F++){var U=0|Q.words[F];B+=977*U,Q.words[F]=67108863&B,B=64*U+(B/67108864|0)}return 0===Q.words[Q.length-1]&&(Q.length--,0===Q.words[Q.length-1]&&Q.length--),Q},U(N,b),U(R,b),U(A,b),A.prototype.imulK=function(Q){for(var B=0,F=0;F<Q.length;F++){var U=19*(0|Q.words[F])+B,g=67108863&U;U>>>=26,Q.words[F]=g,B=U}return 0!==B&&(Q.words[Q.length++]=B),Q},g._prime=function(Q){if(d[Q])return d[Q];var B;if("k256"===Q)B=new V;else if("p224"===Q)B=new N;else if("p192"===Q)B=new R;else{if("p25519"!==Q)throw new Error("Unknown prime "+Q);B=new A}return d[Q]=B,B},D.prototype._verify1=function(Q){F(0===Q.negative,"red works only with positives"),F(Q.red,"red works only with red numbers")},D.prototype._verify2=function(Q,B){F(0==(Q.negative|B.negative),"red works only with positives"),F(Q.red&&Q.red===B.red,"red works only with red numbers")},D.prototype.imod=function(Q){return this.prime?this.prime.ireduce(Q)._forceRed(this):Q.umod(this.m)._forceRed(this)},D.prototype.neg=function(Q){return Q.isZero()?Q.clone():this.m.sub(Q)._forceRed(this)},D.prototype.add=function(Q,B){this._verify2(Q,B);var F=Q.add(B);return F.cmp(this.m)>=0&&F.isub(this.m),F._forceRed(this)},D.prototype.iadd=function(Q,B){this._verify2(Q,B);var F=Q.iadd(B);return F.cmp(this.m)>=0&&F.isub(this.m),F},D.prototype.sub=function(Q,B){this._verify2(Q,B);var F=Q.sub(B);return F.cmpn(0)<0&&F.iadd(this.m),F._forceRed(this)},D.prototype.isub=function(Q,B){this._verify2(Q,B);var F=Q.isub(B);return F.cmpn(0)<0&&F.iadd(this.m),F},D.prototype.shl=function(Q,B){return this._verify1(Q),this.imod(Q.ushln(B))},D.prototype.imul=function(Q,B){return this._verify2(Q,B),this.imod(Q.imul(B))},D.prototype.mul=function(Q,B){return this._verify2(Q,B),this.imod(Q.mul(B))},D.prototype.isqr=function(Q){return this.imul(Q,Q.clone())},D.prototype.sqr=function(Q){return this.mul(Q,Q)},D.prototype.sqrt=function(Q){if(Q.isZero())return Q.clone();var B=this.m.andln(3);if(F(B%2==1),3===B){var U=this.m.add(new g(1)).iushrn(2);return this.pow(Q,U)}for(var I=this.m.subn(1),C=0;!I.isZero()&&0===I.andln(1);)C++,I.iushrn(1);F(!I.isZero());var s=new g(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new g(2*S*S).toRed(this);0!==this.pow(S,l).cmp(c);)S.redIAdd(c);for(var Z=this.pow(S,I),G=this.pow(Q,I.addn(1).iushrn(1)),L=this.pow(Q,I),x=C;0!==L.cmp(s);){for(var y=L,d=0;0!==y.cmp(s);d++)y=y.redSqr();F(d<x);var b=this.pow(Z,new g(1).iushln(x-d-1));G=G.redMul(b),Z=b.redSqr(),L=L.redMul(Z),x=d}return G},D.prototype.invm=function(Q){var B=Q._invmp(this.m);return 0!==B.negative?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},D.prototype.pow=function(Q,B){if(B.isZero())return new g(1).toRed(this);if(0===B.cmpn(1))return Q.clone();var F=new Array(16);F[0]=new g(1).toRed(this),F[1]=Q;for(var U=2;U<F.length;U++)F[U]=this.mul(F[U-1],Q);var I=F[0],C=0,s=0,c=B.bitLength()%26;for(0===c&&(c=26),U=B.length-1;U>=0;U--){for(var l=B.words[U],S=c-1;S>=0;S--){var Z=l>>S&1;I!==F[0]&&(I=this.sqr(I)),0!==Z||0!==C?(C<<=1,C|=Z,(4==++s||0===U&&0===S)&&(I=this.mul(I,F[C]),s=0,C=0)):s=0}c=26}return I},D.prototype.convertTo=function(Q){var B=Q.umod(this.m);return B===Q?B.clone():B},D.prototype.convertFrom=function(Q){var B=Q.clone();return B.red=null,B},g.mont=function(Q){return new m(Q)},U(m,D),m.prototype.convertTo=function(Q){return this.imod(Q.ushln(this.shift))},m.prototype.convertFrom=function(Q){var B=this.imod(Q.mul(this.rinv));return B.red=null,B},m.prototype.imul=function(Q,B){if(Q.isZero()||B.isZero())return Q.words[0]=0,Q.length=1,Q;var F=Q.imul(B),U=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=F.isub(U).iushrn(this.shift),I=g;return g.cmp(this.m)>=0?I=g.isub(this.m):g.cmpn(0)<0&&(I=g.iadd(this.m)),I._forceRed(this)},m.prototype.mul=function(Q,B){if(Q.isZero()||B.isZero())return new g(0)._forceRed(this);var F=Q.mul(B),U=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=F.isub(U).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},m.prototype.invm=function(Q){return this.imod(Q._invmp(this.m).mul(this.r2))._forceRed(this)}}(dQ,q);var bQ=dQ.exports;let VQ=!1,NQ=!1;const RQ={debug:1,default:2,info:2,warning:3,error:4,off:5};let AQ=RQ.default,DQ=null;const mQ=function(){try{const Q=[];if(["NFD","NFC","NFKD","NFKC"].forEach((B=>{try{if("test"!=="test".normalize(B))throw new Error("bad normalize")}catch(F){Q.push(B)}})),Q.length)throw new Error("missing "+Q.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(Q){return Q.message}return null}();var EQ,JQ;!function(Q){Q.DEBUG="DEBUG",Q.INFO="INFO",Q.WARNING="WARNING",Q.ERROR="ERROR",Q.OFF="OFF"}(EQ||(EQ={})),function(Q){Q.UNKNOWN_ERROR="UNKNOWN_ERROR",Q.NOT_IMPLEMENTED="NOT_IMPLEMENTED",Q.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",Q.NETWORK_ERROR="NETWORK_ERROR",Q.SERVER_ERROR="SERVER_ERROR",Q.TIMEOUT="TIMEOUT",Q.BUFFER_OVERRUN="BUFFER_OVERRUN",Q.NUMERIC_FAULT="NUMERIC_FAULT",Q.MISSING_NEW="MISSING_NEW",Q.INVALID_ARGUMENT="INVALID_ARGUMENT",Q.MISSING_ARGUMENT="MISSING_ARGUMENT",Q.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",Q.CALL_EXCEPTION="CALL_EXCEPTION",Q.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",Q.NONCE_EXPIRED="NONCE_EXPIRED",Q.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",Q.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",Q.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(JQ||(JQ={}));const tQ="0123456789abcdef";class iQ{constructor(Q){Object.defineProperty(this,"version",{enumerable:!0,value:Q,writable:!1})}_log(Q,B){const F=Q.toLowerCase();null==RQ[F]&&this.throwArgumentError("invalid log level name","logLevel",Q),AQ>RQ[F]||console.log.apply(console,B)}debug(...Q){this._log(iQ.levels.DEBUG,Q)}info(...Q){this._log(iQ.levels.INFO,Q)}warn(...Q){this._log(iQ.levels.WARNING,Q)}makeError(Q,B,F){if(NQ)return this.makeError("censored error",B,{});B||(B=iQ.errors.UNKNOWN_ERROR),F||(F={});const U=[];Object.keys(F).forEach((Q=>{const B=F[Q];try{if(B instanceof Uint8Array){let F="";for(let Q=0;Q<B.length;Q++)F+=tQ[B[Q]>>4],F+=tQ[15&B[Q]];U.push(Q+"=Uint8Array(0x"+F+")")}else U.push(Q+"="+JSON.stringify(B))}catch(B){U.push(Q+"="+JSON.stringify(F[Q].toString()))}})),U.push(`code=${B}`),U.push(`version=${this.version}`);const g=Q;let I="";switch(B){case JQ.NUMERIC_FAULT:{I="NUMERIC_FAULT";const B=Q;switch(B){case"overflow":case"underflow":case"division-by-zero":I+="-"+B;break;case"negative-power":case"negative-width":I+="-unsupported";break;case"unbound-bitwise-result":I+="-unbound-result"}break}case JQ.CALL_EXCEPTION:case JQ.INSUFFICIENT_FUNDS:case JQ.MISSING_NEW:case JQ.NONCE_EXPIRED:case JQ.REPLACEMENT_UNDERPRICED:case JQ.TRANSACTION_REPLACED:case JQ.UNPREDICTABLE_GAS_LIMIT:I=B}I&&(Q+=" [ See: https://links.ethers.org/v5-errors-"+I+" ]"),U.length&&(Q+=" ("+U.join(", ")+")");const C=new Error(Q);return C.reason=g,C.code=B,Object.keys(F).forEach((function(Q){C[Q]=F[Q]})),C}throwError(Q,B,F){throw this.makeError(Q,B,F)}throwArgumentError(Q,B,F){return this.throwError(Q,iQ.errors.INVALID_ARGUMENT,{argument:B,value:F})}assert(Q,B,F,U){Q||this.throwError(B,F,U)}assertArgument(Q,B,F,U){Q||this.throwArgumentError(B,F,U)}checkNormalize(Q){mQ&&this.throwError("platform missing String.prototype.normalize",iQ.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mQ})}checkSafeUint53(Q,B){"number"==typeof Q&&(null==B&&(B="value not safe"),(Q<0||Q>=9007199254740991)&&this.throwError(B,iQ.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:Q}),Q%1&&this.throwError(B,iQ.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:Q}))}checkArgumentCount(Q,B,F){F=F?": "+F:"",Q<B&&this.throwError("missing argument"+F,iQ.errors.MISSING_ARGUMENT,{count:Q,expectedCount:B}),Q>B&&this.throwError("too many arguments"+F,iQ.errors.UNEXPECTED_ARGUMENT,{count:Q,expectedCount:B})}checkNew(Q,B){Q!==Object&&null!=Q||this.throwError("missing new",iQ.errors.MISSING_NEW,{name:B.name})}checkAbstract(Q,B){Q===B?this.throwError("cannot instantiate abstract class "+JSON.stringify(B.name)+" directly; use a sub-class",iQ.errors.UNSUPPORTED_OPERATION,{name:Q.name,operation:"new"}):Q!==Object&&null!=Q||this.throwError("missing new",iQ.errors.MISSING_NEW,{name:B.name})}static globalLogger(){return DQ||(DQ=new iQ("logger/5.6.0")),DQ}static setCensorship(Q,B){if(!Q&&B&&this.globalLogger().throwError("cannot permanently disable censorship",iQ.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),VQ){if(!Q)return;this.globalLogger().throwError("error censorship permanent",iQ.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}NQ=!!Q,VQ=!!B}static setLogLevel(Q){const B=RQ[Q.toLowerCase()];null!=B?AQ=B:iQ.globalLogger().warn("invalid log level - "+Q)}static from(Q){return new iQ(Q)}}iQ.errors=JQ,iQ.levels=EQ;const XQ=new iQ("bytes/5.6.1");function nQ(Q){return!!Q.toHexString}function uQ(Q){return Q.slice||(Q.slice=function(){const B=Array.prototype.slice.call(arguments);return uQ(new Uint8Array(Array.prototype.slice.apply(Q,B)))}),Q}function HQ(Q){return"number"==typeof Q&&Q==Q&&Q%1==0}function WQ(Q){if(null==Q)return!1;if(Q.constructor===Uint8Array)return!0;if("string"==typeof Q)return!1;if(!HQ(Q.length)||Q.length<0)return!1;for(let B=0;B<Q.length;B++){const F=Q[B];if(!HQ(F)||F<0||F>=256)return!1}return!0}function aQ(Q,B){if(B||(B={}),"number"==typeof Q){XQ.checkSafeUint53(Q,"invalid arrayify value");const B=[];for(;Q;)B.unshift(255&Q),Q=parseInt(String(Q/256));return 0===B.length&&B.push(0),uQ(new Uint8Array(B))}if(B.allowMissingPrefix&&"string"==typeof Q&&"0x"!==Q.substring(0,2)&&(Q="0x"+Q),nQ(Q)&&(Q=Q.toHexString()),hQ(Q)){let F=Q.substring(2);F.length%2&&("left"===B.hexPad?F="0"+F:"right"===B.hexPad?F+="0":XQ.throwArgumentError("hex data is odd-length","value",Q));const U=[];for(let Q=0;Q<F.length;Q+=2)U.push(parseInt(F.substring(Q,Q+2),16));return uQ(new Uint8Array(U))}return WQ(Q)?uQ(new Uint8Array(Q)):XQ.throwArgumentError("invalid arrayify value","value",Q)}function oQ(Q){const B=Q.map((Q=>aQ(Q))),F=B.reduce(((Q,B)=>Q+B.length),0),U=new Uint8Array(F);return B.reduce(((Q,B)=>(U.set(B,Q),Q+B.length)),0),uQ(U)}function hQ(Q,B){return!("string"!=typeof Q||!Q.match(/^0x[0-9A-Fa-f]*$/))&&(!B||Q.length===2+2*B)}function YQ(Q,B){if(B||(B={}),"number"==typeof Q){XQ.checkSafeUint53(Q,"invalid hexlify value");let B="";for(;Q;)B="0123456789abcdef"[15&Q]+B,Q=Math.floor(Q/16);return B.length?(B.length%2&&(B="0"+B),"0x"+B):"0x00"}if("bigint"==typeof Q)return(Q=Q.toString(16)).length%2?"0x0"+Q:"0x"+Q;if(B.allowMissingPrefix&&"string"==typeof Q&&"0x"!==Q.substring(0,2)&&(Q="0x"+Q),nQ(Q))return Q.toHexString();if(hQ(Q))return Q.length%2&&("left"===B.hexPad?Q="0x0"+Q.substring(2):"right"===B.hexPad?Q+="0":XQ.throwArgumentError("hex data is odd-length","value",Q)),Q.toLowerCase();if(WQ(Q)){let B="0x";for(let F=0;F<Q.length;F++){let U=Q[F];B+="0123456789abcdef"[(240&U)>>4]+"0123456789abcdef"[15&U]}return B}return XQ.throwArgumentError("invalid hexlify value","value",Q)}function eQ(Q,B){for("string"!=typeof Q?Q=YQ(Q):hQ(Q)||XQ.throwArgumentError("invalid hex string","value",Q),Q.length>2*B+2&&XQ.throwArgumentError("value out of range","value",arguments[1]);Q.length<2*B+2;)Q="0x0"+Q.substring(2);return Q}var kQ=bQ.BN;const pQ=new iQ("bignumber/5.6.0"),MQ={};let TQ=!1;class zQ{constructor(Q,B){pQ.checkNew(new.target,zQ),Q!==MQ&&pQ.throwError("cannot call constructor directly; use BigNumber.from",iQ.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=B,this._isBigNumber=!0,Object.freeze(this)}fromTwos(Q){return vQ(wQ(this).fromTwos(Q))}toTwos(Q){return vQ(wQ(this).toTwos(Q))}abs(){return"-"===this._hex[0]?zQ.from(this._hex.substring(1)):this}add(Q){return vQ(wQ(this).add(wQ(Q)))}sub(Q){return vQ(wQ(this).sub(wQ(Q)))}div(Q){return zQ.from(Q).isZero()&&KQ("division-by-zero","div"),vQ(wQ(this).div(wQ(Q)))}mul(Q){return vQ(wQ(this).mul(wQ(Q)))}mod(Q){const B=wQ(Q);return B.isNeg()&&KQ("division-by-zero","mod"),vQ(wQ(this).umod(B))}pow(Q){const B=wQ(Q);return B.isNeg()&&KQ("negative-power","pow"),vQ(wQ(this).pow(B))}and(Q){const B=wQ(Q);return(this.isNegative()||B.isNeg())&&KQ("unbound-bitwise-result","and"),vQ(wQ(this).and(B))}or(Q){const B=wQ(Q);return(this.isNegative()||B.isNeg())&&KQ("unbound-bitwise-result","or"),vQ(wQ(this).or(B))}xor(Q){const B=wQ(Q);return(this.isNegative()||B.isNeg())&&KQ("unbound-bitwise-result","xor"),vQ(wQ(this).xor(B))}mask(Q){return(this.isNegative()||Q<0)&&KQ("negative-width","mask"),vQ(wQ(this).maskn(Q))}shl(Q){return(this.isNegative()||Q<0)&&KQ("negative-width","shl"),vQ(wQ(this).shln(Q))}shr(Q){return(this.isNegative()||Q<0)&&KQ("negative-width","shr"),vQ(wQ(this).shrn(Q))}eq(Q){return wQ(this).eq(wQ(Q))}lt(Q){return wQ(this).lt(wQ(Q))}lte(Q){return wQ(this).lte(wQ(Q))}gt(Q){return wQ(this).gt(wQ(Q))}gte(Q){return wQ(this).gte(wQ(Q))}isNegative(){return"-"===this._hex[0]}isZero(){return wQ(this).isZero()}toNumber(){try{return wQ(this).toNumber()}catch(Q){KQ("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(Q){}return pQ.throwError("this platform does not support BigInt",iQ.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?TQ||(TQ=!0,pQ.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?pQ.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",iQ.errors.UNEXPECTED_ARGUMENT,{}):pQ.throwError("BigNumber.toString does not accept parameters",iQ.errors.UNEXPECTED_ARGUMENT,{})),wQ(this).toString(10)}toHexString(){return this._hex}toJSON(Q){return{type:"BigNumber",hex:this.toHexString()}}static from(Q){if(Q instanceof zQ)return Q;if("string"==typeof Q)return Q.match(/^-?0x[0-9a-f]+$/i)?new zQ(MQ,rQ(Q)):Q.match(/^-?[0-9]+$/)?new zQ(MQ,rQ(new kQ(Q))):pQ.throwArgumentError("invalid BigNumber string","value",Q);if("number"==typeof Q)return Q%1&&KQ("underflow","BigNumber.from",Q),(Q>=9007199254740991||Q<=-9007199254740991)&&KQ("overflow","BigNumber.from",Q),zQ.from(String(Q));const B=Q;if("bigint"==typeof B)return zQ.from(B.toString());if(WQ(B))return zQ.from(YQ(B));if(B)if(B.toHexString){const Q=B.toHexString();if("string"==typeof Q)return zQ.from(Q)}else{let Q=B._hex;if(null==Q&&"BigNumber"===B.type&&(Q=B.hex),"string"==typeof Q&&(hQ(Q)||"-"===Q[0]&&hQ(Q.substring(1))))return zQ.from(Q)}return pQ.throwArgumentError("invalid BigNumber value","value",Q)}static isBigNumber(Q){return!(!Q||!Q._isBigNumber)}}function rQ(Q){if("string"!=typeof Q)return rQ(Q.toString(16));if("-"===Q[0])return"-"===(Q=Q.substring(1))[0]&&pQ.throwArgumentError("invalid hex","value",Q),"0x00"===(Q=rQ(Q))?Q:"-"+Q;if("0x"!==Q.substring(0,2)&&(Q="0x"+Q),"0x"===Q)return"0x00";for(Q.length%2&&(Q="0x0"+Q.substring(2));Q.length>4&&"0x00"===Q.substring(0,4);)Q="0x"+Q.substring(4);return Q}function vQ(Q){return zQ.from(rQ(Q))}function wQ(Q){const B=zQ.from(Q).toHexString();return"-"===B[0]?new kQ("-"+B.substring(3),16):new kQ(B.substring(2),16)}function KQ(Q,B,F){const U={fault:Q,operation:B};return null!=F&&(U.value=F),pQ.throwError(Q,iQ.errors.NUMERIC_FAULT,U)}window&&window.__awaiter;const OQ=new iQ("properties/5.6.0");function PQ(Q,B,F){Object.defineProperty(Q,B,{enumerable:!0,value:F,writable:!1})}function fQ(Q,B){for(let F=0;F<32;F++){if(Q[B])return Q[B];if(!Q.prototype||"object"!=typeof Q.prototype)break;Q=Object.getPrototypeOf(Q.prototype).constructor}return null}const jQ={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function qQ(Q){if(null==Q||jQ[typeof Q])return!0;if(Array.isArray(Q)||"object"==typeof Q){if(!Object.isFrozen(Q))return!1;const B=Object.keys(Q);for(let F=0;F<B.length;F++){let U=null;try{U=Q[B[F]]}catch(Q){continue}if(!qQ(U))return!1}return!0}return OQ.throwArgumentError("Cannot deepCopy "+typeof Q,"object",Q)}function _Q(Q){if(qQ(Q))return Q;if(Array.isArray(Q))return Object.freeze(Q.map((Q=>$Q(Q))));if("object"==typeof Q){const B={};for(const F in Q){const U=Q[F];void 0!==U&&PQ(B,F,$Q(U))}return B}return OQ.throwArgumentError("Cannot deepCopy "+typeof Q,"object",Q)}function $Q(Q){return _Q(Q)}class QB{constructor(Q){for(const B in Q)this[B]=$Q(Q[B])}}const BB=new iQ("abi/5.6.0"),FB={};let UB={calldata:!0,memory:!0,storage:!0},gB={calldata:!0,memory:!0};function IB(Q,B){if("bytes"===Q||"string"===Q){if(UB[B])return!0}else if("address"===Q){if("payable"===B)return!0}else if((Q.indexOf("[")>=0||"tuple"===Q)&&gB[B])return!0;return(UB[B]||"payable"===B)&&BB.throwArgumentError("invalid modifier","name",B),!1}function CB(Q,B){for(let F in B)PQ(Q,F,B[F])}const sB=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),cB=new RegExp(/^(.*)\[([0-9]*)\]$/);class lB{constructor(Q,B){Q!==FB&&BB.throwError("use fromString",iQ.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),CB(this,B);let F=this.type.match(cB);CB(this,F?{arrayLength:parseInt(F[2]||"-1"),arrayChildren:lB.fromObject({type:F[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(Q){if(Q||(Q=sB.sighash),sB[Q]||BB.throwArgumentError("invalid format type","format",Q),Q===sB.json){let B={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(B.indexed=this.indexed),this.components&&(B.components=this.components.map((B=>JSON.parse(B.format(Q))))),JSON.stringify(B)}let B="";return"array"===this.baseType?(B+=this.arrayChildren.format(Q),B+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(Q!==sB.sighash&&(B+=this.type),B+="("+this.components.map((B=>B.format(Q))).join(Q===sB.full?", ":",")+")"):B+=this.type,Q!==sB.sighash&&(!0===this.indexed&&(B+=" indexed"),Q===sB.full&&this.name&&(B+=" "+this.name)),B}static from(Q,B){return"string"==typeof Q?lB.fromString(Q,B):lB.fromObject(Q)}static fromObject(Q){return lB.isParamType(Q)?Q:new lB(FB,{name:Q.name||null,type:RB(Q.type),indexed:null==Q.indexed?null:!!Q.indexed,components:Q.components?Q.components.map(lB.fromObject):null})}static fromString(Q,B){return F=function(Q,B){let F=Q;function U(B){BB.throwArgumentError(`unexpected character at position ${B}`,"param",Q)}function g(Q){let F={type:"",name:"",parent:Q,state:{allowType:!0}};return B&&(F.indexed=!1),F}Q=Q.replace(/\s/g," ");let I={type:"",name:"",state:{allowType:!0}},C=I;for(let F=0;F<Q.length;F++){let I=Q[F];switch(I){case"(":C.state.allowType&&""===C.type?C.type="tuple":C.state.allowParams||U(F),C.state.allowType=!1,C.type=RB(C.type),C.components=[g(C)],C=C.components[0];break;case")":delete C.state,"indexed"===C.name&&(B||U(F),C.indexed=!0,C.name=""),IB(C.type,C.name)&&(C.name=""),C.type=RB(C.type);let Q=C;C=C.parent,C||U(F),delete Q.parent,C.state.allowParams=!1,C.state.allowName=!0,C.state.allowArray=!0;break;case",":delete C.state,"indexed"===C.name&&(B||U(F),C.indexed=!0,C.name=""),IB(C.type,C.name)&&(C.name=""),C.type=RB(C.type);let s=g(C.parent);C.parent.components.push(s),delete C.parent,C=s;break;case" ":C.state.allowType&&""!==C.type&&(C.type=RB(C.type),delete C.state.allowType,C.state.allowName=!0,C.state.allowParams=!0),C.state.allowName&&""!==C.name&&("indexed"===C.name?(B||U(F),C.indexed&&U(F),C.indexed=!0,C.name=""):IB(C.type,C.name)?C.name="":C.state.allowName=!1);break;case"[":C.state.allowArray||U(F),C.type+=I,C.state.allowArray=!1,C.state.allowName=!1,C.state.readArray=!0;break;case"]":C.state.readArray||U(F),C.type+=I,C.state.readArray=!1,C.state.allowArray=!0,C.state.allowName=!0;break;default:C.state.allowType?(C.type+=I,C.state.allowParams=!0,C.state.allowArray=!0):C.state.allowName?(C.name+=I,delete C.state.allowArray):C.state.readArray?C.type+=I:U(F)}}return C.parent&&BB.throwArgumentError("unexpected eof","param",Q),delete I.state,"indexed"===C.name?(B||U(F.length-7),C.indexed&&U(F.length-7),C.indexed=!0,C.name=""):IB(C.type,C.name)&&(C.name=""),I.type=RB(I.type),I}(Q,!!B),lB.fromObject({name:F.name,type:F.type,indexed:F.indexed,components:F.components});var F}static isParamType(Q){return!(null==Q||!Q._isParamType)}}function SB(Q,B){return function(Q){Q=Q.trim();let B=[],F="",U=0;for(let g=0;g<Q.length;g++){let I=Q[g];","===I&&0===U?(B.push(F),F=""):(F+=I,"("===I?U++:")"===I&&(U--,-1===U&&BB.throwArgumentError("unbalanced parenthesis","value",Q)))}F&&B.push(F);return B}(Q).map((Q=>lB.fromString(Q,B)))}class ZB{constructor(Q,B){Q!==FB&&BB.throwError("use a static from method",iQ.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),CB(this,B),this._isFragment=!0,Object.freeze(this)}static from(Q){return ZB.isFragment(Q)?Q:"string"==typeof Q?ZB.fromString(Q):ZB.fromObject(Q)}static fromObject(Q){if(ZB.isFragment(Q))return Q;switch(Q.type){case"function":return bB.fromObject(Q);case"event":return GB.fromObject(Q);case"constructor":return dB.fromObject(Q);case"error":return NB.fromObject(Q);case"fallback":case"receive":return null}return BB.throwArgumentError("invalid fragment object","value",Q)}static fromString(Q){return"event"===(Q=(Q=(Q=Q.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?GB.fromString(Q.substring(5).trim()):"function"===Q.split(" ")[0]?bB.fromString(Q.substring(8).trim()):"constructor"===Q.split("(")[0].trim()?dB.fromString(Q.trim()):"error"===Q.split(" ")[0]?NB.fromString(Q.substring(5).trim()):BB.throwArgumentError("unsupported fragment","value",Q)}static isFragment(Q){return!(!Q||!Q._isFragment)}}class GB extends ZB{format(Q){if(Q||(Q=sB.sighash),sB[Q]||BB.throwArgumentError("invalid format type","format",Q),Q===sB.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((B=>JSON.parse(B.format(Q))))});let B="";return Q!==sB.sighash&&(B+="event "),B+=this.name+"("+this.inputs.map((B=>B.format(Q))).join(Q===sB.full?", ":",")+") ",Q!==sB.sighash&&this.anonymous&&(B+="anonymous "),B.trim()}static from(Q){return"string"==typeof Q?GB.fromString(Q):GB.fromObject(Q)}static fromObject(Q){if(GB.isEventFragment(Q))return Q;"event"!==Q.type&&BB.throwArgumentError("invalid event object","value",Q);const B={name:DB(Q.name),anonymous:Q.anonymous,inputs:Q.inputs?Q.inputs.map(lB.fromObject):[],type:"event"};return new GB(FB,B)}static fromString(Q){let B=Q.match(mB);B||BB.throwArgumentError("invalid event string","value",Q);let F=!1;return B[3].split(" ").forEach((Q=>{switch(Q.trim()){case"anonymous":F=!0;break;case"":break;default:BB.warn("unknown modifier: "+Q)}})),GB.fromObject({name:B[1].trim(),anonymous:F,inputs:SB(B[2],!0),type:"event"})}static isEventFragment(Q){return Q&&Q._isFragment&&"event"===Q.type}}function LB(Q,B){B.gas=null;let F=Q.split("@");return 1!==F.length?(F.length>2&&BB.throwArgumentError("invalid human-readable ABI signature","value",Q),F[1].match(/^[0-9]+$/)||BB.throwArgumentError("invalid human-readable ABI signature gas","value",Q),B.gas=zQ.from(F[1]),F[0]):Q}function xB(Q,B){B.constant=!1,B.payable=!1,B.stateMutability="nonpayable",Q.split(" ").forEach((Q=>{switch(Q.trim()){case"constant":B.constant=!0;break;case"payable":B.payable=!0,B.stateMutability="payable";break;case"nonpayable":B.payable=!1,B.stateMutability="nonpayable";break;case"pure":B.constant=!0,B.stateMutability="pure";break;case"view":B.constant=!0,B.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+Q)}}))}function yB(Q){let B={constant:!1,payable:!0,stateMutability:"payable"};return null!=Q.stateMutability?(B.stateMutability=Q.stateMutability,B.constant="view"===B.stateMutability||"pure"===B.stateMutability,null!=Q.constant&&!!Q.constant!==B.constant&&BB.throwArgumentError("cannot have constant function with mutability "+B.stateMutability,"value",Q),B.payable="payable"===B.stateMutability,null!=Q.payable&&!!Q.payable!==B.payable&&BB.throwArgumentError("cannot have payable function with mutability "+B.stateMutability,"value",Q)):null!=Q.payable?(B.payable=!!Q.payable,null!=Q.constant||B.payable||"constructor"===Q.type||BB.throwArgumentError("unable to determine stateMutability","value",Q),B.constant=!!Q.constant,B.constant?B.stateMutability="view":B.stateMutability=B.payable?"payable":"nonpayable",B.payable&&B.constant&&BB.throwArgumentError("cannot have constant payable function","value",Q)):null!=Q.constant?(B.constant=!!Q.constant,B.payable=!B.constant,B.stateMutability=B.constant?"view":"payable"):"constructor"!==Q.type&&BB.throwArgumentError("unable to determine stateMutability","value",Q),B}class dB extends ZB{format(Q){if(Q||(Q=sB.sighash),sB[Q]||BB.throwArgumentError("invalid format type","format",Q),Q===sB.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((B=>JSON.parse(B.format(Q))))});Q===sB.sighash&&BB.throwError("cannot format a constructor for sighash",iQ.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let B="constructor("+this.inputs.map((B=>B.format(Q))).join(Q===sB.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(B+=this.stateMutability+" "),B.trim()}static from(Q){return"string"==typeof Q?dB.fromString(Q):dB.fromObject(Q)}static fromObject(Q){if(dB.isConstructorFragment(Q))return Q;"constructor"!==Q.type&&BB.throwArgumentError("invalid constructor object","value",Q);let B=yB(Q);B.constant&&BB.throwArgumentError("constructor cannot be constant","value",Q);const F={name:null,type:Q.type,inputs:Q.inputs?Q.inputs.map(lB.fromObject):[],payable:B.payable,stateMutability:B.stateMutability,gas:Q.gas?zQ.from(Q.gas):null};return new dB(FB,F)}static fromString(Q){let B={type:"constructor"},F=(Q=LB(Q,B)).match(mB);return F&&"constructor"===F[1].trim()||BB.throwArgumentError("invalid constructor string","value",Q),B.inputs=SB(F[2].trim(),!1),xB(F[3].trim(),B),dB.fromObject(B)}static isConstructorFragment(Q){return Q&&Q._isFragment&&"constructor"===Q.type}}class bB extends dB{format(Q){if(Q||(Q=sB.sighash),sB[Q]||BB.throwArgumentError("invalid format type","format",Q),Q===sB.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((B=>JSON.parse(B.format(Q)))),outputs:this.outputs.map((B=>JSON.parse(B.format(Q))))});let B="";return Q!==sB.sighash&&(B+="function "),B+=this.name+"("+this.inputs.map((B=>B.format(Q))).join(Q===sB.full?", ":",")+") ",Q!==sB.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(B+=this.stateMutability+" "):this.constant&&(B+="view "),this.outputs&&this.outputs.length&&(B+="returns ("+this.outputs.map((B=>B.format(Q))).join(", ")+") "),null!=this.gas&&(B+="@"+this.gas.toString()+" ")),B.trim()}static from(Q){return"string"==typeof Q?bB.fromString(Q):bB.fromObject(Q)}static fromObject(Q){if(bB.isFunctionFragment(Q))return Q;"function"!==Q.type&&BB.throwArgumentError("invalid function object","value",Q);let B=yB(Q);const F={type:Q.type,name:DB(Q.name),constant:B.constant,inputs:Q.inputs?Q.inputs.map(lB.fromObject):[],outputs:Q.outputs?Q.outputs.map(lB.fromObject):[],payable:B.payable,stateMutability:B.stateMutability,gas:Q.gas?zQ.from(Q.gas):null};return new bB(FB,F)}static fromString(Q){let B={type:"function"},F=(Q=LB(Q,B)).split(" returns ");F.length>2&&BB.throwArgumentError("invalid function string","value",Q);let U=F[0].match(mB);if(U||BB.throwArgumentError("invalid function signature","value",Q),B.name=U[1].trim(),B.name&&DB(B.name),B.inputs=SB(U[2],!1),xB(U[3].trim(),B),F.length>1){let U=F[1].match(mB);""==U[1].trim()&&""==U[3].trim()||BB.throwArgumentError("unexpected tokens","value",Q),B.outputs=SB(U[2],!1)}else B.outputs=[];return bB.fromObject(B)}static isFunctionFragment(Q){return Q&&Q._isFragment&&"function"===Q.type}}function VB(Q){const B=Q.format();return"Error(string)"!==B&&"Panic(uint256)"!==B||BB.throwArgumentError(`cannot specify user defined ${B} error`,"fragment",Q),Q}class NB extends ZB{format(Q){if(Q||(Q=sB.sighash),sB[Q]||BB.throwArgumentError("invalid format type","format",Q),Q===sB.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((B=>JSON.parse(B.format(Q))))});let B="";return Q!==sB.sighash&&(B+="error "),B+=this.name+"("+this.inputs.map((B=>B.format(Q))).join(Q===sB.full?", ":",")+") ",B.trim()}static from(Q){return"string"==typeof Q?NB.fromString(Q):NB.fromObject(Q)}static fromObject(Q){if(NB.isErrorFragment(Q))return Q;"error"!==Q.type&&BB.throwArgumentError("invalid error object","value",Q);const B={type:Q.type,name:DB(Q.name),inputs:Q.inputs?Q.inputs.map(lB.fromObject):[]};return VB(new NB(FB,B))}static fromString(Q){let B={type:"error"},F=Q.match(mB);return F||BB.throwArgumentError("invalid error signature","value",Q),B.name=F[1].trim(),B.name&&DB(B.name),B.inputs=SB(F[2],!1),VB(NB.fromObject(B))}static isErrorFragment(Q){return Q&&Q._isFragment&&"error"===Q.type}}function RB(Q){return Q.match(/^uint($|[^1-9])/)?Q="uint256"+Q.substring(4):Q.match(/^int($|[^1-9])/)&&(Q="int256"+Q.substring(3)),Q}const AB=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function DB(Q){return Q&&Q.match(AB)||BB.throwArgumentError(`invalid identifier "${Q}"`,"value",Q),Q}const mB=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const EB=new iQ("abi/5.6.0");class JB{constructor(Q,B,F,U){this.name=Q,this.type=B,this.localName=F,this.dynamic=U}_throwError(Q,B){EB.throwArgumentError(Q,this.localName,B)}}class tB{constructor(Q){PQ(this,"wordSize",Q||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(Q)}get data(){return function(Q){let B="0x";return Q.forEach((Q=>{B+=YQ(Q).substring(2)})),B}(this._data)}get length(){return this._dataLength}_writeData(Q){return this._data.push(Q),this._dataLength+=Q.length,Q.length}appendWriter(Q){return this._writeData(oQ(Q._data))}writeBytes(Q){let B=aQ(Q);const F=B.length%this.wordSize;return F&&(B=oQ([B,this._padding.slice(F)])),this._writeData(B)}_getValue(Q){let B=aQ(zQ.from(Q));return B.length>this.wordSize&&EB.throwError("value out-of-bounds",iQ.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:B.length}),B.length%this.wordSize&&(B=oQ([this._padding.slice(B.length%this.wordSize),B])),B}writeValue(Q){return this._writeData(this._getValue(Q))}writeUpdatableValue(){const Q=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,B=>{this._data[Q]=this._getValue(B)}}}class iB{constructor(Q,B,F,U){PQ(this,"_data",aQ(Q)),PQ(this,"wordSize",B||32),PQ(this,"_coerceFunc",F),PQ(this,"allowLoose",U),this._offset=0}get data(){return YQ(this._data)}get consumed(){return this._offset}static coerce(Q,B){let F=Q.match("^u?int([0-9]+)$");return F&&parseInt(F[1])<=48&&(B=B.toNumber()),B}coerce(Q,B){return this._coerceFunc?this._coerceFunc(Q,B):iB.coerce(Q,B)}_peekBytes(Q,B,F){let U=Math.ceil(B/this.wordSize)*this.wordSize;return this._offset+U>this._data.length&&(this.allowLoose&&F&&this._offset+B<=this._data.length?U=B:EB.throwError("data out-of-bounds",iQ.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+U})),this._data.slice(this._offset,this._offset+U)}subReader(Q){return new iB(this._data.slice(this._offset+Q),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(Q,B){let F=this._peekBytes(0,Q,!!B);return this._offset+=F.length,F.slice(0,Q)}readValue(){return zQ.from(this.readBytes(this.wordSize))}}var XB="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function nB(){throw new Error("setTimeout has not been defined")}function uB(){throw new Error("clearTimeout has not been defined")}var HB=nB,WB=uB;function aB(Q){if(HB===setTimeout)return setTimeout(Q,0);if((HB===nB||!HB)&&setTimeout)return HB=setTimeout,setTimeout(Q,0);try{return HB(Q,0)}catch(B){try{return HB.call(null,Q,0)}catch(B){return HB.call(this,Q,0)}}}"function"==typeof XB.setTimeout&&(HB=setTimeout),"function"==typeof XB.clearTimeout&&(WB=clearTimeout);var oB,hB=[],YB=!1,eB=-1;function kB(){YB&&oB&&(YB=!1,oB.length?hB=oB.concat(hB):eB=-1,hB.length&&pB())}function pB(){if(!YB){var Q=aB(kB);YB=!0;for(var B=hB.length;B;){for(oB=hB,hB=[];++eB<B;)oB&&oB[eB].run();eB=-1,B=hB.length}oB=null,YB=!1,function(Q){if(WB===clearTimeout)return clearTimeout(Q);if((WB===uB||!WB)&&clearTimeout)return WB=clearTimeout,clearTimeout(Q);try{WB(Q)}catch(B){try{return WB.call(null,Q)}catch(B){return WB.call(this,Q)}}}(Q)}}function MB(Q,B){this.fun=Q,this.array=B}MB.prototype.run=function(){this.fun.apply(null,this.array)};function TB(){}var zB=TB,rB=TB,vB=TB,wB=TB,KB=TB,OB=TB,PB=TB;var fB=XB.performance||{},jB=fB.now||fB.mozNow||fB.msNow||fB.oNow||fB.webkitNow||function(){return(new Date).getTime()};var qB=new Date;var _B={nextTick:function(Q){var B=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)B[F-1]=arguments[F];hB.push(new MB(Q,B)),1!==hB.length||YB||aB(pB)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:zB,addListener:rB,once:vB,off:wB,removeListener:KB,removeAllListeners:OB,emit:PB,binding:function(Q){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(Q){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(Q){var B=.001*jB.call(fB),F=Math.floor(B),U=Math.floor(B%1*1e9);return Q&&(F-=Q[0],(U-=Q[1])<0&&(F--,U+=1e9)),[F,U]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-qB)/1e3}},$B={exports:{}};!function(Q){!function(){var B="input is invalid type",F="object"==typeof window,U=F?window:{};U.JS_SHA3_NO_WINDOW&&(F=!1);var g=!F&&"object"==typeof self;!U.JS_SHA3_NO_NODE_JS&&"object"==typeof _B&&_B.versions&&_B.versions.node?U=q:g&&(U=self);var I=!U.JS_SHA3_NO_COMMON_JS&&Q.exports,C=!U.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),c=[4,1024,262144,67108864],l=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Z=[224,256,384,512],G=[128,256],L=["hex","buffer","arrayBuffer","array","digest"],x={128:168,256:136};!U.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(Q){return"[object Array]"===Object.prototype.toString.call(Q)}),!C||!U.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(Q){return"object"==typeof Q&&Q.buffer&&Q.buffer.constructor===ArrayBuffer});for(var y=function(Q,B,F){return function(U){return new u(Q,B,Q).update(U)[F]()}},d=function(Q,B,F){return function(U,g){return new u(Q,B,g).update(U)[F]()}},b=function(Q,B,F){return function(B,U,g,I){return D["cshake"+Q].update(B,U,g,I)[F]()}},V=function(Q,B,F){return function(B,U,g,I){return D["kmac"+Q].update(B,U,g,I)[F]()}},N=function(Q,B,F,U){for(var g=0;g<L.length;++g){var I=L[g];Q[I]=B(F,U,I)}return Q},R=function(Q,B){var F=y(Q,B,"hex");return F.create=function(){return new u(Q,B,Q)},F.update=function(Q){return F.create().update(Q)},N(F,y,Q,B)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:Z,createMethod:R},{name:"sha3",padding:[6,1536,393216,100663296],bits:Z,createMethod:R},{name:"shake",padding:[31,7936,2031616,520093696],bits:G,createMethod:function(Q,B){var F=d(Q,B,"hex");return F.create=function(F){return new u(Q,B,F)},F.update=function(Q,B){return F.create(B).update(Q)},N(F,d,Q,B)}},{name:"cshake",padding:c,bits:G,createMethod:function(Q,B){var F=x[Q],U=b(Q,0,"hex");return U.create=function(U,g,I){return g||I?new u(Q,B,U).bytepad([g,I],F):D["shake"+Q].create(U)},U.update=function(Q,B,F,g){return U.create(B,F,g).update(Q)},N(U,b,Q,B)}},{name:"kmac",padding:c,bits:G,createMethod:function(Q,B){var F=x[Q],U=V(Q,0,"hex");return U.create=function(U,g,I){return new H(Q,B,g).bytepad(["KMAC",I],F).bytepad([U],F)},U.update=function(Q,B,F,g){return U.create(Q,F,g).update(B)},N(U,V,Q,B)}}],D={},m=[],E=0;E<A.length;++E)for(var J=A[E],t=J.bits,i=0;i<t.length;++i){var X=J.name+"_"+t[i];if(m.push(X),D[X]=J.createMethod(t[i],J.padding),"sha3"!==J.name){var n=J.name+t[i];m.push(n),D[n]=D[X]}}function u(Q,B,F){this.blocks=[],this.s=[],this.padding=B,this.outputBits=F,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Q<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=F>>5,this.extraBytes=(31&F)>>3;for(var U=0;U<50;++U)this.s[U]=0}function H(Q,B,F){u.call(this,Q,B,F)}u.prototype.update=function(Q){if(this.finalized)throw new Error("finalize already called");var F,U=typeof Q;if("string"!==U){if("object"!==U)throw new Error(B);if(null===Q)throw new Error(B);if(C&&Q.constructor===ArrayBuffer)Q=new Uint8Array(Q);else if(!(Array.isArray(Q)||C&&ArrayBuffer.isView(Q)))throw new Error(B);F=!0}for(var g,I,s=this.blocks,c=this.byteCount,S=Q.length,Z=this.blockCount,G=0,L=this.s;G<S;){if(this.reset)for(this.reset=!1,s[0]=this.block,g=1;g<Z+1;++g)s[g]=0;if(F)for(g=this.start;G<S&&g<c;++G)s[g>>2]|=Q[G]<<l[3&g++];else for(g=this.start;G<S&&g<c;++G)(I=Q.charCodeAt(G))<128?s[g>>2]|=I<<l[3&g++]:I<2048?(s[g>>2]|=(192|I>>6)<<l[3&g++],s[g>>2]|=(128|63&I)<<l[3&g++]):I<55296||I>=57344?(s[g>>2]|=(224|I>>12)<<l[3&g++],s[g>>2]|=(128|I>>6&63)<<l[3&g++],s[g>>2]|=(128|63&I)<<l[3&g++]):(I=65536+((1023&I)<<10|1023&Q.charCodeAt(++G)),s[g>>2]|=(240|I>>18)<<l[3&g++],s[g>>2]|=(128|I>>12&63)<<l[3&g++],s[g>>2]|=(128|I>>6&63)<<l[3&g++],s[g>>2]|=(128|63&I)<<l[3&g++]);if(this.lastByteIndex=g,g>=c){for(this.start=g-c,this.block=s[Z],g=0;g<Z;++g)L[g]^=s[g];W(L),this.reset=!0}else this.start=g}return this},u.prototype.encode=function(Q,B){var F=255&Q,U=1,g=[F];for(F=255&(Q>>=8);F>0;)g.unshift(F),F=255&(Q>>=8),++U;return B?g.push(U):g.unshift(U),this.update(g),g.length},u.prototype.encodeString=function(Q){var F,U=typeof Q;if("string"!==U){if("object"!==U)throw new Error(B);if(null===Q)throw new Error(B);if(C&&Q.constructor===ArrayBuffer)Q=new Uint8Array(Q);else if(!(Array.isArray(Q)||C&&ArrayBuffer.isView(Q)))throw new Error(B);F=!0}var g=0,I=Q.length;if(F)g=I;else for(var s=0;s<Q.length;++s){var c=Q.charCodeAt(s);c<128?g+=1:c<2048?g+=2:c<55296||c>=57344?g+=3:(c=65536+((1023&c)<<10|1023&Q.charCodeAt(++s)),g+=4)}return g+=this.encode(8*g),this.update(Q),g},u.prototype.bytepad=function(Q,B){for(var F=this.encode(B),U=0;U<Q.length;++U)F+=this.encodeString(Q[U]);var g=B-F%B,I=[];return I.length=g,this.update(I),this},u.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Q=this.blocks,B=this.lastByteIndex,F=this.blockCount,U=this.s;if(Q[B>>2]|=this.padding[3&B],this.lastByteIndex===this.byteCount)for(Q[0]=Q[F],B=1;B<F+1;++B)Q[B]=0;for(Q[F-1]|=2147483648,B=0;B<F;++B)U[B]^=Q[B];W(U)}},u.prototype.toString=u.prototype.hex=function(){this.finalize();for(var Q,B=this.blockCount,F=this.s,U=this.outputBlocks,g=this.extraBytes,I=0,C=0,c="";C<U;){for(I=0;I<B&&C<U;++I,++C)Q=F[I],c+=s[Q>>4&15]+s[15&Q]+s[Q>>12&15]+s[Q>>8&15]+s[Q>>20&15]+s[Q>>16&15]+s[Q>>28&15]+s[Q>>24&15];C%B==0&&(W(F),I=0)}return g&&(Q=F[I],c+=s[Q>>4&15]+s[15&Q],g>1&&(c+=s[Q>>12&15]+s[Q>>8&15]),g>2&&(c+=s[Q>>20&15]+s[Q>>16&15])),c},u.prototype.arrayBuffer=function(){this.finalize();var Q,B=this.blockCount,F=this.s,U=this.outputBlocks,g=this.extraBytes,I=0,C=0,s=this.outputBits>>3;Q=g?new ArrayBuffer(U+1<<2):new ArrayBuffer(s);for(var c=new Uint32Array(Q);C<U;){for(I=0;I<B&&C<U;++I,++C)c[C]=F[I];C%B==0&&W(F)}return g&&(c[I]=F[I],Q=Q.slice(0,s)),Q},u.prototype.buffer=u.prototype.arrayBuffer,u.prototype.digest=u.prototype.array=function(){this.finalize();for(var Q,B,F=this.blockCount,U=this.s,g=this.outputBlocks,I=this.extraBytes,C=0,s=0,c=[];s<g;){for(C=0;C<F&&s<g;++C,++s)Q=s<<2,B=U[C],c[Q]=255&B,c[Q+1]=B>>8&255,c[Q+2]=B>>16&255,c[Q+3]=B>>24&255;s%F==0&&W(U)}return I&&(Q=s<<2,B=U[C],c[Q]=255&B,I>1&&(c[Q+1]=B>>8&255),I>2&&(c[Q+2]=B>>16&255)),c},H.prototype=new u,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),u.prototype.finalize.call(this)};var W=function(Q){var B,F,U,g,I,C,s,c,l,Z,G,L,x,y,d,b,V,N,R,A,D,m,E,J,t,i,X,n,u,H,W,a,o,h,Y,e,k,p,M,T,z,r,v,w,K,O,P,f,j,q,_,$,QQ,BQ,FQ,UQ,gQ,IQ,CQ,sQ,cQ,lQ,SQ;for(U=0;U<48;U+=2)g=Q[0]^Q[10]^Q[20]^Q[30]^Q[40],I=Q[1]^Q[11]^Q[21]^Q[31]^Q[41],C=Q[2]^Q[12]^Q[22]^Q[32]^Q[42],s=Q[3]^Q[13]^Q[23]^Q[33]^Q[43],c=Q[4]^Q[14]^Q[24]^Q[34]^Q[44],l=Q[5]^Q[15]^Q[25]^Q[35]^Q[45],Z=Q[6]^Q[16]^Q[26]^Q[36]^Q[46],G=Q[7]^Q[17]^Q[27]^Q[37]^Q[47],B=(L=Q[8]^Q[18]^Q[28]^Q[38]^Q[48])^(C<<1|s>>>31),F=(x=Q[9]^Q[19]^Q[29]^Q[39]^Q[49])^(s<<1|C>>>31),Q[0]^=B,Q[1]^=F,Q[10]^=B,Q[11]^=F,Q[20]^=B,Q[21]^=F,Q[30]^=B,Q[31]^=F,Q[40]^=B,Q[41]^=F,B=g^(c<<1|l>>>31),F=I^(l<<1|c>>>31),Q[2]^=B,Q[3]^=F,Q[12]^=B,Q[13]^=F,Q[22]^=B,Q[23]^=F,Q[32]^=B,Q[33]^=F,Q[42]^=B,Q[43]^=F,B=C^(Z<<1|G>>>31),F=s^(G<<1|Z>>>31),Q[4]^=B,Q[5]^=F,Q[14]^=B,Q[15]^=F,Q[24]^=B,Q[25]^=F,Q[34]^=B,Q[35]^=F,Q[44]^=B,Q[45]^=F,B=c^(L<<1|x>>>31),F=l^(x<<1|L>>>31),Q[6]^=B,Q[7]^=F,Q[16]^=B,Q[17]^=F,Q[26]^=B,Q[27]^=F,Q[36]^=B,Q[37]^=F,Q[46]^=B,Q[47]^=F,B=Z^(g<<1|I>>>31),F=G^(I<<1|g>>>31),Q[8]^=B,Q[9]^=F,Q[18]^=B,Q[19]^=F,Q[28]^=B,Q[29]^=F,Q[38]^=B,Q[39]^=F,Q[48]^=B,Q[49]^=F,y=Q[0],d=Q[1],O=Q[11]<<4|Q[10]>>>28,P=Q[10]<<4|Q[11]>>>28,n=Q[20]<<3|Q[21]>>>29,u=Q[21]<<3|Q[20]>>>29,sQ=Q[31]<<9|Q[30]>>>23,cQ=Q[30]<<9|Q[31]>>>23,r=Q[40]<<18|Q[41]>>>14,v=Q[41]<<18|Q[40]>>>14,h=Q[2]<<1|Q[3]>>>31,Y=Q[3]<<1|Q[2]>>>31,b=Q[13]<<12|Q[12]>>>20,V=Q[12]<<12|Q[13]>>>20,f=Q[22]<<10|Q[23]>>>22,j=Q[23]<<10|Q[22]>>>22,H=Q[33]<<13|Q[32]>>>19,W=Q[32]<<13|Q[33]>>>19,lQ=Q[42]<<2|Q[43]>>>30,SQ=Q[43]<<2|Q[42]>>>30,BQ=Q[5]<<30|Q[4]>>>2,FQ=Q[4]<<30|Q[5]>>>2,e=Q[14]<<6|Q[15]>>>26,k=Q[15]<<6|Q[14]>>>26,N=Q[25]<<11|Q[24]>>>21,R=Q[24]<<11|Q[25]>>>21,q=Q[34]<<15|Q[35]>>>17,_=Q[35]<<15|Q[34]>>>17,a=Q[45]<<29|Q[44]>>>3,o=Q[44]<<29|Q[45]>>>3,J=Q[6]<<28|Q[7]>>>4,t=Q[7]<<28|Q[6]>>>4,UQ=Q[17]<<23|Q[16]>>>9,gQ=Q[16]<<23|Q[17]>>>9,p=Q[26]<<25|Q[27]>>>7,M=Q[27]<<25|Q[26]>>>7,A=Q[36]<<21|Q[37]>>>11,D=Q[37]<<21|Q[36]>>>11,$=Q[47]<<24|Q[46]>>>8,QQ=Q[46]<<24|Q[47]>>>8,w=Q[8]<<27|Q[9]>>>5,K=Q[9]<<27|Q[8]>>>5,i=Q[18]<<20|Q[19]>>>12,X=Q[19]<<20|Q[18]>>>12,IQ=Q[29]<<7|Q[28]>>>25,CQ=Q[28]<<7|Q[29]>>>25,T=Q[38]<<8|Q[39]>>>24,z=Q[39]<<8|Q[38]>>>24,m=Q[48]<<14|Q[49]>>>18,E=Q[49]<<14|Q[48]>>>18,Q[0]=y^~b&N,Q[1]=d^~V&R,Q[10]=J^~i&n,Q[11]=t^~X&u,Q[20]=h^~e&p,Q[21]=Y^~k&M,Q[30]=w^~O&f,Q[31]=K^~P&j,Q[40]=BQ^~UQ&IQ,Q[41]=FQ^~gQ&CQ,Q[2]=b^~N&A,Q[3]=V^~R&D,Q[12]=i^~n&H,Q[13]=X^~u&W,Q[22]=e^~p&T,Q[23]=k^~M&z,Q[32]=O^~f&q,Q[33]=P^~j&_,Q[42]=UQ^~IQ&sQ,Q[43]=gQ^~CQ&cQ,Q[4]=N^~A&m,Q[5]=R^~D&E,Q[14]=n^~H&a,Q[15]=u^~W&o,Q[24]=p^~T&r,Q[25]=M^~z&v,Q[34]=f^~q&$,Q[35]=j^~_&QQ,Q[44]=IQ^~sQ&lQ,Q[45]=CQ^~cQ&SQ,Q[6]=A^~m&y,Q[7]=D^~E&d,Q[16]=H^~a&J,Q[17]=W^~o&t,Q[26]=T^~r&h,Q[27]=z^~v&Y,Q[36]=q^~$&w,Q[37]=_^~QQ&K,Q[46]=sQ^~lQ&BQ,Q[47]=cQ^~SQ&FQ,Q[8]=m^~y&b,Q[9]=E^~d&V,Q[18]=a^~J&i,Q[19]=o^~t&X,Q[28]=r^~h&e,Q[29]=v^~Y&k,Q[38]=$^~w&O,Q[39]=QQ^~K&P,Q[48]=lQ^~BQ&UQ,Q[49]=SQ^~FQ&gQ,Q[0]^=S[U],Q[1]^=S[U+1]};if(I)Q.exports=D;else for(E=0;E<m.length;++E)U[m[E]]=D[m[E]]}()}($B);var QF=$B.exports;function BF(Q){return"0x"+QF.keccak_256(aQ(Q))}const FF=new iQ("address/5.6.0");function UF(Q){hQ(Q,20)||FF.throwArgumentError("invalid address","address",Q);const B=(Q=Q.toLowerCase()).substring(2).split(""),F=new Uint8Array(40);for(let Q=0;Q<40;Q++)F[Q]=B[Q].charCodeAt(0);const U=aQ(BF(F));for(let Q=0;Q<40;Q+=2)U[Q>>1]>>4>=8&&(B[Q]=B[Q].toUpperCase()),(15&U[Q>>1])>=8&&(B[Q+1]=B[Q+1].toUpperCase());return"0x"+B.join("")}const gF={};for(let Q=0;Q<10;Q++)gF[String(Q)]=String(Q);for(let Q=0;Q<26;Q++)gF[String.fromCharCode(65+Q)]=String(10+Q);const IF=Math.floor((CF=9007199254740991,Math.log10?Math.log10(CF):Math.log(CF)/Math.LN10));var CF;function sF(Q){let B=null;if("string"!=typeof Q&&FF.throwArgumentError("invalid address","address",Q),Q.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==Q.substring(0,2)&&(Q="0x"+Q),B=UF(Q),Q.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&B!==Q&&FF.throwArgumentError("bad address checksum","address",Q);else if(Q.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(Q.substring(2,4)!==function(Q){let B=(Q=(Q=Q.toUpperCase()).substring(4)+Q.substring(0,2)+"00").split("").map((Q=>gF[Q])).join("");for(;B.length>=IF;){let Q=B.substring(0,IF);B=parseInt(Q,10)%97+B.substring(Q.length)}let F=String(98-parseInt(B,10)%97);for(;F.length<2;)F="0"+F;return F}(Q)&&FF.throwArgumentError("bad icap checksum","address",Q),F=Q.substring(4),B=new kQ(F,36).toString(16);B.length<40;)B="0"+B;B=UF("0x"+B)}else FF.throwArgumentError("invalid address","address",Q);var F;return B}class cF extends JB{constructor(Q){super("address","address",Q,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(Q,B){try{B=sF(B)}catch(Q){this._throwError(Q.message,B)}return Q.writeValue(B)}decode(Q){return sF(eQ(Q.readValue().toHexString(),20))}}class lF extends JB{constructor(Q){super(Q.name,Q.type,void 0,Q.dynamic),this.coder=Q}defaultValue(){return this.coder.defaultValue()}encode(Q,B){return this.coder.encode(Q,B)}decode(Q){return this.coder.decode(Q)}}const SF=new iQ("abi/5.6.0");function ZF(Q,B,F){let U=null;if(Array.isArray(F))U=F;else if(F&&"object"==typeof F){let Q={};U=B.map((B=>{const U=B.localName;return U||SF.throwError("cannot encode object for signature with missing names",iQ.errors.INVALID_ARGUMENT,{argument:"values",coder:B,value:F}),Q[U]&&SF.throwError("cannot encode object for signature with duplicate names",iQ.errors.INVALID_ARGUMENT,{argument:"values",coder:B,value:F}),Q[U]=!0,F[U]}))}else SF.throwArgumentError("invalid tuple value","tuple",F);B.length!==U.length&&SF.throwArgumentError("types/value length mismatch","tuple",F);let g=new tB(Q.wordSize),I=new tB(Q.wordSize),C=[];B.forEach(((Q,B)=>{let F=U[B];if(Q.dynamic){let B=I.length;Q.encode(I,F);let U=g.writeUpdatableValue();C.push((Q=>{U(Q+B)}))}else Q.encode(g,F)})),C.forEach((Q=>{Q(g.length)}));let s=Q.appendWriter(g);return s+=Q.appendWriter(I),s}function GF(Q,B){let F=[],U=Q.subReader(0);B.forEach((B=>{let g=null;if(B.dynamic){let F=Q.readValue(),I=U.subReader(F.toNumber());try{g=B.decode(I)}catch(Q){if(Q.code===iQ.errors.BUFFER_OVERRUN)throw Q;g=Q,g.baseType=B.name,g.name=B.localName,g.type=B.type}}else try{g=B.decode(Q)}catch(Q){if(Q.code===iQ.errors.BUFFER_OVERRUN)throw Q;g=Q,g.baseType=B.name,g.name=B.localName,g.type=B.type}null!=g&&F.push(g)}));const g=B.reduce(((Q,B)=>{const F=B.localName;return F&&(Q[F]||(Q[F]=0),Q[F]++),Q}),{});B.forEach(((Q,B)=>{let U=Q.localName;if(!U||1!==g[U])return;if("length"===U&&(U="_length"),null!=F[U])return;const I=F[B];I instanceof Error?Object.defineProperty(F,U,{enumerable:!0,get:()=>{throw I}}):F[U]=I}));for(let Q=0;Q<F.length;Q++){const B=F[Q];B instanceof Error&&Object.defineProperty(F,Q,{enumerable:!0,get:()=>{throw B}})}return Object.freeze(F)}class LF extends JB{constructor(Q,B,F){super("array",Q.type+"["+(B>=0?B:"")+"]",F,-1===B||Q.dynamic),this.coder=Q,this.length=B}defaultValue(){const Q=this.coder.defaultValue(),B=[];for(let F=0;F<this.length;F++)B.push(Q);return B}encode(Q,B){Array.isArray(B)||this._throwError("expected array value",B);let F=this.length;-1===F&&(F=B.length,Q.writeValue(B.length)),SF.checkArgumentCount(B.length,F,"coder array"+(this.localName?" "+this.localName:""));let U=[];for(let Q=0;Q<B.length;Q++)U.push(this.coder);return ZF(Q,U,B)}decode(Q){let B=this.length;-1===B&&(B=Q.readValue().toNumber(),32*B>Q._data.length&&SF.throwError("insufficient data length",iQ.errors.BUFFER_OVERRUN,{length:Q._data.length,count:B}));let F=[];for(let Q=0;Q<B;Q++)F.push(new lF(this.coder));return Q.coerce(this.name,GF(Q,F))}}class xF extends JB{constructor(Q){super("bool","bool",Q,!1)}defaultValue(){return!1}encode(Q,B){return Q.writeValue(B?1:0)}decode(Q){return Q.coerce(this.type,!Q.readValue().isZero())}}class yF extends JB{constructor(Q,B){super(Q,Q,B,!0)}defaultValue(){return"0x"}encode(Q,B){B=aQ(B);let F=Q.writeValue(B.length);return F+=Q.writeBytes(B),F}decode(Q){return Q.readBytes(Q.readValue().toNumber(),!0)}}class dF extends yF{constructor(Q){super("bytes",Q)}decode(Q){return Q.coerce(this.name,YQ(super.decode(Q)))}}class bF extends JB{constructor(Q,B){let F="bytes"+String(Q);super(F,F,B,!1),this.size=Q}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(Q,B){let F=aQ(B);return F.length!==this.size&&this._throwError("incorrect data length",B),Q.writeBytes(F)}decode(Q){return Q.coerce(this.name,YQ(Q.readBytes(this.size)))}}class VF extends JB{constructor(Q){super("null","",Q,!1)}defaultValue(){return null}encode(Q,B){return null!=B&&this._throwError("not null",B),Q.writeBytes([])}decode(Q){return Q.readBytes(0),Q.coerce(this.name,null)}}const NF=zQ.from(-1),RF=zQ.from(0),AF=zQ.from(1),DF=zQ.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class mF extends JB{constructor(Q,B,F){const U=(B?"int":"uint")+8*Q;super(U,U,F,!1),this.size=Q,this.signed=B}defaultValue(){return 0}encode(Q,B){let F=zQ.from(B),U=DF.mask(8*Q.wordSize);if(this.signed){let Q=U.mask(8*this.size-1);(F.gt(Q)||F.lt(Q.add(AF).mul(NF)))&&this._throwError("value out-of-bounds",B)}else(F.lt(RF)||F.gt(U.mask(8*this.size)))&&this._throwError("value out-of-bounds",B);return F=F.toTwos(8*this.size).mask(8*this.size),this.signed&&(F=F.fromTwos(8*this.size).toTwos(8*Q.wordSize)),Q.writeValue(F)}decode(Q){let B=Q.readValue().mask(8*this.size);return this.signed&&(B=B.fromTwos(8*this.size)),Q.coerce(this.name,B)}}const EF=new iQ("strings/5.6.0");var JF,tF;function iF(Q,B,F,U,g){if(Q===tF.BAD_PREFIX||Q===tF.UNEXPECTED_CONTINUE){let Q=0;for(let U=B+1;U<F.length&&F[U]>>6==2;U++)Q++;return Q}return Q===tF.OVERRUN?F.length-B-1:0}!function(Q){Q.current="",Q.NFC="NFC",Q.NFD="NFD",Q.NFKC="NFKC",Q.NFKD="NFKD"}(JF||(JF={})),function(Q){Q.UNEXPECTED_CONTINUE="unexpected continuation byte",Q.BAD_PREFIX="bad codepoint prefix",Q.OVERRUN="string overrun",Q.MISSING_CONTINUE="missing continuation byte",Q.OUT_OF_RANGE="out of UTF-8 range",Q.UTF16_SURROGATE="UTF-16 surrogate",Q.OVERLONG="overlong representation"}(tF||(tF={}));const XF=Object.freeze({error:function(Q,B,F,U,g){return EF.throwArgumentError(`invalid codepoint at offset ${B}; ${Q}`,"bytes",F)},ignore:iF,replace:function(Q,B,F,U,g){return Q===tF.OVERLONG?(U.push(g),0):(U.push(65533),iF(Q,B,F))}});function nF(Q,B=JF.current){B!=JF.current&&(EF.checkNormalize(),Q=Q.normalize(B));let F=[];for(let B=0;B<Q.length;B++){const U=Q.charCodeAt(B);if(U<128)F.push(U);else if(U<2048)F.push(U>>6|192),F.push(63&U|128);else if(55296==(64512&U)){B++;const g=Q.charCodeAt(B);if(B>=Q.length||56320!=(64512&g))throw new Error("invalid utf-8 string");const I=65536+((1023&U)<<10)+(1023&g);F.push(I>>18|240),F.push(I>>12&63|128),F.push(I>>6&63|128),F.push(63&I|128)}else F.push(U>>12|224),F.push(U>>6&63|128),F.push(63&U|128)}return aQ(F)}function uF(Q,B){return F=function(Q,B){null==B&&(B=XF.error),Q=aQ(Q);const F=[];let U=0;for(;U<Q.length;){const g=Q[U++];if(g>>7==0){F.push(g);continue}let I=null,C=null;if(192==(224&g))I=1,C=127;else if(224==(240&g))I=2,C=2047;else{if(240!=(248&g)){U+=B(128==(192&g)?tF.UNEXPECTED_CONTINUE:tF.BAD_PREFIX,U-1,Q,F);continue}I=3,C=65535}if(U-1+I>=Q.length){U+=B(tF.OVERRUN,U-1,Q,F);continue}let s=g&(1<<8-I-1)-1;for(let g=0;g<I;g++){let g=Q[U];if(128!=(192&g)){U+=B(tF.MISSING_CONTINUE,U,Q,F),s=null;break}s=s<<6|63&g,U++}null!==s&&(s>1114111?U+=B(tF.OUT_OF_RANGE,U-1-I,Q,F,s):s>=55296&&s<=57343?U+=B(tF.UTF16_SURROGATE,U-1-I,Q,F,s):s<=C?U+=B(tF.OVERLONG,U-1-I,Q,F,s):F.push(s))}return F}(Q,B),F.map((Q=>Q<=65535?String.fromCharCode(Q):(Q-=65536,String.fromCharCode(55296+(Q>>10&1023),56320+(1023&Q))))).join("");var F}class HF extends yF{constructor(Q){super("string",Q)}defaultValue(){return""}encode(Q,B){return super.encode(Q,nF(B))}decode(Q){return uF(super.decode(Q))}}class WF extends JB{constructor(Q,B){let F=!1;const U=[];Q.forEach((Q=>{Q.dynamic&&(F=!0),U.push(Q.type)}));super("tuple","tuple("+U.join(",")+")",B,F),this.coders=Q}defaultValue(){const Q=[];this.coders.forEach((B=>{Q.push(B.defaultValue())}));const B=this.coders.reduce(((Q,B)=>{const F=B.localName;return F&&(Q[F]||(Q[F]=0),Q[F]++),Q}),{});return this.coders.forEach(((F,U)=>{let g=F.localName;g&&1===B[g]&&("length"===g&&(g="_length"),null==Q[g]&&(Q[g]=Q[U]))})),Object.freeze(Q)}encode(Q,B){return ZF(Q,this.coders,B)}decode(Q){return Q.coerce(this.name,GF(Q,this.coders))}}const aF=new iQ("abi/5.6.0"),oF=new RegExp(/^bytes([0-9]*)$/),hF=new RegExp(/^(u?int)([0-9]*)$/);class YF{constructor(Q){aF.checkNew(new.target,YF),PQ(this,"coerceFunc",Q||null)}_getCoder(Q){switch(Q.baseType){case"address":return new cF(Q.name);case"bool":return new xF(Q.name);case"string":return new HF(Q.name);case"bytes":return new dF(Q.name);case"array":return new LF(this._getCoder(Q.arrayChildren),Q.arrayLength,Q.name);case"tuple":return new WF((Q.components||[]).map((Q=>this._getCoder(Q))),Q.name);case"":return new VF(Q.name)}let B=Q.type.match(hF);if(B){let F=parseInt(B[2]||"256");return(0===F||F>256||F%8!=0)&&aF.throwArgumentError("invalid "+B[1]+" bit length","param",Q),new mF(F/8,"int"===B[1],Q.name)}if(B=Q.type.match(oF),B){let F=parseInt(B[1]);return(0===F||F>32)&&aF.throwArgumentError("invalid bytes length","param",Q),new bF(F,Q.name)}return aF.throwArgumentError("invalid type","type",Q.type)}_getWordSize(){return 32}_getReader(Q,B){return new iB(Q,this._getWordSize(),this.coerceFunc,B)}_getWriter(){return new tB(this._getWordSize())}getDefaultValue(Q){const B=Q.map((Q=>this._getCoder(lB.from(Q))));return new WF(B,"_").defaultValue()}encode(Q,B){Q.length!==B.length&&aF.throwError("types/values length mismatch",iQ.errors.INVALID_ARGUMENT,{count:{types:Q.length,values:B.length},value:{types:Q,values:B}});const F=Q.map((Q=>this._getCoder(lB.from(Q)))),U=new WF(F,"_"),g=this._getWriter();return U.encode(g,B),g.data}decode(Q,B,F){const U=Q.map((Q=>this._getCoder(lB.from(Q))));return new WF(U,"_").decode(this._getReader(aQ(B),F))}}const eF=new YF;function kF(Q){return BF(nF(Q))}const pF=new iQ("abi/5.6.0");class MF extends QB{}class TF extends QB{}class zF extends QB{}class rF extends QB{static isIndexed(Q){return!(!Q||!Q._isIndexed)}}const vF={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wF(Q,B){const F=new Error(`deferred error during ABI decoding triggered accessing ${Q}`);return F.error=B,F}class KF{constructor(Q){pF.checkNew(new.target,KF);let B=[];B="string"==typeof Q?JSON.parse(Q):Q,PQ(this,"fragments",B.map((Q=>ZB.from(Q))).filter((Q=>null!=Q))),PQ(this,"_abiCoder",fQ(new.target,"getAbiCoder")()),PQ(this,"functions",{}),PQ(this,"errors",{}),PQ(this,"events",{}),PQ(this,"structs",{}),this.fragments.forEach((Q=>{let B=null;switch(Q.type){case"constructor":return this.deploy?void pF.warn("duplicate definition - constructor"):void PQ(this,"deploy",Q);case"function":B=this.functions;break;case"event":B=this.events;break;case"error":B=this.errors;break;default:return}let F=Q.format();B[F]?pF.warn("duplicate definition - "+F):B[F]=Q})),this.deploy||PQ(this,"deploy",dB.from({payable:!1,type:"constructor"})),PQ(this,"_isInterface",!0)}format(Q){Q||(Q=sB.full),Q===sB.sighash&&pF.throwArgumentError("interface does not support formatting sighash","format",Q);const B=this.fragments.map((B=>B.format(Q)));return Q===sB.json?JSON.stringify(B.map((Q=>JSON.parse(Q)))):B}static getAbiCoder(){return eF}static getAddress(Q){return sF(Q)}static getSighash(Q){return B=kF(Q.format()),F=0,U=4,"string"!=typeof B?B=YQ(B):(!hQ(B)||B.length%2)&&XQ.throwArgumentError("invalid hexData","value",B),F=2+2*F,null!=U?"0x"+B.substring(F,2+2*U):"0x"+B.substring(F);var B,F,U}static getEventTopic(Q){return kF(Q.format())}getFunction(Q){if(hQ(Q)){for(const B in this.functions)if(Q===this.getSighash(B))return this.functions[B];pF.throwArgumentError("no matching function","sighash",Q)}if(-1===Q.indexOf("(")){const B=Q.trim(),F=Object.keys(this.functions).filter((Q=>Q.split("(")[0]===B));return 0===F.length?pF.throwArgumentError("no matching function","name",B):F.length>1&&pF.throwArgumentError("multiple matching functions","name",B),this.functions[F[0]]}const B=this.functions[bB.fromString(Q).format()];return B||pF.throwArgumentError("no matching function","signature",Q),B}getEvent(Q){if(hQ(Q)){const B=Q.toLowerCase();for(const Q in this.events)if(B===this.getEventTopic(Q))return this.events[Q];pF.throwArgumentError("no matching event","topichash",B)}if(-1===Q.indexOf("(")){const B=Q.trim(),F=Object.keys(this.events).filter((Q=>Q.split("(")[0]===B));return 0===F.length?pF.throwArgumentError("no matching event","name",B):F.length>1&&pF.throwArgumentError("multiple matching events","name",B),this.events[F[0]]}const B=this.events[GB.fromString(Q).format()];return B||pF.throwArgumentError("no matching event","signature",Q),B}getError(Q){if(hQ(Q)){const B=fQ(this.constructor,"getSighash");for(const F in this.errors){if(Q===B(this.errors[F]))return this.errors[F]}pF.throwArgumentError("no matching error","sighash",Q)}if(-1===Q.indexOf("(")){const B=Q.trim(),F=Object.keys(this.errors).filter((Q=>Q.split("(")[0]===B));return 0===F.length?pF.throwArgumentError("no matching error","name",B):F.length>1&&pF.throwArgumentError("multiple matching errors","name",B),this.errors[F[0]]}const B=this.errors[bB.fromString(Q).format()];return B||pF.throwArgumentError("no matching error","signature",Q),B}getSighash(Q){if("string"==typeof Q)try{Q=this.getFunction(Q)}catch(B){try{Q=this.getError(Q)}catch(Q){throw B}}return fQ(this.constructor,"getSighash")(Q)}getEventTopic(Q){return"string"==typeof Q&&(Q=this.getEvent(Q)),fQ(this.constructor,"getEventTopic")(Q)}_decodeParams(Q,B){return this._abiCoder.decode(Q,B)}_encodeParams(Q,B){return this._abiCoder.encode(Q,B)}encodeDeploy(Q){return this._encodeParams(this.deploy.inputs,Q||[])}decodeErrorResult(Q,B){"string"==typeof Q&&(Q=this.getError(Q));const F=aQ(B);return YQ(F.slice(0,4))!==this.getSighash(Q)&&pF.throwArgumentError(`data signature does not match error ${Q.name}.`,"data",YQ(F)),this._decodeParams(Q.inputs,F.slice(4))}encodeErrorResult(Q,B){return"string"==typeof Q&&(Q=this.getError(Q)),YQ(oQ([this.getSighash(Q),this._encodeParams(Q.inputs,B||[])]))}decodeFunctionData(Q,B){"string"==typeof Q&&(Q=this.getFunction(Q));const F=aQ(B);return YQ(F.slice(0,4))!==this.getSighash(Q)&&pF.throwArgumentError(`data signature does not match function ${Q.name}.`,"data",YQ(F)),this._decodeParams(Q.inputs,F.slice(4))}encodeFunctionData(Q,B){return"string"==typeof Q&&(Q=this.getFunction(Q)),YQ(oQ([this.getSighash(Q),this._encodeParams(Q.inputs,B||[])]))}decodeFunctionResult(Q,B){"string"==typeof Q&&(Q=this.getFunction(Q));let F=aQ(B),U=null,g=null,I=null,C=null;switch(F.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(Q.outputs,F)}catch(Q){}break;case 4:{const Q=YQ(F.slice(0,4)),B=vF[Q];if(B)g=this._abiCoder.decode(B.inputs,F.slice(4)),I=B.name,C=B.signature,B.reason&&(U=g[0]);else try{const B=this.getError(Q);g=this._abiCoder.decode(B.inputs,F.slice(4)),I=B.name,C=B.format()}catch(Q){}break}}return pF.throwError("call revert exception",iQ.errors.CALL_EXCEPTION,{method:Q.format(),errorArgs:g,errorName:I,errorSignature:C,reason:U})}encodeFunctionResult(Q,B){return"string"==typeof Q&&(Q=this.getFunction(Q)),YQ(this._abiCoder.encode(Q.outputs,B||[]))}encodeFilterTopics(Q,B){"string"==typeof Q&&(Q=this.getEvent(Q)),B.length>Q.inputs.length&&pF.throwError("too many arguments for "+Q.format(),iQ.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:B});let F=[];Q.anonymous||F.push(this.getEventTopic(Q));const U=(Q,B)=>"string"===Q.type?kF(B):"bytes"===Q.type?BF(YQ(B)):("address"===Q.type&&this._abiCoder.encode(["address"],[B]),eQ(YQ(B),32));for(B.forEach(((B,g)=>{let I=Q.inputs[g];I.indexed?null==B?F.push(null):"array"===I.baseType||"tuple"===I.baseType?pF.throwArgumentError("filtering with tuples or arrays not supported","contract."+I.name,B):Array.isArray(B)?F.push(B.map((Q=>U(I,Q)))):F.push(U(I,B)):null!=B&&pF.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+I.name,B)}));F.length&&null===F[F.length-1];)F.pop();return F}encodeEventLog(Q,B){"string"==typeof Q&&(Q=this.getEvent(Q));const F=[],U=[],g=[];return Q.anonymous||F.push(this.getEventTopic(Q)),B.length!==Q.inputs.length&&pF.throwArgumentError("event arguments/values mismatch","values",B),Q.inputs.forEach(((Q,I)=>{const C=B[I];if(Q.indexed)if("string"===Q.type)F.push(kF(C));else if("bytes"===Q.type)F.push(BF(C));else{if("tuple"===Q.baseType||"array"===Q.baseType)throw new Error("not implemented");F.push(this._abiCoder.encode([Q.type],[C]))}else U.push(Q),g.push(C)})),{data:this._abiCoder.encode(U,g),topics:F}}decodeEventLog(Q,B,F){if("string"==typeof Q&&(Q=this.getEvent(Q)),null!=F&&!Q.anonymous){let B=this.getEventTopic(Q);hQ(F[0],32)&&F[0].toLowerCase()===B||pF.throwError("fragment/topic mismatch",iQ.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:B,value:F[0]}),F=F.slice(1)}let U=[],g=[],I=[];Q.inputs.forEach(((Q,B)=>{Q.indexed?"string"===Q.type||"bytes"===Q.type||"tuple"===Q.baseType||"array"===Q.baseType?(U.push(lB.fromObject({type:"bytes32",name:Q.name})),I.push(!0)):(U.push(Q),I.push(!1)):(g.push(Q),I.push(!1))}));let C=null!=F?this._abiCoder.decode(U,oQ(F)):null,s=this._abiCoder.decode(g,B,!0),c=[],l=0,S=0;Q.inputs.forEach(((Q,B)=>{if(Q.indexed)if(null==C)c[B]=new rF({_isIndexed:!0,hash:null});else if(I[B])c[B]=new rF({_isIndexed:!0,hash:C[S++]});else try{c[B]=C[S++]}catch(Q){c[B]=Q}else try{c[B]=s[l++]}catch(Q){c[B]=Q}if(Q.name&&null==c[Q.name]){const F=c[B];F instanceof Error?Object.defineProperty(c,Q.name,{enumerable:!0,get:()=>{throw wF(`property ${JSON.stringify(Q.name)}`,F)}}):c[Q.name]=F}}));for(let Q=0;Q<c.length;Q++){const B=c[Q];B instanceof Error&&Object.defineProperty(c,Q,{enumerable:!0,get:()=>{throw wF(`index ${Q}`,B)}})}return Object.freeze(c)}parseTransaction(Q){let B=this.getFunction(Q.data.substring(0,10).toLowerCase());return B?new TF({args:this._abiCoder.decode(B.inputs,"0x"+Q.data.substring(10)),functionFragment:B,name:B.name,signature:B.format(),sighash:this.getSighash(B),value:zQ.from(Q.value||"0")}):null}parseLog(Q){let B=this.getEvent(Q.topics[0]);return!B||B.anonymous?null:new MF({eventFragment:B,name:B.name,signature:B.format(),topic:this.getEventTopic(B),args:this.decodeEventLog(B,Q.data,Q.topics)})}parseError(Q){const B=YQ(Q);let F=this.getError(B.substring(0,10).toLowerCase());return F?new zF({args:this._abiCoder.decode(F.inputs,"0x"+B.substring(10)),errorFragment:F,name:F.name,signature:F.format(),sighash:this.getSighash(F)}):null}static isInterface(Q){return!(!Q||!Q._isInterface)}}function OF(Q,B){(null==B||B>Q.length)&&(B=Q.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=Q[F];return U}function PF(Q,B){if(Q){if("string"==typeof Q)return OF(Q,B);var F=Object.prototype.toString.call(Q).slice(8,-1);return"Object"===F&&Q.constructor&&(F=Q.constructor.name),"Map"===F||"Set"===F?Array.from(Q):"Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?OF(Q,B):void 0}}function fF(Q){return function(Q){if(Array.isArray(Q))return OF(Q)}(Q)||function(Q){if("undefined"!=typeof Symbol&&null!=Q[Symbol.iterator]||null!=Q["@@iterator"])return Array.from(Q)}(Q)||PF(Q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jF(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function qF(Q,B){return qF=Object.setPrototypeOf||function(Q,B){return Q.__proto__=B,Q},qF(Q,B)}function _F(Q,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(B&&B.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),B&&qF(Q,B)}function $F(Q){return $F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},$F(Q)}function QU(Q,B){if(B&&("object"===$F(B)||"function"==typeof B))return B;if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");return jF(Q)}function BU(Q){return BU=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},BU(Q)}var FU=gU,UU=null;try{UU=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Q){}function gU(Q,B,F){this.low=0|Q,this.high=0|B,this.unsigned=!!F}function IU(Q){return!0===(Q&&Q.__isLong__)}gU.prototype.__isLong__,Object.defineProperty(gU.prototype,"__isLong__",{value:!0}),gU.isLong=IU;var CU={},sU={};function cU(Q,B){var F,U,g;return B?(g=0<=(Q>>>=0)&&Q<256)&&(U=sU[Q])?U:(F=SU(Q,(0|Q)<0?-1:0,!0),g&&(sU[Q]=F),F):(g=-128<=(Q|=0)&&Q<128)&&(U=CU[Q])?U:(F=SU(Q,Q<0?-1:0,!1),g&&(CU[Q]=F),F)}function lU(Q,B){if(isNaN(Q))return B?NU:VU;if(B){if(Q<0)return NU;if(Q>=yU)return EU}else{if(Q<=-dU)return JU;if(Q+1>=dU)return mU}return Q<0?lU(-Q,B).neg():SU(Q%xU|0,Q/xU|0,B)}function SU(Q,B,F){return new gU(Q,B,F)}gU.fromInt=cU,gU.fromNumber=lU,gU.fromBits=SU;var ZU=Math.pow;function GU(Q,B,F){if(0===Q.length)throw Error("empty string");if("NaN"===Q||"Infinity"===Q||"+Infinity"===Q||"-Infinity"===Q)return VU;if("number"==typeof B?(F=B,B=!1):B=!!B,(F=F||10)<2||36<F)throw RangeError("radix");var U;if((U=Q.indexOf("-"))>0)throw Error("interior hyphen");if(0===U)return GU(Q.substring(1),B,F).neg();for(var g=lU(ZU(F,8)),I=VU,C=0;C<Q.length;C+=8){var s=Math.min(8,Q.length-C),c=parseInt(Q.substring(C,C+s),F);if(s<8){var l=lU(ZU(F,s));I=I.mul(l).add(lU(c))}else I=(I=I.mul(g)).add(lU(c))}return I.unsigned=B,I}function LU(Q,B){return"number"==typeof Q?lU(Q,B):"string"==typeof Q?GU(Q,B):SU(Q.low,Q.high,"boolean"==typeof B?B:Q.unsigned)}gU.fromString=GU,gU.fromValue=LU;var xU=4294967296,yU=xU*xU,dU=yU/2,bU=cU(1<<24),VU=cU(0);gU.ZERO=VU;var NU=cU(0,!0);gU.UZERO=NU;var RU=cU(1);gU.ONE=RU;var AU=cU(1,!0);gU.UONE=AU;var DU=cU(-1);gU.NEG_ONE=DU;var mU=SU(-1,2147483647,!1);gU.MAX_VALUE=mU;var EU=SU(-1,-1,!0);gU.MAX_UNSIGNED_VALUE=EU;var JU=SU(0,-2147483648,!1);gU.MIN_VALUE=JU;var tU=gU.prototype;tU.toInt=function(){return this.unsigned?this.low>>>0:this.low},tU.toNumber=function(){return this.unsigned?(this.high>>>0)*xU+(this.low>>>0):this.high*xU+(this.low>>>0)},tU.toString=function(Q){if((Q=Q||10)<2||36<Q)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(JU)){var B=lU(Q),F=this.div(B),U=F.mul(B).sub(this);return F.toString(Q)+U.toInt().toString(Q)}return"-"+this.neg().toString(Q)}for(var g=lU(ZU(Q,6),this.unsigned),I=this,C="";;){var s=I.div(g),c=(I.sub(s.mul(g)).toInt()>>>0).toString(Q);if((I=s).isZero())return c+C;for(;c.length<6;)c="0"+c;C=""+c+C}},tU.getHighBits=function(){return this.high},tU.getHighBitsUnsigned=function(){return this.high>>>0},tU.getLowBits=function(){return this.low},tU.getLowBitsUnsigned=function(){return this.low>>>0},tU.getNumBitsAbs=function(){if(this.isNegative())return this.eq(JU)?64:this.neg().getNumBitsAbs();for(var Q=0!=this.high?this.high:this.low,B=31;B>0&&0==(Q&1<<B);B--);return 0!=this.high?B+33:B+1},tU.isZero=function(){return 0===this.high&&0===this.low},tU.eqz=tU.isZero,tU.isNegative=function(){return!this.unsigned&&this.high<0},tU.isPositive=function(){return this.unsigned||this.high>=0},tU.isOdd=function(){return 1==(1&this.low)},tU.isEven=function(){return 0==(1&this.low)},tU.equals=function(Q){return IU(Q)||(Q=LU(Q)),(this.unsigned===Q.unsigned||this.high>>>31!=1||Q.high>>>31!=1)&&(this.high===Q.high&&this.low===Q.low)},tU.eq=tU.equals,tU.notEquals=function(Q){return!this.eq(Q)},tU.neq=tU.notEquals,tU.ne=tU.notEquals,tU.lessThan=function(Q){return this.comp(Q)<0},tU.lt=tU.lessThan,tU.lessThanOrEqual=function(Q){return this.comp(Q)<=0},tU.lte=tU.lessThanOrEqual,tU.le=tU.lessThanOrEqual,tU.greaterThan=function(Q){return this.comp(Q)>0},tU.gt=tU.greaterThan,tU.greaterThanOrEqual=function(Q){return this.comp(Q)>=0},tU.gte=tU.greaterThanOrEqual,tU.ge=tU.greaterThanOrEqual,tU.compare=function(Q){if(IU(Q)||(Q=LU(Q)),this.eq(Q))return 0;var B=this.isNegative(),F=Q.isNegative();return B&&!F?-1:!B&&F?1:this.unsigned?Q.high>>>0>this.high>>>0||Q.high===this.high&&Q.low>>>0>this.low>>>0?-1:1:this.sub(Q).isNegative()?-1:1},tU.comp=tU.compare,tU.negate=function(){return!this.unsigned&&this.eq(JU)?JU:this.not().add(RU)},tU.neg=tU.negate,tU.add=function(Q){IU(Q)||(Q=LU(Q));var B=this.high>>>16,F=65535&this.high,U=this.low>>>16,g=65535&this.low,I=Q.high>>>16,C=65535&Q.high,s=Q.low>>>16,c=0,l=0,S=0,Z=0;return S+=(Z+=g+(65535&Q.low))>>>16,l+=(S+=U+s)>>>16,c+=(l+=F+C)>>>16,c+=B+I,SU((S&=65535)<<16|(Z&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},tU.subtract=function(Q){return IU(Q)||(Q=LU(Q)),this.add(Q.neg())},tU.sub=tU.subtract,tU.multiply=function(Q){if(this.isZero())return VU;if(IU(Q)||(Q=LU(Q)),UU)return SU(UU.mul(this.low,this.high,Q.low,Q.high),UU.get_high(),this.unsigned);if(Q.isZero())return VU;if(this.eq(JU))return Q.isOdd()?JU:VU;if(Q.eq(JU))return this.isOdd()?JU:VU;if(this.isNegative())return Q.isNegative()?this.neg().mul(Q.neg()):this.neg().mul(Q).neg();if(Q.isNegative())return this.mul(Q.neg()).neg();if(this.lt(bU)&&Q.lt(bU))return lU(this.toNumber()*Q.toNumber(),this.unsigned);var B=this.high>>>16,F=65535&this.high,U=this.low>>>16,g=65535&this.low,I=Q.high>>>16,C=65535&Q.high,s=Q.low>>>16,c=65535&Q.low,l=0,S=0,Z=0,G=0;return Z+=(G+=g*c)>>>16,S+=(Z+=U*c)>>>16,Z&=65535,S+=(Z+=g*s)>>>16,l+=(S+=F*c)>>>16,S&=65535,l+=(S+=U*s)>>>16,S&=65535,l+=(S+=g*C)>>>16,l+=B*c+F*s+U*C+g*I,SU((Z&=65535)<<16|(G&=65535),(l&=65535)<<16|(S&=65535),this.unsigned)},tU.mul=tU.multiply,tU.divide=function(Q){if(IU(Q)||(Q=LU(Q)),Q.isZero())throw Error("division by zero");var B,F,U;if(UU)return this.unsigned||-2147483648!==this.high||-1!==Q.low||-1!==Q.high?SU((this.unsigned?UU.div_u:UU.div_s)(this.low,this.high,Q.low,Q.high),UU.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?NU:VU;if(this.unsigned){if(Q.unsigned||(Q=Q.toUnsigned()),Q.gt(this))return NU;if(Q.gt(this.shru(1)))return AU;U=NU}else{if(this.eq(JU))return Q.eq(RU)||Q.eq(DU)?JU:Q.eq(JU)?RU:(B=this.shr(1).div(Q).shl(1)).eq(VU)?Q.isNegative()?RU:DU:(F=this.sub(Q.mul(B)),U=B.add(F.div(Q)));if(Q.eq(JU))return this.unsigned?NU:VU;if(this.isNegative())return Q.isNegative()?this.neg().div(Q.neg()):this.neg().div(Q).neg();if(Q.isNegative())return this.div(Q.neg()).neg();U=VU}for(F=this;F.gte(Q);){B=Math.max(1,Math.floor(F.toNumber()/Q.toNumber()));for(var g=Math.ceil(Math.log(B)/Math.LN2),I=g<=48?1:ZU(2,g-48),C=lU(B),s=C.mul(Q);s.isNegative()||s.gt(F);)s=(C=lU(B-=I,this.unsigned)).mul(Q);C.isZero()&&(C=RU),U=U.add(C),F=F.sub(s)}return U},tU.div=tU.divide,tU.modulo=function(Q){return IU(Q)||(Q=LU(Q)),UU?SU((this.unsigned?UU.rem_u:UU.rem_s)(this.low,this.high,Q.low,Q.high),UU.get_high(),this.unsigned):this.sub(this.div(Q).mul(Q))},tU.mod=tU.modulo,tU.rem=tU.modulo,tU.not=function(){return SU(~this.low,~this.high,this.unsigned)},tU.and=function(Q){return IU(Q)||(Q=LU(Q)),SU(this.low&Q.low,this.high&Q.high,this.unsigned)},tU.or=function(Q){return IU(Q)||(Q=LU(Q)),SU(this.low|Q.low,this.high|Q.high,this.unsigned)},tU.xor=function(Q){return IU(Q)||(Q=LU(Q)),SU(this.low^Q.low,this.high^Q.high,this.unsigned)},tU.shiftLeft=function(Q){return IU(Q)&&(Q=Q.toInt()),0==(Q&=63)?this:Q<32?SU(this.low<<Q,this.high<<Q|this.low>>>32-Q,this.unsigned):SU(0,this.low<<Q-32,this.unsigned)},tU.shl=tU.shiftLeft,tU.shiftRight=function(Q){return IU(Q)&&(Q=Q.toInt()),0==(Q&=63)?this:Q<32?SU(this.low>>>Q|this.high<<32-Q,this.high>>Q,this.unsigned):SU(this.high>>Q-32,this.high>=0?0:-1,this.unsigned)},tU.shr=tU.shiftRight,tU.shiftRightUnsigned=function(Q){if(IU(Q)&&(Q=Q.toInt()),0===(Q&=63))return this;var B=this.high;return Q<32?SU(this.low>>>Q|B<<32-Q,B>>>Q,this.unsigned):SU(32===Q?B:B>>>Q-32,0,this.unsigned)},tU.shru=tU.shiftRightUnsigned,tU.shr_u=tU.shiftRightUnsigned,tU.toSigned=function(){return this.unsigned?SU(this.low,this.high,!1):this},tU.toUnsigned=function(){return this.unsigned?this:SU(this.low,this.high,!0)},tU.toBytes=function(Q){return Q?this.toBytesLE():this.toBytesBE()},tU.toBytesLE=function(){var Q=this.high,B=this.low;return[255&B,B>>>8&255,B>>>16&255,B>>>24,255&Q,Q>>>8&255,Q>>>16&255,Q>>>24]},tU.toBytesBE=function(){var Q=this.high,B=this.low;return[Q>>>24,Q>>>16&255,Q>>>8&255,255&Q,B>>>24,B>>>16&255,B>>>8&255,255&B]},gU.fromBytes=function(Q,B,F){return F?gU.fromBytesLE(Q,B):gU.fromBytesBE(Q,B)},gU.fromBytesLE=function(Q,B){return new gU(Q[0]|Q[1]<<8|Q[2]<<16|Q[3]<<24,Q[4]|Q[5]<<8|Q[6]<<16|Q[7]<<24,B)},gU.fromBytesBE=function(Q,B){return new gU(Q[4]<<24|Q[5]<<16|Q[6]<<8|Q[7],Q[0]<<24|Q[1]<<16|Q[2]<<8|Q[3],B)};var iU={exports:{}};!function(Q){!function(B){var F,U=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,g=Math.ceil,I=Math.floor,C="[BigNumber Error] ",s=C+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,S=9007199254740991,Z=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],G=1e7,L=1e9;function x(Q){var B=0|Q;return Q>0||Q===B?B:B-1}function y(Q){for(var B,F,U=1,g=Q.length,I=Q[0]+"";U<g;){for(B=Q[U++]+"",F=l-B.length;F--;B="0"+B);I+=B}for(g=I.length;48===I.charCodeAt(--g););return I.slice(0,g+1||1)}function d(Q,B){var F,U,g=Q.c,I=B.c,C=Q.s,s=B.s,c=Q.e,l=B.e;if(!C||!s)return null;if(F=g&&!g[0],U=I&&!I[0],F||U)return F?U?0:-s:C;if(C!=s)return C;if(F=C<0,U=c==l,!g||!I)return U?0:!g^F?1:-1;if(!U)return c>l^F?1:-1;for(s=(c=g.length)<(l=I.length)?c:l,C=0;C<s;C++)if(g[C]!=I[C])return g[C]>I[C]^F?1:-1;return c==l?0:c>l^F?1:-1}function b(Q,B,F,U){if(Q<B||Q>F||Q!==I(Q))throw Error(C+(U||"Argument")+("number"==typeof Q?Q<B||Q>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Q))}function V(Q){var B=Q.c.length-1;return x(Q.e/l)==B&&Q.c[B]%2!=0}function N(Q,B){return(Q.length>1?Q.charAt(0)+"."+Q.slice(1):Q)+(B<0?"e":"e+")+B}function R(Q,B,F){var U,g;if(B<0){for(g=F+".";++B;g+=F);Q=g+Q}else if(++B>(U=Q.length)){for(g=F,B-=U;--B;g+=F);Q+=g}else B<U&&(Q=Q.slice(0,B)+"."+Q.slice(B));return Q}F=function Q(B){var F,A,D,m,E,J,t,i,X,n,u=v.prototype={constructor:v,toString:null,valueOf:null},H=new v(1),W=20,a=4,o=-7,h=21,Y=-1e7,e=1e7,k=!1,p=1,M=0,T={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",r=!0;function v(Q,B){var F,g,C,c,Z,G,L,x,y=this;if(!(y instanceof v))return new v(Q,B);if(null==B){if(Q&&!0===Q._isBigNumber)return y.s=Q.s,void(!Q.c||Q.e>e?y.c=y.e=null:Q.e<Y?y.c=[y.e=0]:(y.e=Q.e,y.c=Q.c.slice()));if((G="number"==typeof Q)&&0*Q==0){if(y.s=1/Q<0?(Q=-Q,-1):1,Q===~~Q){for(c=0,Z=Q;Z>=10;Z/=10,c++);return void(c>e?y.c=y.e=null:(y.e=c,y.c=[Q]))}x=String(Q)}else{if(!U.test(x=String(Q)))return D(y,x,G);y.s=45==x.charCodeAt(0)?(x=x.slice(1),-1):1}(c=x.indexOf("."))>-1&&(x=x.replace(".","")),(Z=x.search(/e/i))>0?(c<0&&(c=Z),c+=+x.slice(Z+1),x=x.substring(0,Z)):c<0&&(c=x.length)}else{if(b(B,2,z.length,"Base"),10==B&&r)return P(y=new v(Q),W+y.e+1,a);if(x=String(Q),G="number"==typeof Q){if(0*Q!=0)return D(y,x,G,B);if(y.s=1/Q<0?(x=x.slice(1),-1):1,v.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(s+Q)}else y.s=45===x.charCodeAt(0)?(x=x.slice(1),-1):1;for(F=z.slice(0,B),c=Z=0,L=x.length;Z<L;Z++)if(F.indexOf(g=x.charAt(Z))<0){if("."==g){if(Z>c){c=L;continue}}else if(!C&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){C=!0,Z=-1,c=0;continue}return D(y,String(Q),G,B)}G=!1,(c=(x=A(x,B,10,y.s)).indexOf("."))>-1?x=x.replace(".",""):c=x.length}for(Z=0;48===x.charCodeAt(Z);Z++);for(L=x.length;48===x.charCodeAt(--L););if(x=x.slice(Z,++L)){if(L-=Z,G&&v.DEBUG&&L>15&&(Q>S||Q!==I(Q)))throw Error(s+y.s*Q);if((c=c-Z-1)>e)y.c=y.e=null;else if(c<Y)y.c=[y.e=0];else{if(y.e=c,y.c=[],Z=(c+1)%l,c<0&&(Z+=l),Z<L){for(Z&&y.c.push(+x.slice(0,Z)),L-=l;Z<L;)y.c.push(+x.slice(Z,Z+=l));Z=l-(x=x.slice(Z)).length}else Z-=L;for(;Z--;x+="0");y.c.push(+x)}}else y.c=[y.e=0]}function w(Q,B,F,U){var g,I,C,s,c;if(null==F?F=a:b(F,0,8),!Q.c)return Q.toString();if(g=Q.c[0],C=Q.e,null==B)c=y(Q.c),c=1==U||2==U&&(C<=o||C>=h)?N(c,C):R(c,C,"0");else if(I=(Q=P(new v(Q),B,F)).e,s=(c=y(Q.c)).length,1==U||2==U&&(B<=I||I<=o)){for(;s<B;c+="0",s++);c=N(c,I)}else if(B-=C,c=R(c,I,"0"),I+1>s){if(--B>0)for(c+=".";B--;c+="0");}else if((B+=I-s)>0)for(I+1==s&&(c+=".");B--;c+="0");return Q.s<0&&g?"-"+c:c}function K(Q,B){for(var F,U=1,g=new v(Q[0]);U<Q.length;U++){if(!(F=new v(Q[U])).s){g=F;break}B.call(g,F)&&(g=F)}return g}function O(Q,B,F){for(var U=1,g=B.length;!B[--g];B.pop());for(g=B[0];g>=10;g/=10,U++);return(F=U+F*l-1)>e?Q.c=Q.e=null:F<Y?Q.c=[Q.e=0]:(Q.e=F,Q.c=B),Q}function P(Q,B,F,U){var C,s,S,G,L,x,y,d=Q.c,b=Z;if(d){Q:{for(C=1,G=d[0];G>=10;G/=10,C++);if((s=B-C)<0)s+=l,S=B,y=(L=d[x=0])/b[C-S-1]%10|0;else if((x=g((s+1)/l))>=d.length){if(!U)break Q;for(;d.length<=x;d.push(0));L=y=0,C=1,S=(s%=l)-l+1}else{for(L=G=d[x],C=1;G>=10;G/=10,C++);y=(S=(s%=l)-l+C)<0?0:L/b[C-S-1]%10|0}if(U=U||B<0||null!=d[x+1]||(S<0?L:L%b[C-S-1]),U=F<4?(y||U)&&(0==F||F==(Q.s<0?3:2)):y>5||5==y&&(4==F||U||6==F&&(s>0?S>0?L/b[C-S]:0:d[x-1])%10&1||F==(Q.s<0?8:7)),B<1||!d[0])return d.length=0,U?(B-=Q.e+1,d[0]=b[(l-B%l)%l],Q.e=-B||0):d[0]=Q.e=0,Q;if(0==s?(d.length=x,G=1,x--):(d.length=x+1,G=b[l-s],d[x]=S>0?I(L/b[C-S]%b[S])*G:0),U)for(;;){if(0==x){for(s=1,S=d[0];S>=10;S/=10,s++);for(S=d[0]+=G,G=1;S>=10;S/=10,G++);s!=G&&(Q.e++,d[0]==c&&(d[0]=1));break}if(d[x]+=G,d[x]!=c)break;d[x--]=0,G=1}for(s=d.length;0===d[--s];d.pop());}Q.e>e?Q.c=Q.e=null:Q.e<Y&&(Q.c=[Q.e=0])}return Q}function f(Q){var B,F=Q.e;return null===F?Q.toString():(B=y(Q.c),B=F<=o||F>=h?N(B,F):R(B,F,"0"),Q.s<0?"-"+B:B)}return v.clone=Q,v.ROUND_UP=0,v.ROUND_DOWN=1,v.ROUND_CEIL=2,v.ROUND_FLOOR=3,v.ROUND_HALF_UP=4,v.ROUND_HALF_DOWN=5,v.ROUND_HALF_EVEN=6,v.ROUND_HALF_CEIL=7,v.ROUND_HALF_FLOOR=8,v.EUCLID=9,v.config=v.set=function(Q){var B,F;if(null!=Q){if("object"!=typeof Q)throw Error(C+"Object expected: "+Q);if(Q.hasOwnProperty(B="DECIMAL_PLACES")&&(b(F=Q[B],0,L,B),W=F),Q.hasOwnProperty(B="ROUNDING_MODE")&&(b(F=Q[B],0,8,B),a=F),Q.hasOwnProperty(B="EXPONENTIAL_AT")&&((F=Q[B])&&F.pop?(b(F[0],-L,0,B),b(F[1],0,L,B),o=F[0],h=F[1]):(b(F,-L,L,B),o=-(h=F<0?-F:F))),Q.hasOwnProperty(B="RANGE"))if((F=Q[B])&&F.pop)b(F[0],-L,-1,B),b(F[1],1,L,B),Y=F[0],e=F[1];else{if(b(F,-L,L,B),!F)throw Error(C+B+" cannot be zero: "+F);Y=-(e=F<0?-F:F)}if(Q.hasOwnProperty(B="CRYPTO")){if((F=Q[B])!==!!F)throw Error(C+B+" not true or false: "+F);if(F){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw k=!F,Error(C+"crypto unavailable");k=F}else k=F}if(Q.hasOwnProperty(B="MODULO_MODE")&&(b(F=Q[B],0,9,B),p=F),Q.hasOwnProperty(B="POW_PRECISION")&&(b(F=Q[B],0,L,B),M=F),Q.hasOwnProperty(B="FORMAT")){if("object"!=typeof(F=Q[B]))throw Error(C+B+" not an object: "+F);T=F}if(Q.hasOwnProperty(B="ALPHABET")){if("string"!=typeof(F=Q[B])||/^.?$|[+\-.\s]|(.).*\1/.test(F))throw Error(C+B+" invalid: "+F);r="0123456789"==F.slice(0,10),z=F}}return{DECIMAL_PLACES:W,ROUNDING_MODE:a,EXPONENTIAL_AT:[o,h],RANGE:[Y,e],CRYPTO:k,MODULO_MODE:p,POW_PRECISION:M,FORMAT:T,ALPHABET:z}},v.isBigNumber=function(Q){if(!Q||!0!==Q._isBigNumber)return!1;if(!v.DEBUG)return!0;var B,F,U=Q.c,g=Q.e,s=Q.s;Q:if("[object Array]"=={}.toString.call(U)){if((1===s||-1===s)&&g>=-L&&g<=L&&g===I(g)){if(0===U[0]){if(0===g&&1===U.length)return!0;break Q}if((B=(g+1)%l)<1&&(B+=l),String(U[0]).length==B){for(B=0;B<U.length;B++)if((F=U[B])<0||F>=c||F!==I(F))break Q;if(0!==F)return!0}}}else if(null===U&&null===g&&(null===s||1===s||-1===s))return!0;throw Error(C+"Invalid BigNumber: "+Q)},v.maximum=v.max=function(){return K(arguments,u.lt)},v.minimum=v.min=function(){return K(arguments,u.gt)},v.random=(m=9007199254740992,E=Math.random()*m&2097151?function(){return I(Math.random()*m)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(Q){var B,F,U,s,c,S=0,G=[],x=new v(H);if(null==Q?Q=W:b(Q,0,L),s=g(Q/l),k)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(s*=2));S<s;)(c=131072*B[S]+(B[S+1]>>>11))>=9e15?(F=crypto.getRandomValues(new Uint32Array(2)),B[S]=F[0],B[S+1]=F[1]):(G.push(c%1e14),S+=2);S=s/2}else{if(!crypto.randomBytes)throw k=!1,Error(C+"crypto unavailable");for(B=crypto.randomBytes(s*=7);S<s;)(c=281474976710656*(31&B[S])+1099511627776*B[S+1]+4294967296*B[S+2]+16777216*B[S+3]+(B[S+4]<<16)+(B[S+5]<<8)+B[S+6])>=9e15?crypto.randomBytes(7).copy(B,S):(G.push(c%1e14),S+=7);S=s/7}if(!k)for(;S<s;)(c=E())<9e15&&(G[S++]=c%1e14);for(s=G[--S],Q%=l,s&&Q&&(c=Z[l-Q],G[S]=I(s/c)*c);0===G[S];G.pop(),S--);if(S<0)G=[U=0];else{for(U=-1;0===G[0];G.splice(0,1),U-=l);for(S=1,c=G[0];c>=10;c/=10,S++);S<l&&(U-=l-S)}return x.e=U,x.c=G,x}),v.sum=function(){for(var Q=1,B=arguments,F=new v(B[0]);Q<B.length;)F=F.plus(B[Q++]);return F},A=function(){var Q="0123456789";function B(Q,B,F,U){for(var g,I,C=[0],s=0,c=Q.length;s<c;){for(I=C.length;I--;C[I]*=B);for(C[0]+=U.indexOf(Q.charAt(s++)),g=0;g<C.length;g++)C[g]>F-1&&(null==C[g+1]&&(C[g+1]=0),C[g+1]+=C[g]/F|0,C[g]%=F)}return C.reverse()}return function(U,g,I,C,s){var c,l,S,Z,G,L,x,d,b=U.indexOf("."),V=W,N=a;for(b>=0&&(Z=M,M=0,U=U.replace(".",""),L=(d=new v(g)).pow(U.length-b),M=Z,d.c=B(R(y(L.c),L.e,"0"),10,I,Q),d.e=d.c.length),S=Z=(x=B(U,g,I,s?(c=z,Q):(c=Q,z))).length;0==x[--Z];x.pop());if(!x[0])return c.charAt(0);if(b<0?--S:(L.c=x,L.e=S,L.s=C,x=(L=F(L,d,V,N,I)).c,G=L.r,S=L.e),b=x[l=S+V+1],Z=I/2,G=G||l<0||null!=x[l+1],G=N<4?(null!=b||G)&&(0==N||N==(L.s<0?3:2)):b>Z||b==Z&&(4==N||G||6==N&&1&x[l-1]||N==(L.s<0?8:7)),l<1||!x[0])U=G?R(c.charAt(1),-V,c.charAt(0)):c.charAt(0);else{if(x.length=l,G)for(--I;++x[--l]>I;)x[l]=0,l||(++S,x=[1].concat(x));for(Z=x.length;!x[--Z];);for(b=0,U="";b<=Z;U+=c.charAt(x[b++]));U=R(U,S,c.charAt(0))}return U}}(),F=function(){function Q(Q,B,F){var U,g,I,C,s=0,c=Q.length,l=B%G,S=B/G|0;for(Q=Q.slice();c--;)s=((g=l*(I=Q[c]%G)+(U=S*I+(C=Q[c]/G|0)*l)%G*G+s)/F|0)+(U/G|0)+S*C,Q[c]=g%F;return s&&(Q=[s].concat(Q)),Q}function B(Q,B,F,U){var g,I;if(F!=U)I=F>U?1:-1;else for(g=I=0;g<F;g++)if(Q[g]!=B[g]){I=Q[g]>B[g]?1:-1;break}return I}function F(Q,B,F,U){for(var g=0;F--;)Q[F]-=g,g=Q[F]<B[F]?1:0,Q[F]=g*U+Q[F]-B[F];for(;!Q[0]&&Q.length>1;Q.splice(0,1));}return function(U,g,C,s,S){var Z,G,L,y,d,b,V,N,R,A,D,m,E,J,t,i,X,n=U.s==g.s?1:-1,u=U.c,H=g.c;if(!(u&&u[0]&&H&&H[0]))return new v(U.s&&g.s&&(u?!H||u[0]!=H[0]:H)?u&&0==u[0]||!H?0*n:n/0:NaN);for(R=(N=new v(n)).c=[],n=C+(G=U.e-g.e)+1,S||(S=c,G=x(U.e/l)-x(g.e/l),n=n/l|0),L=0;H[L]==(u[L]||0);L++);if(H[L]>(u[L]||0)&&G--,n<0)R.push(1),y=!0;else{for(J=u.length,i=H.length,L=0,n+=2,(d=I(S/(H[0]+1)))>1&&(H=Q(H,d,S),u=Q(u,d,S),i=H.length,J=u.length),E=i,D=(A=u.slice(0,i)).length;D<i;A[D++]=0);X=H.slice(),X=[0].concat(X),t=H[0],H[1]>=S/2&&t++;do{if(d=0,(Z=B(H,A,i,D))<0){if(m=A[0],i!=D&&(m=m*S+(A[1]||0)),(d=I(m/t))>1)for(d>=S&&(d=S-1),V=(b=Q(H,d,S)).length,D=A.length;1==B(b,A,V,D);)d--,F(b,i<V?X:H,V,S),V=b.length,Z=1;else 0==d&&(Z=d=1),V=(b=H.slice()).length;if(V<D&&(b=[0].concat(b)),F(A,b,D,S),D=A.length,-1==Z)for(;B(H,A,i,D)<1;)d++,F(A,i<D?X:H,D,S),D=A.length}else 0===Z&&(d++,A=[0]);R[L++]=d,A[0]?A[D++]=u[E]||0:(A=[u[E]],D=1)}while((E++<J||null!=A[0])&&n--);y=null!=A[0],R[0]||R.splice(0,1)}if(S==c){for(L=1,n=R[0];n>=10;n/=10,L++);P(N,C+(N.e=L+G*l-1)+1,s,y)}else N.e=G,N.r=+y;return N}}(),J=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,i=/^\.([^.]+)$/,X=/^-?(Infinity|NaN)$/,n=/^\s*\+(?=[\w.])|^\s+|\s+$/g,D=function(Q,B,F,U){var g,I=F?B:B.replace(n,"");if(X.test(I))Q.s=isNaN(I)?null:I<0?-1:1;else{if(!F&&(I=I.replace(J,(function(Q,B,F){return g="x"==(F=F.toLowerCase())?16:"b"==F?2:8,U&&U!=g?Q:B})),U&&(g=U,I=I.replace(t,"$1").replace(i,"0.$1")),B!=I))return new v(I,g);if(v.DEBUG)throw Error(C+"Not a"+(U?" base "+U:"")+" number: "+B);Q.s=null}Q.c=Q.e=null},u.absoluteValue=u.abs=function(){var Q=new v(this);return Q.s<0&&(Q.s=1),Q},u.comparedTo=function(Q,B){return d(this,new v(Q,B))},u.decimalPlaces=u.dp=function(Q,B){var F,U,g,I=this;if(null!=Q)return b(Q,0,L),null==B?B=a:b(B,0,8),P(new v(I),Q+I.e+1,B);if(!(F=I.c))return null;if(U=((g=F.length-1)-x(this.e/l))*l,g=F[g])for(;g%10==0;g/=10,U--);return U<0&&(U=0),U},u.dividedBy=u.div=function(Q,B){return F(this,new v(Q,B),W,a)},u.dividedToIntegerBy=u.idiv=function(Q,B){return F(this,new v(Q,B),0,1)},u.exponentiatedBy=u.pow=function(Q,B){var F,U,s,c,S,Z,G,L,x=this;if((Q=new v(Q)).c&&!Q.isInteger())throw Error(C+"Exponent not an integer: "+f(Q));if(null!=B&&(B=new v(B)),S=Q.e>14,!x.c||!x.c[0]||1==x.c[0]&&!x.e&&1==x.c.length||!Q.c||!Q.c[0])return L=new v(Math.pow(+f(x),S?2-V(Q):+f(Q))),B?L.mod(B):L;if(Z=Q.s<0,B){if(B.c?!B.c[0]:!B.s)return new v(NaN);(U=!Z&&x.isInteger()&&B.isInteger())&&(x=x.mod(B))}else{if(Q.e>9&&(x.e>0||x.e<-1||(0==x.e?x.c[0]>1||S&&x.c[1]>=24e7:x.c[0]<8e13||S&&x.c[0]<=9999975e7)))return c=x.s<0&&V(Q)?-0:0,x.e>-1&&(c=1/c),new v(Z?1/c:c);M&&(c=g(M/l+2))}for(S?(F=new v(.5),Z&&(Q.s=1),G=V(Q)):G=(s=Math.abs(+f(Q)))%2,L=new v(H);;){if(G){if(!(L=L.times(x)).c)break;c?L.c.length>c&&(L.c.length=c):U&&(L=L.mod(B))}if(s){if(0===(s=I(s/2)))break;G=s%2}else if(P(Q=Q.times(F),Q.e+1,1),Q.e>14)G=V(Q);else{if(0===(s=+f(Q)))break;G=s%2}x=x.times(x),c?x.c&&x.c.length>c&&(x.c.length=c):U&&(x=x.mod(B))}return U?L:(Z&&(L=H.div(L)),B?L.mod(B):c?P(L,M,a,undefined):L)},u.integerValue=function(Q){var B=new v(this);return null==Q?Q=a:b(Q,0,8),P(B,B.e+1,Q)},u.isEqualTo=u.eq=function(Q,B){return 0===d(this,new v(Q,B))},u.isFinite=function(){return!!this.c},u.isGreaterThan=u.gt=function(Q,B){return d(this,new v(Q,B))>0},u.isGreaterThanOrEqualTo=u.gte=function(Q,B){return 1===(B=d(this,new v(Q,B)))||0===B},u.isInteger=function(){return!!this.c&&x(this.e/l)>this.c.length-2},u.isLessThan=u.lt=function(Q,B){return d(this,new v(Q,B))<0},u.isLessThanOrEqualTo=u.lte=function(Q,B){return-1===(B=d(this,new v(Q,B)))||0===B},u.isNaN=function(){return!this.s},u.isNegative=function(){return this.s<0},u.isPositive=function(){return this.s>0},u.isZero=function(){return!!this.c&&0==this.c[0]},u.minus=function(Q,B){var F,U,g,I,C=this,s=C.s;if(B=(Q=new v(Q,B)).s,!s||!B)return new v(NaN);if(s!=B)return Q.s=-B,C.plus(Q);var S=C.e/l,Z=Q.e/l,G=C.c,L=Q.c;if(!S||!Z){if(!G||!L)return G?(Q.s=-B,Q):new v(L?C:NaN);if(!G[0]||!L[0])return L[0]?(Q.s=-B,Q):new v(G[0]?C:3==a?-0:0)}if(S=x(S),Z=x(Z),G=G.slice(),s=S-Z){for((I=s<0)?(s=-s,g=G):(Z=S,g=L),g.reverse(),B=s;B--;g.push(0));g.reverse()}else for(U=(I=(s=G.length)<(B=L.length))?s:B,s=B=0;B<U;B++)if(G[B]!=L[B]){I=G[B]<L[B];break}if(I&&(g=G,G=L,L=g,Q.s=-Q.s),(B=(U=L.length)-(F=G.length))>0)for(;B--;G[F++]=0);for(B=c-1;U>s;){if(G[--U]<L[U]){for(F=U;F&&!G[--F];G[F]=B);--G[F],G[U]+=c}G[U]-=L[U]}for(;0==G[0];G.splice(0,1),--Z);return G[0]?O(Q,G,Z):(Q.s=3==a?-1:1,Q.c=[Q.e=0],Q)},u.modulo=u.mod=function(Q,B){var U,g,I=this;return Q=new v(Q,B),!I.c||!Q.s||Q.c&&!Q.c[0]?new v(NaN):!Q.c||I.c&&!I.c[0]?new v(I):(9==p?(g=Q.s,Q.s=1,U=F(I,Q,0,3),Q.s=g,U.s*=g):U=F(I,Q,0,p),(Q=I.minus(U.times(Q))).c[0]||1!=p||(Q.s=I.s),Q)},u.multipliedBy=u.times=function(Q,B){var F,U,g,I,C,s,S,Z,L,y,d,b,V,N,R,A=this,D=A.c,m=(Q=new v(Q,B)).c;if(!(D&&m&&D[0]&&m[0]))return!A.s||!Q.s||D&&!D[0]&&!m||m&&!m[0]&&!D?Q.c=Q.e=Q.s=null:(Q.s*=A.s,D&&m?(Q.c=[0],Q.e=0):Q.c=Q.e=null),Q;for(U=x(A.e/l)+x(Q.e/l),Q.s*=A.s,(S=D.length)<(y=m.length)&&(V=D,D=m,m=V,g=S,S=y,y=g),g=S+y,V=[];g--;V.push(0));for(N=c,R=G,g=y;--g>=0;){for(F=0,d=m[g]%R,b=m[g]/R|0,I=g+(C=S);I>g;)F=((Z=d*(Z=D[--C]%R)+(s=b*Z+(L=D[C]/R|0)*d)%R*R+V[I]+F)/N|0)+(s/R|0)+b*L,V[I--]=Z%N;V[I]=F}return F?++U:V.splice(0,1),O(Q,V,U)},u.negated=function(){var Q=new v(this);return Q.s=-Q.s||null,Q},u.plus=function(Q,B){var F,U=this,g=U.s;if(B=(Q=new v(Q,B)).s,!g||!B)return new v(NaN);if(g!=B)return Q.s=-B,U.minus(Q);var I=U.e/l,C=Q.e/l,s=U.c,S=Q.c;if(!I||!C){if(!s||!S)return new v(g/0);if(!s[0]||!S[0])return S[0]?Q:new v(s[0]?U:0*g)}if(I=x(I),C=x(C),s=s.slice(),g=I-C){for(g>0?(C=I,F=S):(g=-g,F=s),F.reverse();g--;F.push(0));F.reverse()}for((g=s.length)-(B=S.length)<0&&(F=S,S=s,s=F,B=g),g=0;B;)g=(s[--B]=s[B]+S[B]+g)/c|0,s[B]=c===s[B]?0:s[B]%c;return g&&(s=[g].concat(s),++C),O(Q,s,C)},u.precision=u.sd=function(Q,B){var F,U,g,I=this;if(null!=Q&&Q!==!!Q)return b(Q,1,L),null==B?B=a:b(B,0,8),P(new v(I),Q,B);if(!(F=I.c))return null;if(U=(g=F.length-1)*l+1,g=F[g]){for(;g%10==0;g/=10,U--);for(g=F[0];g>=10;g/=10,U++);}return Q&&I.e+1>U&&(U=I.e+1),U},u.shiftedBy=function(Q){return b(Q,-9007199254740991,S),this.times("1e"+Q)},u.squareRoot=u.sqrt=function(){var Q,B,U,g,I,C=this,s=C.c,c=C.s,l=C.e,S=W+4,Z=new v("0.5");if(1!==c||!s||!s[0])return new v(!c||c<0&&(!s||s[0])?NaN:s?C:1/0);if(0==(c=Math.sqrt(+f(C)))||c==1/0?(((B=y(s)).length+l)%2==0&&(B+="0"),c=Math.sqrt(+B),l=x((l+1)/2)-(l<0||l%2),U=new v(B=c==1/0?"5e"+l:(B=c.toExponential()).slice(0,B.indexOf("e")+1)+l)):U=new v(c+""),U.c[0])for((c=(l=U.e)+S)<3&&(c=0);;)if(I=U,U=Z.times(I.plus(F(C,I,S,1))),y(I.c).slice(0,c)===(B=y(U.c)).slice(0,c)){if(U.e<l&&--c,"9999"!=(B=B.slice(c-3,c+1))&&(g||"4999"!=B)){+B&&(+B.slice(1)||"5"!=B.charAt(0))||(P(U,U.e+W+2,1),Q=!U.times(U).eq(C));break}if(!g&&(P(I,I.e+W+2,0),I.times(I).eq(C))){U=I;break}S+=4,c+=4,g=1}return P(U,U.e+W+1,a,Q)},u.toExponential=function(Q,B){return null!=Q&&(b(Q,0,L),Q++),w(this,Q,B,1)},u.toFixed=function(Q,B){return null!=Q&&(b(Q,0,L),Q=Q+this.e+1),w(this,Q,B)},u.toFormat=function(Q,B,F){var U,g=this;if(null==F)null!=Q&&B&&"object"==typeof B?(F=B,B=null):Q&&"object"==typeof Q?(F=Q,Q=B=null):F=T;else if("object"!=typeof F)throw Error(C+"Argument not an object: "+F);if(U=g.toFixed(Q,B),g.c){var I,s=U.split("."),c=+F.groupSize,l=+F.secondaryGroupSize,S=F.groupSeparator||"",Z=s[0],G=s[1],L=g.s<0,x=L?Z.slice(1):Z,y=x.length;if(l&&(I=c,c=l,l=I,y-=I),c>0&&y>0){for(I=y%c||c,Z=x.substr(0,I);I<y;I+=c)Z+=S+x.substr(I,c);l>0&&(Z+=S+x.slice(I)),L&&(Z="-"+Z)}U=G?Z+(F.decimalSeparator||"")+((l=+F.fractionGroupSize)?G.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):G):Z}return(F.prefix||"")+U+(F.suffix||"")},u.toFraction=function(Q){var B,U,g,I,s,c,S,G,L,x,d,b,V=this,N=V.c;if(null!=Q&&(!(S=new v(Q)).isInteger()&&(S.c||1!==S.s)||S.lt(H)))throw Error(C+"Argument "+(S.isInteger()?"out of range: ":"not an integer: ")+f(S));if(!N)return new v(V);for(B=new v(H),L=U=new v(H),g=G=new v(H),b=y(N),s=B.e=b.length-V.e-1,B.c[0]=Z[(c=s%l)<0?l+c:c],Q=!Q||S.comparedTo(B)>0?s>0?B:L:S,c=e,e=1/0,S=new v(b),G.c[0]=0;x=F(S,B,0,1),1!=(I=U.plus(x.times(g))).comparedTo(Q);)U=g,g=I,L=G.plus(x.times(I=L)),G=I,B=S.minus(x.times(I=B)),S=I;return I=F(Q.minus(U),g,0,1),G=G.plus(I.times(L)),U=U.plus(I.times(g)),G.s=L.s=V.s,d=F(L,g,s*=2,a).minus(V).abs().comparedTo(F(G,U,s,a).minus(V).abs())<1?[L,g]:[G,U],e=c,d},u.toNumber=function(){return+f(this)},u.toPrecision=function(Q,B){return null!=Q&&b(Q,1,L),w(this,Q,B,2)},u.toString=function(Q){var B,F=this,U=F.s,g=F.e;return null===g?U?(B="Infinity",U<0&&(B="-"+B)):B="NaN":(null==Q?B=g<=o||g>=h?N(y(F.c),g):R(y(F.c),g,"0"):10===Q&&r?B=R(y((F=P(new v(F),W+g+1,a)).c),F.e,"0"):(b(Q,2,z.length,"Base"),B=A(R(y(F.c),g,"0"),10,Q,U,!0)),U<0&&F.c[0]&&(B="-"+B)),B},u.valueOf=u.toJSON=function(){return f(this)},u._isBigNumber=!0,null!=B&&v.set(B),v}(),F.default=F.BigNumber=F,Q.exports?Q.exports=F:(B||(B="undefined"!=typeof self&&self?self:window),B.BigNumber=F)}(q)}(iU);var XU=iU.exports,nU={exports:{}},uU=nU.exports=function(Q){return new HU(Q)};function HU(Q){this.value=Q}function WU(Q,B,F){var U=[],g=[],I=!0;return function Q(C){var s=F?aU(C):C,c={},l=!0,S={node:s,node_:C,path:[].concat(U),parent:g[g.length-1],parents:g,key:U.slice(-1)[0],isRoot:0===U.length,level:U.length,circular:null,update:function(Q,B){S.isRoot||(S.parent.node[S.key]=Q),S.node=Q,B&&(l=!1)},delete:function(Q){delete S.parent.node[S.key],Q&&(l=!1)},remove:function(Q){YU(S.parent.node)?S.parent.node.splice(S.key,1):delete S.parent.node[S.key],Q&&(l=!1)},keys:null,before:function(Q){c.before=Q},after:function(Q){c.after=Q},pre:function(Q){c.pre=Q},post:function(Q){c.post=Q},stop:function(){I=!1},block:function(){l=!1}};if(!I)return S;function Z(){if("object"==typeof S.node&&null!==S.node){S.keys&&S.node_===S.node||(S.keys=oU(S.node)),S.isLeaf=0==S.keys.length;for(var Q=0;Q<g.length;Q++)if(g[Q].node_===C){S.circular=g[Q];break}}else S.isLeaf=!0,S.keys=null;S.notLeaf=!S.isLeaf,S.notRoot=!S.isRoot}Z();var G=B.call(S,S.node);return void 0!==G&&S.update&&S.update(G),c.before&&c.before.call(S,S.node),l?("object"!=typeof S.node||null===S.node||S.circular||(g.push(S),Z(),eU(S.keys,(function(B,g){U.push(B),c.pre&&c.pre.call(S,S.node[B],B);var I=Q(S.node[B]);F&&kU.call(S.node,B)&&(S.node[B]=I.node),I.isLast=g==S.keys.length-1,I.isFirst=0==g,c.post&&c.post.call(S,I),U.pop()})),g.pop()),c.after&&c.after.call(S,S.node),S):S}(Q).node}function aU(Q){if("object"==typeof Q&&null!==Q){var B;if(YU(Q))B=[];else if("[object Date]"===hU(Q))B=new Date(Q.getTime?Q.getTime():Q);else if(function(Q){return"[object RegExp]"===hU(Q)}(Q))B=new RegExp(Q);else if(function(Q){return"[object Error]"===hU(Q)}(Q))B={message:Q.message};else if(function(Q){return"[object Boolean]"===hU(Q)}(Q))B=new Boolean(Q);else if(function(Q){return"[object Number]"===hU(Q)}(Q))B=new Number(Q);else if(function(Q){return"[object String]"===hU(Q)}(Q))B=new String(Q);else if(Object.create&&Object.getPrototypeOf)B=Object.create(Object.getPrototypeOf(Q));else if(Q.constructor===Object)B={};else{var F=Q.constructor&&Q.constructor.prototype||Q.__proto__||{},U=function(){};U.prototype=F,B=new U}return eU(oU(Q),(function(F){B[F]=Q[F]})),B}return Q}HU.prototype.get=function(Q){for(var B=this.value,F=0;F<Q.length;F++){var U=Q[F];if(!B||!kU.call(B,U)){B=void 0;break}B=B[U]}return B},HU.prototype.has=function(Q){for(var B=this.value,F=0;F<Q.length;F++){var U=Q[F];if(!B||!kU.call(B,U))return!1;B=B[U]}return!0},HU.prototype.set=function(Q,B){for(var F=this.value,U=0;U<Q.length-1;U++){var g=Q[U];kU.call(F,g)||(F[g]={}),F=F[g]}return F[Q[U]]=B,B},HU.prototype.map=function(Q){return WU(this.value,Q,!0)},HU.prototype.forEach=function(Q){return this.value=WU(this.value,Q,!1),this.value},HU.prototype.reduce=function(Q,B){var F=1===arguments.length,U=F?this.value:B;return this.forEach((function(B){this.isRoot&&F||(U=Q.call(this,U,B))})),U},HU.prototype.paths=function(){var Q=[];return this.forEach((function(B){Q.push(this.path)})),Q},HU.prototype.nodes=function(){var Q=[];return this.forEach((function(B){Q.push(this.node)})),Q},HU.prototype.clone=function(){var Q=[],B=[];return function F(U){for(var g=0;g<Q.length;g++)if(Q[g]===U)return B[g];if("object"==typeof U&&null!==U){var I=aU(U);return Q.push(U),B.push(I),eU(oU(U),(function(Q){I[Q]=F(U[Q])})),Q.pop(),B.pop(),I}return U}(this.value)};var oU=Object.keys||function(Q){var B=[];for(var F in Q)B.push(F);return B};function hU(Q){return Object.prototype.toString.call(Q)}var YU=Array.isArray||function(Q){return"[object Array]"===Object.prototype.toString.call(Q)},eU=function(Q,B){if(Q.forEach)return Q.forEach(B);for(var F=0;F<Q.length;F++)B(Q[F],F,Q)};eU(oU(HU.prototype),(function(Q){uU[Q]=function(B){var F=[].slice.call(arguments,1),U=new HU(B);return U[Q].apply(U,F)}}));var kU=Object.hasOwnProperty||function(Q,B){return B in Q},pU=nU.exports,MU=function(){function Q(B,F){P(this,Q),this.session=B,this.id=F}var B,F;return j(Q,[{key:"log",get:function(){return this.session.log}},{key:"equals",value:function(B){return B instanceof Q?B.id.toString()===this.id.toString():this._equals(B)}},{key:"deleteEntity",value:function(Q){var B=this._getDeleteTransaction(Q);return this.executeAndReturnStatus(B)}},{key:"updateEntity",value:(F=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this._getUpdateTransaction(B);case 2:return F=Q.sent,Q.abrupt("return",this.executeAndReturnStatus(F));case 4:case"end":return Q.stop()}}),Q,this)}))),function(Q){return F.apply(this,arguments)})},{key:"_equals",value:function(Q){return!1}},{key:"executeAndReturnStatus",value:(B=O(QQ.mark((function Q(B){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",this.session.execute(B,qI.Receipt,!1).then((function(Q){return Q.status})));case 1:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}]),Q}();function TU(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function zU(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?TU(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):TU(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function rU(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var vU=function(g){_F(C,MU);var I=rU(C);function C(){return P(this,C),I.apply(this,arguments)}return j(C,[{key:"getBalanceOfLiveEntity",value:function(){var B=this._getBalancePayload(),F=new Q(B);return this.session.execute(F,qI.Result,!1)}},{key:"transferHbarToLiveEntity",value:function(Q){var U=Q instanceof B?Q:new B(Q),g=(new F).addHbarTransfer(this.session.wallet.account.id,U.negated()).addHbarTransfer(this.id.toString(),U);return this.executeAndReturnStatus(g)}},{key:"associateTokensWithLiveEntity",value:function(Q){var B=(new U).setAccountId(this.id.toString()).setTokenIds(Q);return this.executeAndReturnStatus(B)}},{key:"_getDeleteTransaction",value:function(Q){return this.newDeleteTransaction(this._getDeleteArguments(Q))}},{key:"_getDeleteArguments",value:function(Q){var B=Q;return Q&&Q.has("transferAccountId")&&Q.has("transferContractId")||(B=zU(zU({},Q),{},{transferAccountId:this.session.wallet.account.id})),B}}]),C}();function wU(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}function KU(Q,B,F){return KU=wU()?Reflect.construct:function(Q,B,F){var U=[null];U.push.apply(U,B);var g=new(Function.bind.apply(Q,U));return F&&qF(g,F.prototype),g},KU.apply(null,arguments)}function OU(Q){var B="function"==typeof Map?new Map:void 0;return OU=function(Q){if(null===Q||(F=Q,-1===Function.toString.call(F).indexOf("[native code]")))return Q;var F;if("function"!=typeof Q)throw new TypeError("Super expression must either be null or a function");if(void 0!==B){if(B.has(Q))return B.get(Q);B.set(Q,U)}function U(){return KU(Q,arguments,BU(this).constructor)}return U.prototype=Object.create(Q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),qF(U,Q)},OU(Q)}var PU=function(){function Q(B){P(this,Q),this.paramType=B}return j(Q,[{key:"map",value:function(Q){var B=Q.prefix,F=void 0===B?"":B,U=this._geCanonicalTypeFor(this.paramType);return"".concat(F).concat(this._getFunctionParticleFor(U))}},{key:"_geCanonicalTypeFor",value:function(Q){return"int"===Q.type?"int256":"int[]"===Q.type?"int256[]":"uint"===Q.type?"uint256":"uint[]"===Q.type?"uint256[]":Q.type}},{key:"_getFunctionParticleFor",value:function(Q){var B,F=(B=Q).charAt(0).toUpperCase()+B.slice(1);return F.endsWith("[]")&&(F=F.replace("[]","Array")),F}}]),Q}();function fU(Q){return Q&&Q.getSolidityAddress&&"function"==typeof Q.getSolidityAddress}function jU(Q){var B=/^(?:0x)?([0-9a-fA-F]{40})$/g.exec(Q);return null!=B?B[1]:void 0}function qU(Q,B){return Array.isArray(Q)?Q.map((function(Q){return qU(Q,B)})):B(Q)}function _U(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var $U=function(Q){_F(I,g);var F,U=_U(I);function I(){return P(this,I),U.call(this)}return j(I,null,[{key:"newFor",value:(F=O(QQ.mark((function Q(F,U){var g,C,s,c,l,S;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(Array.isArray(U)){Q.next=4;break}throw new Qg("I need an array of args in order to construct the ContractFunctionParameters instance for.");case 4:if(F.inputs.length===U.length){Q.next=6;break}throw new Qg("The contract expects ".concat(F.inputs.length," arguments yet ").concat(U.length," were provided."));case 6:for(C in g=new I,U)s=F.inputs[C],c=new PU(s).map({prefix:"add"}),l=-1!==c.indexOf("64")||-1!==c.indexOf("256"),S=U[C],s.type.startsWith("address")?S=qU(S,(function(Q){return fU(Q)?Q.getSolidityAddress():Q})):!s.type.startsWith("bytes")||S instanceof Uint8Array?l&&(S=qU(S,(function(Q){return Q instanceof B?Q._valueInTinybar:Q instanceof XU?Q:new XU(Q)}))):S=qU(S,aQ),g[c](S);return Q.abrupt("return",g);case 9:case"end":return Q.stop()}}),Q)}))),function(Q,B){return F.apply(this,arguments)})}]),I}(),Qg=function(Q){_F(F,OU(Error));var B=_U(F);function F(Q){return P(this,F),B.call(this,Q)}return j(F)}();function Bg(Q,B){for(;!Object.prototype.hasOwnProperty.call(Q,B)&&null!==(Q=BU(Q)););return Q}function Fg(){return Fg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(Q,B,F){var U=Bg(Q,B);if(U){var g=Object.getOwnPropertyDescriptor(U,B);return g.get?g.get.call(arguments.length<3?Q:F):g.value}},Fg.apply(this,arguments)}var Ug,gg=j((function Q(B){P(this,Q),this.name=B}));function Ig(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function Cg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}!function(Q){Q[Q.ECDSA=0]="ECDSA",Q[Q.ED25519=1]="ED25519",Q[Q.Unknown=2]="Unknown"}(Ug||(Ug={}));var sg=function(Q){_F(s,gg);var B,F,U,g=Cg(s);function s(Q){var B;return P(this,s),(B=g.call(this,"Account")).accountFeatures=function(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?Ig(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):Ig(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}({keyType:Ug.ED25519},Q),B}return j(s,[{key:"createVia",value:(U=O(QQ.mark((function Q(B){var F,U,g,I,c;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,this.key&&(U=Object.assign({},this.accountFeatures,{key:this.key})),Q.next=4,s.mapAccountFeaturesToAccountArguments(F,this.accountFeatures);case 4:return U=Q.sent,g=new C(U),Q.next=8,F.execute(g,qI.Receipt,!0);case 8:return I=Q.sent,c=I.accountId,Q.abrupt("return",new Zg({id:c,privateKey:U.key,session:F}));case 11:case"end":return Q.stop()}}),Q,this)}))),function(Q){return U.apply(this,arguments)})}],[{key:"mapAccountFeaturesToAccountArguments",value:(F=O(QQ.mark((function Q(B,F){var U;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(null===F.keyType){Q.next=5;break}return Q.next=3,s.considerGenerateKeyFromAccountFeatures(B.log,F);case 3:return U=Q.sent,Q.abrupt("return",Object.assign({},F,{key:U}));case 5:return Q.abrupt("return",F);case 6:case"end":return Q.stop()}}),Q)}))),function(Q,B){return F.apply(this,arguments)})},{key:"considerGenerateKeyFromAccountFeatures",value:(B=O(QQ.mark((function Q(B,F){var U,g,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(U=F.key,F.key){Q.next=15;break}if(g=F.keyType,C=g===Ug.ED25519?Ug[Ug.ED25519]:Ug[Ug.ECDSA],g!==Ug.ED25519){Q.next=10;break}return Q.next=7,I.generateED25519Async();case 7:Q.t0=Q.sent,Q.next=13;break;case 10:return Q.next=12,I.generateECDSAAsync();case 12:Q.t0=Q.sent;case 13:U=Q.t0,B.debug("A new '".concat(C,"' key has been created: ").concat(U.toStringDer()," . Copy it since this is only time you'll see it."));case 15:return Q.abrupt("return",U);case 16:case"end":return Q.stop()}}),Q)}))),function(Q,F){return B.apply(this,arguments)})}]),s}();function cg(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function lg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var Sg=function(Q){_F(U,vU);var B,F=lg(U);function U(Q){var B=Q.session,g=Q.id;return P(this,U),F.call(this,B,g)}return j(U,[{key:"getSolidityAddress",value:function(){return this.id.toSolidityAddress()}},{key:"getLiveEntityInfo",value:function(){var Q=(new s).setAccountId(this.id);return this.session.execute(Q,qI.Result,!1)}},{key:"newDeleteTransaction",value:function(Q){return new c(function(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?cg(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):cg(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}({accountId:this.id},Q))}},{key:"_getUpdateTransaction",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,sg.mapAccountFeaturesToAccountArguments(this.session,B);case 2:return F=Q.sent,Q.abrupt("return",new l(F));case 4:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"_getBalancePayload",value:function(){return{accountId:this.id}}}]),U}(),Zg=function(Q){_F(U,Sg);var B,F=lg(U);function U(Q){var B,g=Q.session,I=Q.id,C=Q.privateKey;return P(this,U),(B=F.call(this,{id:I,session:g})).privateKey=C,B}return j(U,[{key:"tryToSign",value:function(Q){var B=this.privateKey.signTransaction(Q);Q.addSignature(this.privateKey.publicKey,B)}},{key:"_getUpdateTransaction",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,Fg(BU(U.prototype),"_getUpdateTransaction",this).call(this,B);case 2:return F=Q.sent,this.tryToSign(F),Q.abrupt("return",F);case 5:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"_getDeleteTransaction",value:function(Q){var B=Fg(BU(U.prototype),"_getDeleteTransaction",this).call(this,Q);return this.tryToSign(B),B}}]),U}(),Gg=function(){function Q(B,F){P(this,Q),this.session=B,this.id=Q.getSolidityAddressMatchOrDieTryingFrom(F)}var B,F;return j(Q,[{key:"getSolidityAddress",value:function(){return this.id}},{key:"toLiveAccount",value:(F=O(QQ.mark((function Q(){var B;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return B=S.fromSolidityAddress(this.getSolidityAddress()),Q.abrupt("return",new Sg({id:B,session:this.session}));case 2:case"end":return Q.stop()}}),Q,this)}))),function(){return F.apply(this,arguments)})},{key:"toLiveContract",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=Z.fromSolidityAddress(this.getSolidityAddress()),Q.abrupt("return",new ng({cInterface:B,id:F,session:this.session}));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"equals",value:function(Q){return Q instanceof MU?Q.id.toString()===this.id.toString():"string"==typeof Q?jU(Q).toLocaleLowerCase()===this.id:Q instanceof S&&Q.toSolidityAddress()===this.id}}],[{key:"getSolidityAddressMatchOrDieTryingFrom",value:function(Q){var B=jU(Q);if(!B)throw new Error("The provided address '".concat(Q,"' does not appear to be a valid Solidity address."));return B.toLowerCase()}}]),Q}(),Lg={},xg={exports:{}};!function(Q){Q.exports=function(Q){return Q&&Q.__esModule?Q:{default:Q}},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(xg);var yg={exports:{}},dg={exports:{}},bg={exports:{}};!function(Q){Q.exports=function(Q,B){(null==B||B>Q.length)&&(B=Q.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=Q[F];return U},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(bg),function(Q){var B=bg.exports;Q.exports=function(Q){if(Array.isArray(Q))return B(Q)},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(dg);var Vg={exports:{}};!function(Q){Q.exports=function(Q){if("undefined"!=typeof Symbol&&null!=Q[Symbol.iterator]||null!=Q["@@iterator"])return Array.from(Q)},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(Vg);var Ng={exports:{}};!function(Q){var B=bg.exports;Q.exports=function(Q,F){if(Q){if("string"==typeof Q)return B(Q,F);var U=Object.prototype.toString.call(Q).slice(8,-1);return"Object"===U&&Q.constructor&&(U=Q.constructor.name),"Map"===U||"Set"===U?Array.from(Q):"Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?B(Q,F):void 0}},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(Ng);var Rg={exports:{}};!function(Q){Q.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(Rg),function(Q){var B=dg.exports,F=Vg.exports,U=Ng.exports,g=Rg.exports;Q.exports=function(Q){return B(Q)||F(Q)||U(Q)||g()},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(yg);var Ag=xg.exports;Object.defineProperty(Lg,"__esModule",{value:!0});var Dg=Lg.encodeToHex=function(Q){var B=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],F=(0,mg.default)(Q).map((function(Q){return Q.toString(16).padStart(2,"0")})).join("");return B?"0x".concat(F):F},mg=Ag(yg.exports);function Eg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}function Jg(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function tg(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?Jg(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):Jg(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function ig(Q){return Q instanceof x}function Xg(Q,B){return B.map((function(B){var F=Dg(B.data),U=B.topics.map((function(Q){return Dg(Q)}));try{var g=Q.parseLog({data:F,topics:U}),I=Object.keys(g.args).filter((function(Q){return isNaN(Number(Q))})).map((function(Q){return w({},Q,g.args[Q])})).reduce((function(Q,B){return tg(tg({},Q),B)}),{});return{name:g.name,payload:I}}catch(Q){return null}})).filter((function(Q){return null!==Q}))}var ng=function(Q){_F(I,vU);var F,U,g=Eg(I);function I(Q){var B,F=Q.session,U=Q.id,C=Q.cInterface;return P(this,I),(B=g.call(this,F,U)).events=new BQ.exports.EventEmitter,B.interface=C,Object.values(B.interface.functions).forEach((function(Q){return Object.defineProperty(jF(B),Q.name,{enumerable:!0,value:function(){var Q=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l,S=arguments;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:for(F=S.length,U=new Array(F>1?F-1:0),g=1;g<F;g++)U[g-1]=S[g];return Q.next=3,this.createContractRequestFor({fDescription:B,args:U});case 3:return I=Q.sent,C=I.request,s=I.meta,c=!(C instanceof x)&&s.onlyReceipt?qI.Receipt:qI.Result,Q.next=10,this.session.execute(C,c,s.emitReceipt);case 10:if(l=Q.sent,c!=qI.Result){Q.next=16;break}return this.tryToProcessForEvents(l),Q.next=15,this.tryExtractingResponse(l,B);case 15:return Q.abrupt("return",Q.sent);case 16:return Q.abrupt("return",l);case 17:case"end":return Q.stop()}}),Q,this)})));return function(B){return Q.apply(this,arguments)}}().bind(jF(B),Q),writable:!1})})),B}return j(I,[{key:"getSolidityAddress",value:function(){return this.id.toSolidityAddress()}},{key:"onEvent",value:function(Q,B){if(!(void 0!==Object.values(this.interface.events).find((function(B){return B.name===Q})))&&"UnhandledEventName"!==Q)throw new Error("There is no such event named '".concat(Q,"' defined in this contract."));B?this.events.on(Q,B):this.events.removeAllListeners(Q)}},{key:"onUnhandledEvents",value:function(Q){this.onEvent("UnhandledEventName",Q)}},{key:"createContractRequestFor",value:(U=O(QQ.mark((function Q(F){var U,g,I,C,s,c,l;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return U=F.fDescription,g=F.args,I=!1,C={contractId:this.id,gas:this.session.defaults.contractTransactionGas},s={emitReceipt:this.session.defaults.emitLiveContractReceipts,onlyReceipt:this.session.defaults.onlyReceiptsFromContractRequests},g&&g.length>0&&(g[0].gas instanceof B&&(g[0].gas=g[0].gas.toTinybars()),(Number.isInteger(g[0].gas)||g[0].gas instanceof FU)&&(C.gas=g[0].gas,I=!0)),ig(c=U.constant?new x(C):new y(C))&&this.session.defaults.paymentForContractQuery>0&&(l=B.fromTinybars(this.session.defaults.paymentForContractQuery),c.setQueryPayment(l)),g&&g.length>0&&(ig(c)?(g[0].maxQueryPayment instanceof B&&(c.setMaxQueryPayment(g[0].maxQueryPayment),I=!0),g[0].paymentTransactionId instanceof d&&(c.setPaymentTransactionId(g[0].paymentTransactionId),I=!0),g[0].queryPayment instanceof B&&(c.setQueryPayment(g[0].queryPayment),I=!0)):(g[0].amount&&(c.setPayableAmount(g[0].amount),I=!0),g[0].maxTransactionFee&&(c.setMaxTransactionFee(g[0].maxTransactionFee),I=!0),Array.isArray(g[0].nodeAccountIds)&&(c.setNodeAccountIds(g[0].nodeAccountIds),I=!0),g[0].transactionId instanceof d&&(c.setTransactionId(g[0].transactionId),I=!0),g[0].transactionMemo&&(c.setTransactionMemo(g[0].transactionMemo),I=!0),Number.isInteger(g[0].transactionValidDuration)&&(c.setTransactionValidDuration(g[0].transactionValidDuration),I=!0))),g&&g.length>0&&(!1!==g[0].emitReceipt&&!0!==g[0].emitReceipt||(s.emitReceipt=g[0].emitReceipt,I=!0),!1!==g[0].onlyReceipt&&!0!==g[0].onlyReceipt||(s.onlyReceipt=g[0].onlyReceipt,I=!0)),I&&(g=g.slice(1)),Q.t0=c,Q.t1=U.name,Q.next=14,$U.newFor(U,g);case 14:return Q.t2=Q.sent,Q.t0.setFunction.call(Q.t0,Q.t1,Q.t2),Q.abrupt("return",{meta:s,request:c});case 17:case"end":return Q.stop()}}),Q,this)}))),function(Q){return U.apply(this,arguments)})},{key:"tryExtractingResponse",value:function(Q,B){var F,U=this,g=this.interface.decodeFunctionResult(B,Q.asBytes()),I=Object.keys(g).filter((function(Q){return isNaN(Number(Q))}));if(B.outputs&&0!==B.outputs.length){if(I.length===B.outputs.length){var C=function(Q){return function(Q){return B.outputs.find((function(B){return B.name===Q})).type.startsWith("bytes")}(Q)?aQ(g[Q]):g[Q]};F=I.map((function(Q){return w({},Q,C(Q))})).reduce((function(Q,B){return tg(tg({},Q),B)}),{})}else B.outputs.length>1?(F=fF(g),F=B.outputs.map((function(Q,B){return Q.type.startsWith("bytes")?aQ(F[B]):F[B]}))):F=g[0];var s=function(Q,B){var F=!1;return"string"==typeof Q&&void 0!==jU(Q)?(B(new Gg(U.session,Q),!0),F=!0):zQ.isBigNumber(Q)&&(B(new XU(Q.toString()),!1),F=!0),F};s(F,(function(Q){F=Q}))||pU(F).forEach((function(Q){s(Q,this.update)}))}return F}},{key:"tryToProcessForEvents",value:function(Q){var B=this;Xg(this.interface,Q.logs).forEach((function(Q){var F,U=Q.name,g=Q.payload;if(0===B.events.listenerCount(U)){if(0===B.events.listenerCount("UnhandledEventName"))return;F="UnhandledEventName"}else F=U;try{B.events.emit(F,g)}catch(Q){throw new Error("The event-emitter handle '".concat(U,"' failed to execute with the following reason: ").concat(Q.message))}}))}},{key:"getLiveEntityInfo",value:function(){var Q=(new G).setContractId(this.id);return this.session.execute(Q,qI.Result,!1)}},{key:"newDeleteTransaction",value:function(Q){return new L(tg({contractId:this.id},Q))}},{key:"_getUpdateTransaction",value:function(Q){throw new Error("Method not implemented.")}},{key:"_getBalancePayload",value:function(){return{contractId:this.id}}}],[{key:"newFollowingUpload",value:(F=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(F=B.session,U=B.contract,g=B.emitConstructorLogs,I=B.transaction,!g){Q.next=9;break}return Q.next=4,F.execute(I,qI.Record,!0);case 4:c=Q.sent,C=c.receipt.contractId,s=Xg(U.interface,c.contractFunctionResult.logs),Q.next=14;break;case 9:return Q.next=11,F.execute(I,qI.Receipt,!0);case 11:l=Q.sent,C=l.contractId,s=[];case 14:return Q.abrupt("return",new ug({cInterface:U.interface,id:C,logs:s,session:F}));case 15:case"end":return Q.stop()}}),Q)}))),function(Q){return F.apply(this,arguments)})}]),I}(),ug=function(Q){_F(F,ng);var B=Eg(F);function F(Q){var U,g=Q.session,I=Q.id,C=Q.cInterface,s=Q.logs;return P(this,F),(U=B.call(this,{cInterface:C,id:I,session:g})).liveContract=jF(U),U.logs=s,U}return j(F)}(),Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});var Wg=Hg.config=function(){return{parsed:void 0}};function ag(Q,B){return function(Q){if(Array.isArray(Q))return Q}(Q)||function(Q,B){var F=null==Q?null:"undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(null!=F){var U,g,I=[],C=!0,s=!1;try{for(F=F.call(Q);!(C=(U=F.next()).done)&&(I.push(U.value),!B||I.length!==B);C=!0);}catch(Q){s=!0,g=Q}finally{try{C||null==F.return||F.return()}finally{if(s)throw g}}return I}}(Q,B)||PF(Q,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var hg=function(Q){_F(F,OU(Error));var B=og(F);function F(Q){return P(this,F),B.call(this,Q)}return j(F)}();function Yg(Q,B){var F="undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(!F){if(Array.isArray(Q)||(F=function(Q,B){if(!Q)return;if("string"==typeof Q)return eg(Q,B);var F=Object.prototype.toString.call(Q).slice(8,-1);"Object"===F&&Q.constructor&&(F=Q.constructor.name);if("Map"===F||"Set"===F)return Array.from(Q);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return eg(Q,B)}(Q))||B&&Q&&"number"==typeof Q.length){F&&(Q=F);var U=0,g=function(){};return{s:g,n:function(){return U>=Q.length?{done:!0}:{done:!1,value:Q[U++]}},e:function(Q){throw Q},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,C=!0,s=!1;return{s:function(){F=F.call(Q)},n:function(){var Q=F.next();return C=Q.done,Q},e:function(Q){s=!0,I=Q},f:function(){try{C||null==F.return||F.return()}finally{if(s)throw I}}}}function eg(Q,B){(null==B||B>Q.length)&&(B=Q.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=Q[F];return U}var kg="customnet",pg={CustomNet:"customnet",MainNet:"mainnet",PreviewNet:"previewnet",TestNet:"testnet"},Mg=function(){function Q(B,F,U){P(this,Q),this.defaults=B,this.name=F,this.nodesInfo=U,this.nodes="string"==typeof U?this.parseNetworkAddressBookFrom(U):U;var g=Object.values(pg);if(!g.includes(this.name))throw new hg("There is no such '".concat(this.name,"' network available. In order to continue, please choose a valid name from: ").concat(g.join(", ")));try{b.forName(this.name)}catch(Q){if("customnet"!==this.name)throw new hg("There is no such ".concat(this.name," network available in this library. Available network names to choose from are: ").concat(g.join(", ")));if(!this.nodes||0===Object.keys(this.nodes).length)throw new hg("Please provide a list of network nodes in order to use a ".concat(this.name," network."))}}return j(Q,[{key:"getClient",value:function(){return"customnet"===this.name?b.forNetwork(this.nodes):b.forName(this.name).setMaxNodesPerTransaction(1)}},{key:"parseNetworkAddressBookFrom",value:function(Q){var B={};if(Q){var F,U=Yg(Q.split(/\s*,\s*/).map((function(Q){if(-1===Q.indexOf("#"))throw new hg("Node definition entry '".concat(Q,"' is missing the account-id separator (#)"));var B=ag(Q.split("#"),2),F=B[0],U=B[1],g=parseInt(U);return w({},F,new S(g))})));try{for(U.s();!(F=U.n()).done;){var g=F.value,I=Object.keys(g)[0];B[I]=g[I]}}catch(Q){U.e(Q)}finally{U.f()}}return B}}],[{key:"newFrom",value:function(B){return new Q(B.defaults,B.name,B.nodes)}}]),Q}();function Tg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var zg=function(){function Q(B){P(this,Q),this.ctx=B,this.setNetwork(B.network)}return j(Q,[{key:"setNetwork",value:function(Q){return this.network=Q,this}},{key:"buildFor",value:function(Q){return this.sanityCheck(),this._buildCold(Q)}},{key:"sanityCheck",value:function(){if(!this.network)throw new Error("Please first provide a HederaNetwork to the WalletProvider in order to build a new Wallet.")}}]),Q}(),rg=function(Q){_F(F,zg);var B=Tg(F);function F(Q,U){throw P(this,F),B.call(this,Q),new Error("You're trying to create a wallet-provider for a not-supported wallet-type. Something went wrong since you most likely would not want to ever do that.")}return j(F,[{key:"_buildCold",value:function(Q){return Promise.resolve()}}]),F}(),vg=function(){function Q(B){P(this,Q),this.wallet=B,this.signer=B}var B;return j(Q,[{key:"account",get:function(){return{id:this.wallet.getAccountId(),publicKey:this.wallet.getAccountKey()}}},{key:"execute",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,B.executeWithSigner(this.wallet);case 2:return F=Q.sent,Q.abrupt("return",F);case 4:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"getReceipt",value:function(Q){return this.wallet.getProvider().getTransactionReceipt(Q.transactionId)}}]),Q}();function wg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var Kg=function(Q){_F(U,zg);var B,F=wg(U);function U(Q,B){var g;return P(this,U),(g=F.call(this,Q)).controller=B,g}return j(U,[{key:"_buildCold",value:(B=O(QQ.mark((function Q(B){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",new Og(this.controller,B.propName));case 1:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}]),U}(),Og=function(Q){_F(F,vg);var B=wg(F);function F(Q,U){return P(this,F),B.call(this,window[U])}return j(F)}();function Pg(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var fg=function(Q){_F(F,OU(Error));var B=Pg(F);function F(Q){return P(this,F),B.call(this,Q)}return j(F)}();function jg(Q,B){var F="undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(!F){if(Array.isArray(Q)||(F=function(Q,B){if(!Q)return;if("string"==typeof Q)return qg(Q,B);var F=Object.prototype.toString.call(Q).slice(8,-1);"Object"===F&&Q.constructor&&(F=Q.constructor.name);if("Map"===F||"Set"===F)return Array.from(Q);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return qg(Q,B)}(Q))||B&&Q&&"number"==typeof Q.length){F&&(Q=F);var U=0,g=function(){};return{s:g,n:function(){return U>=Q.length?{done:!0}:{done:!1,value:Q[U++]}},e:function(Q){throw Q},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,C=!0,s=!1;return{s:function(){F=F.call(Q)},n:function(){var Q=F.next();return C=Q.done,Q},e:function(Q){s=!0,I=Q},f:function(){try{C||null==F.return||F.return()}finally{if(s)throw I}}}}function qg(Q,B){(null==B||B>Q.length)&&(B=Q.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=Q[F];return U}function _g(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var $g=function(B){_F(g,N);var F,U=_g(g);function g(Q,B,F){var I;return P(this,g),(I=U.call(this)).accountId=B,I.client=Q.getClient(),I.publicKey=F.publicKey,I.client.setOperator(B,F),I.signer=function(Q){return Promise.resolve(F.sign(Q))},I}return j(g,[{key:"getProvider",value:function(){var Q,B=this;return{getTransactionReceipt:(Q=O(QQ.mark((function Q(F){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",(new R).setTransactionId(F).execute(B.client));case 1:case"end":return Q.stop()}}),Q)}))),function(B){return Q.apply(this,arguments)})}}},{key:"getAccountKey",value:function(){return this.publicKey}},{key:"getLedgerId",value:function(){return this.client.ledgerId}},{key:"getAccountId",value:function(){return this.accountId}},{key:"getNetwork",value:function(){return this.client.network}},{key:"getMirrorNetwork",value:function(){return this.client.mirrorNetwork}},{key:"sign",value:(F=O(QQ.mark((function Q(B){var F,U,g,I;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:F=[],U=jg(B),Q.prev=2,U.s();case 4:if((g=U.n()).done){Q.next=18;break}return I=g.value,Q.t0=F,Q.t1=A,Q.t2=this.accountId,Q.t3=this.publicKey,Q.next=12,this.signer(I);case 12:Q.t4=Q.sent,Q.t5={accountId:Q.t2,publicKey:Q.t3,signature:Q.t4},Q.t6=new Q.t1(Q.t5),Q.t0.push.call(Q.t0,Q.t6);case 16:Q.next=4;break;case 18:Q.next=23;break;case 20:Q.prev=20,Q.t7=Q.catch(2),U.e(Q.t7);case 23:return Q.prev=23,U.f(),Q.finish(23);case 26:return Q.abrupt("return",F);case 27:case"end":return Q.stop()}}),Q,this,[[2,20,23,26]])}))),function(Q){return F.apply(this,arguments)})},{key:"getAccountBalance",value:function(){return(new Q).setAccountId(this.accountId).execute(this.client)}},{key:"getAccountInfo",value:function(){return(new s).setAccountId(this.accountId).execute(this.client)}},{key:"getAccountRecords",value:function(){return(new V).setAccountId(this.accountId).execute(this.client)}},{key:"signTransaction",value:function(Q){return Q.signWith(this.publicKey,this.signer)}},{key:"checkTransaction",value:function(Q){var B=Q.transactionId;if(null!=B.accountId&&0!=B.accountId.compare(this.accountId))throw new Error("transaction's ID constructed with a different account ID");var F=(null!=Q.nodeAccountIds?Q.nodeAccountIds:[]).map((function(Q){return Q.toString()})),U=Object.values(this.getNetwork()).map((function(Q){return Q.toString()}));if(!F.reduce((function(Q,B){return Q&&U.includes(B)}),!0))throw new Error("Transaction already set node account IDs to values not within the current network");return Promise.resolve(Q)}},{key:"populateTransaction",value:function(Q){return Q.setTransactionId(d.generate(this.accountId)),Q.setNodeAccountIds(this.client._network.getNodeAccountIdsForExecute()),Promise.resolve(Q.freeze())}},{key:"sendRequest",value:function(Q){return Q.execute(this.client)}}]),g}();function QI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var BI=function(Q){_F(g,zg);var B,F,U=QI(g);function g(Q,B){var F;return P(this,g),(F=U.call(this,Q)).controller=B,F}return j(g,[{key:"buildOperatedBy",value:(F=O(QQ.mark((function Q(B,F){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return this.sanityCheck(),Q.abrupt("return",new FI(this.controller,this.ctx.network,"string"==typeof B?S.fromString(B):B,"string"==typeof F?I.fromString(F):F));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q,B){return F.apply(this,arguments)})},{key:"_buildCold",value:(B=O(QQ.mark((function Q(B){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",this.buildOperatedBy(B.accountId,B.privateKey));case 1:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}]),g}(),FI=function(Q){_F(F,vg);var B=QI(F);function F(Q,U,g,C){var s;return P(this,F),(s=B.call(this,new $g(U,g,C))).network=U,s.operatorId=g,s.operatorKey=C,Q.onAccountChanged((function(Q){s.operatorKey=I.fromString(Q.operatorKey),s.wallet=new $g(U,S.fromString(Q.operatorId),I.fromString(Q.operatorKey)),s.operatorId=s.wallet.getAccountId()})),Q.onNetworkChanged((function(Q){s.network=Q,s.wallet=new $g(Q,s.wallet.getAccountId(),C)})),s}return j(F)}();function UI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var gI=function(){function Q(B,F,U){P(this,Q),this.events=B,this.eventName=F,this.clb=U,B.on(F,U)}return j(Q,[{key:"unsubscribe",value:function(){this.events.off(this.eventName,this.clb)}}]),Q}(),II=new(function(Q){_F(F,gI);var B=UI(F);function F(){return P(this,F),B.call(this,new BQ.exports.EventEmitter,"NeverFiringSubscription",(function(Q){}))}return j(F)}()),CI=function(){function Q(B){P(this,Q),this.ctx=B,this.pubSub=new BQ.exports.EventEmitter}return j(Q,[{key:"changeAccount",value:function(B){for(var F=arguments.length,U=new Array(F>1?F-1:0),g=1;g<F;g++)U[g-1]=arguments[g];var I=this.getAccountPayload.apply(this,[B].concat(U));this.pubSub.emit(Q.ACCOUNT_CHANGE_REQUESTED,I)}},{key:"changeNetwork",value:function(B){this.pubSub.emit(Q.NETWORK_CHANGE_REQUESTED,B)}},{key:"onAccountChanged",value:function(B){return new gI(this.pubSub,Q.ACCOUNT_CHANGE_REQUESTED,B)}},{key:"onNetworkChanged",value:function(B){return new gI(this.pubSub,Q.NETWORK_CHANGE_REQUESTED,B)}}]),Q}();function sI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}w(CI,"NETWORK_CHANGE_REQUESTED","NETWORK_CHANGE_REQUESTED"),w(CI,"ACCOUNT_CHANGE_REQUESTED","ACCOUNT_CHANGE_REQUESTED");var cI=function(Q){_F(F,CI);var B=sI(F);function F(Q){return P(this,F),B.call(this,Q)}return j(F,[{key:"getAccountPayload",value:function(Q){if(0==(arguments.length<=1?0:arguments.length-1))throw new Error("The private-key must also be provided in order to switch the account.");try{var B=(arguments.length<=1?void 0:arguments[1])instanceof I?arguments.length<=1?void 0:arguments[1]:I.fromString(arguments.length<=1?void 0:arguments[1]);return{operatorId:Q instanceof S?Q.toString():Q,operatorKey:B.toStringDer()}}catch(Q){throw new Error("The provided key is not in a valid format. Cannot change account.")}}}]),F}(),lI=function(){function Q(){P(this,Q)}return j(Q,[{key:"changeAccount",value:function(Q){throw new Error("This WalletController cannot change the account of the underlying wallet.")}},{key:"changeNetwork",value:function(Q){throw new Error("This WalletController cannot change the network of the underlying wallet.")}},{key:"onAccountChanged",value:function(Q){return II}},{key:"onNetworkChanged",value:function(Q){return II}}]),Q}(),SI={},ZI=function(){function Q(B,F){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lI,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rg,I=arguments.length>4?arguments[4]:void 0;if(P(this,Q),this.name=F,this.defaultController=U,this.providerHaving=g,this.computeColdStartOptionsFrom=I,B!==SI)throw new Error("Wallet types cannot be defined from outside this module!")}return j(Q,[{key:"equals",value:function(B){return B instanceof Q&&this.name===B.name}}]),Q}(),GI=function(){function Q(){P(this,Q),w(this,"unknownWalletType",new ZI(SI,"Unknown")),this.knownWalletTypes=[new ZI(SI,"Sdk",cI,BI,(function(Q){try{return{accountId:S.fromString(Q.wallet.sdk.operatorId),privateKey:I.fromString(Q.wallet.sdk.operatorKey)}}catch(Q){throw new fg(Q.message)}})),new ZI(SI,"Browser",lI,Kg,(function(Q){return{propName:Q.wallet.window.propName}}))]}return j(Q,[{key:"isKnown",value:function(Q){return!this.Unknown.equals(Q)}},{key:"Unknown",get:function(){return this.unknownWalletType}},{key:"getBy",value:function(Q){var B=Q.name,F=this.knownWalletTypes.filter((function(Q){return Q.name===B}));return 0===F.length?this.Unknown:F[0]}}]),Q}(),LI={},xI={exports:{}};!function(Q){Q.exports=function(Q,B){if(!(Q instanceof B))throw new TypeError("Cannot call a class as a function")},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(xI);var yI={exports:{}};!function(Q){function B(Q,B){for(var F=0;F<B.length;F++){var U=B[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Q,U.key,U)}}Q.exports=function(Q,F,U){return F&&B(Q.prototype,F),U&&B(Q,U),Object.defineProperty(Q,"prototype",{writable:!1}),Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(yI);var dI={exports:{}},bI={exports:{}};!function(Q){function B(F,U){return Q.exports=B=Object.setPrototypeOf||function(Q,B){return Q.__proto__=B,Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports,B(F,U)}Q.exports=B,Q.exports.__esModule=!0,Q.exports.default=Q.exports}(bI),function(Q){var B=bI.exports;Q.exports=function(Q,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(F&&F.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),F&&B(Q,F)},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(dI);var VI={exports:{}},NI={exports:{}};!function(Q){function B(F){return Q.exports=B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports,B(F)}Q.exports=B,Q.exports.__esModule=!0,Q.exports.default=Q.exports}(NI);var RI={exports:{}};!function(Q){Q.exports=function(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(RI),function(Q){var B=NI.exports.default,F=RI.exports;Q.exports=function(Q,U){if(U&&("object"===B(U)||"function"==typeof U))return U;if(void 0!==U)throw new TypeError("Derived constructors may only return object or undefined");return F(Q)},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(VI);var AI={exports:{}};!function(Q){function B(F){return Q.exports=B=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},Q.exports.__esModule=!0,Q.exports.default=Q.exports,B(F)}Q.exports=B,Q.exports.__esModule=!0,Q.exports.default=Q.exports}(AI);var DI=xg.exports;Object.defineProperty(LI,"__esModule",{value:!0});var mI=LI.StratoLogger=void 0,EI=DI(xI.exports),JI=DI(yI.exports),tI=DI(dI.exports),iI=DI(VI.exports),XI=DI(AI.exports),nI=DI(BQ.exports);function uI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=(0,XI.default)(Q);if(B){var g=(0,XI.default)(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return(0,iI.default)(this,F)}}var HI={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},WI=function(Q){(0,tI.default)(F,Q);var B=uI(F);function F(Q){var U;return(0,EI.default)(this,F),(U=B.call(this)).level=HI[Q.level],U.isLoggingEnabled=Q.enabled,U}return(0,JI.default)(F,[{key:"isSillyLoggingEnabled",get:function(){return this._isLevelEnabled(HI.silly)}},{key:"debug",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.debug)&&this.emit.apply(this,["debug",Q].concat(F)),this}},{key:"error",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.error)&&this.emit.apply(this,["error",Q].concat(F)),this}},{key:"info",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.info)&&this.emit.apply(this,["info",Q].concat(F)),this}},{key:"silly",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.silly)&&this.emit.apply(this,["debug",Q].concat(F)),this}},{key:"verbose",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.verbose)&&this.emit.apply(this,["debug",Q].concat(F)),this}},{key:"warn",value:function(Q){for(var B=arguments.length,F=new Array(B>1?B-1:0),U=1;U<B;U++)F[U-1]=arguments[U];return this._isLevelEnabled(HI.warn)&&this.emit.apply(this,["warn",Q].concat(F)),this}},{key:"_isLevelEnabled",value:function(Q){return this.isLoggingEnabled&&this.level>=Q}}]),F}(nI.default);function aI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}mI=LI.StratoLogger=WI;var oI,hI=function(Q){_F(F,cI);var B=aI(F);function F(Q){return P(this,F),B.call(this,Q)}return j(F,[{key:"getAccountPayload",value:function(Q){return Fg(BU(F.prototype),"getAccountPayload",this).call(this,Q,this.ctx.params.wallet.controller.default.operatorKey)}}]),F}(),YI=function(){function Q(B){P(this,Q),this.impotentController=new lI,this.knownControllers=[{name:"Hedera",value:new cI(B)},{name:"DefaultPrivateKey",value:new hI(B)}]}return j(Q,[{key:"Unknown",get:function(){return this.impotentController}},{key:"getBy",value:function(Q){var B=Q.name,F=this.knownControllers.filter((function(Q){return Q.name===B}));return 0===F.length?this.Unknown:F[0].value}}]),Q}(),eI=(w(oI={},pg.CustomNet,{fileChunkSize:1024}),w(oI,pg.MainNet,{fileChunkSize:1024}),w(oI,pg.TestNet,{fileChunkSize:1024}),w(oI,pg.PreviewNet,{fileChunkSize:1024}),oI),kI=function(){function Q(B){var F,U,g,I,C,s,c,l,S,Z,G,L,x,y,d,b;P(this,Q);var V=Wg({path:B.path}).parsed,N={},R=null!==(F=null==B?void 0:B.params)&&void 0!==F?F:{};V||(V={HEDERAS_NETWORK:"testnet",HEDERAS_OPERATOR_ID:"0.0.2908307",HEDERAS_OPERATOR_KEY:"302e020100300506032b657004220420261b8e33bc1c3258ce166b8577548462149b422f60f699495eef744368808dee",HEDERAS_DEFAULT_CONTRACT_REQUESTS_RETURN_ONLY_RECEIPTS:"false",HEDERAS_DEFAULT_PAYMENT_FOR_CONTRACT_QUERY:"1000000",HEDERAS_LOGGER_LEVEL:"debug",HEDERAS_LOGGER_ENABLED:"true",HEDERAS_CONTRACTS_RELATIVE_PATH:"./lib.docs/src/strato/contracts"}),Object.keys(V).filter((function(Q){return Q.startsWith("HEDERAS_")})).forEach((function(Q){N[Q]=V[Q]}));var A=null!==(U=null!==(g=null===(I=R.network)||void 0===I?void 0:I.name)&&void 0!==g?g:N.HEDERAS_NETWORK)&&void 0!==U?U:"unspecified";this.walletTypes=new GI,this.params={logger:{enabled:"true"===(null!==(C=null!==(s=null===(c=R.logger)||void 0===c?void 0:c.enabled)&&void 0!==s?s:N.HEDERAS_LOGGER_ENABLED)&&void 0!==C?C:"false"),level:null!==(l=null!==(S=null===(Z=R.logger)||void 0===Z?void 0:Z.level)&&void 0!==S?S:N.HEDERAS_LOGGER_LEVEL)&&void 0!==l?l:"info"},network:{defaults:eI[null!==(G=null!==(L=null===(x=R.network)||void 0===x?void 0:x.name)&&void 0!==L?L:N.HEDERAS_NETWORK)&&void 0!==G?G:"unspecified"],name:A,nodes:null!==(y=null!==(d=null===(b=R.network)||void 0===b?void 0:b.nodes)&&void 0!==d?d:N.HEDERAS_NODES)&&void 0!==y?y:""},session:{defaults:this.parseSessionDefaultsFrom(A,R,N)},wallet:this.computeWalletSpecsFrom(R,N)},this.walletControllers=new YI(this),this.log=new mI(this.params.logger),this.network=Mg.newFrom(this.params.network)}var B;return j(Q,[{key:"getWallet",value:(B=O(QQ.mark((function Q(B){var F,U,g,I,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(U="string"==typeof this.params.wallet.type?this.walletTypes.getBy({name:this.params.wallet.type}):this.params.wallet.type,g=null!==(F=null!=B?B:this.walletControllers.getBy({name:this.params.wallet.controller.type}))&&void 0!==F?F:new U.defaultController(this),I=new U.providerHaving(this,g),!(C=U.computeColdStartOptionsFrom(this.params))){Q.next=12;break}return Q.t0=g,Q.next=8,I.buildFor(C);case 8:return Q.t1=Q.sent,Q.abrupt("return",{controller:Q.t0,wallet:Q.t1});case 12:throw new Error("Please provide either the cold-start data or a saved-state from where to create the bounded underlying Wallet with.");case 13:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"computeWalletSpecsFrom",value:function(Q,B){var F,U,g,I,C,s,c,l,S,Z,G,L,x,y,d,b,V,N,R,A,D=null!==(F=null===(U=Q.wallet)||void 0===U||null===(g=U.controller)||void 0===g||null===(I=g.default)||void 0===I?void 0:I.operatorKey)&&void 0!==F?F:B.HEDERAS_WALLET_CONTROLLER_DEFAULT_PRIVATE_KEY,m=null!==(C=null!==(s=null===(c=Q.wallet)||void 0===c||null===(l=c.controller)||void 0===l?void 0:l.type)&&void 0!==s?s:B.HEDERAS_WALLET_CONTROLLER)&&void 0!==C?C:"Hedera",E=this.walletTypes.getBy({name:"string"==typeof(null===(S=Q.wallet)||void 0===S?void 0:S.type)?null===(Z=Q.wallet)||void 0===Z?void 0:Z.type:B.HEDERAS_WALLET_TYPE?B.HEDERAS_WALLET_TYPE:"Sdk"}),J=null!==(G=null!==(L=null===(x=Q.wallet)||void 0===x||null===(y=x.window)||void 0===y?void 0:y.propName)&&void 0!==L?L:B.HEDERAS_WALLET_WINDOW_PROPERTY_NAME)&&void 0!==G?G:"hedera";if(!this.walletTypes.isKnown(E))throw new Error("Only 'Sdk' and 'Browser' wallet types are currently supported. If not specified, it defaults to 'Sdk'.");return{controller:{default:{operatorKey:D},type:m},sdk:{operatorId:null!==(d=null===(b=Q.wallet)||void 0===b||null===(V=b.sdk)||void 0===V?void 0:V.operatorId)&&void 0!==d?d:B.HEDERAS_OPERATOR_ID,operatorKey:null!==(N=null===(R=Q.wallet)||void 0===R||null===(A=R.sdk)||void 0===A?void 0:A.operatorKey)&&void 0!==N?N:B.HEDERAS_OPERATOR_KEY},type:E,window:{propName:J}}}},{key:"parseSessionDefaultsFrom",value:function(Q,B,F){var U,g,I,C,s,c,l,S,Z,G,L,x,y,d,b,V,N,R,A,D,m,E,J,t,i=function(B){return F["HEDERAS_".concat(Q.toUpperCase(),"_DEFAULT_").concat(B.toUpperCase())]||F["HEDERAS_DEFAULT_".concat(B.toUpperCase())]};return{contractCreationGas:null!==(U=null===(g=B.session)||void 0===g||null===(I=g.defaults)||void 0===I?void 0:I.contractCreationGas)&&void 0!==U?U:parseInt(null!==(C=i("contract_creation_gas"))&&void 0!==C?C:"150000"),contractTransactionGas:null!==(s=null===(c=B.session)||void 0===c||null===(l=c.defaults)||void 0===l?void 0:l.contractCreationGas)&&void 0!==s?s:parseInt(null!==(S=i("contract_transaction_gas"))&&void 0!==S?S:"169000"),emitConstructorLogs:null!==(Z=null===(G=B.session)||void 0===G||null===(L=G.defaults)||void 0===L?void 0:L.emitConstructorLogs)&&void 0!==Z?Z:"true"===(null!==(x=i("emit_constructor_logs"))&&void 0!==x?x:"true"),emitLiveContractReceipts:null!==(y=null===(d=B.session)||void 0===d||null===(b=d.defaults)||void 0===b?void 0:b.emitLiveContractReceipts)&&void 0!==y?y:"true"===(null!==(V=i("emit_live_contracts_receipts"))&&void 0!==V?V:"false"),onlyReceiptsFromContractRequests:null!==(N=null===(R=B.session)||void 0===R||null===(A=R.defaults)||void 0===A?void 0:A.onlyReceiptsFromContractRequests)&&void 0!==N?N:"true"===(null!==(D=i("contract_requests_return_only_receipts"))&&void 0!==D?D:"true"),paymentForContractQuery:null!==(m=null===(E=B.session)||void 0===E||null===(J=E.defaults)||void 0===J?void 0:J.paymentForContractQuery)&&void 0!==m?m:parseInt(null!==(t=i("payment_for_contract_query"))&&void 0!==t?t:"1000000")}}}]),Q}();function pI(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function MI(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?pI(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):pI(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}var TI=function(){function Q(B){P(this,Q),this.nameOfUpload=B}var B,F;return j(Q,[{key:"uploadTo",value:(F=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l,S;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,U=B.args,g=void 0===U?[]:U,Q.next=3,this.getContent();case 3:return I=Q.sent,Q.next=6,this._getFileTransactionsFor({args:g,content:I,session:F});case 6:return C=Q.sent,s=C.appendTxCount,c=C.areOverridesProvided,l=C.fileTransactions,Q.next=12,F.execute(l[0],qI.Receipt,!0);case 12:if((S=Q.sent).status===D.Success){Q.next=17;break}throw new Error("There was an issue while creating the file (status ".concat(S.status,"). Aborting file upload."));case 17:if(F.log.debug("Uploaded content to HFS resulting in file id ".concat(S.fileId)),!(l.length>1&&l[1]instanceof E)){Q.next=23;break}return F.log.debug("Appending the remaining content with a total of ".concat(s," file-append transactions.")),Q.next=22,F.execute(l[1].setFileId(S.fileId),qI.Result,!0);case 22:F.log.verbose("Done appending. Content has been successfully uploaded and is available at HFS id ".concat(S.fileId));case 23:return c&&(g=g.slice(1)),Q.abrupt("return",this.onFileUploaded({args:g,receipt:S,session:F}));case 25:case"end":return Q.stop()}}),Q,this)}))),function(Q){return F.apply(this,arguments)})},{key:"_getFileTransactionsFor",value:(B=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l,S;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.content,U=B.session,g=B.args,I=void 0===g?[]:g,C=U.network.defaults.fileChunkSize,s=[],c={},I.length>0&&0!==Object.keys(I[0]).length&&"_file"===Object.keys(I[0])[0]&&(c=I[0]._file),s.push(new m(Object.assign({},MI({keys:[U.wallet.account.publicKey]},c),{contents:F.length>C?F.slice(0,C):F}))),l=0,F.length>C&&(S=F.slice(C),l=Math.ceil(S.length/C),s.push(new E({contents:S,maxChunks:l}))),Q.abrupt("return",{appendTxCount:l,areOverridesProvided:0!==Object.keys(c).length,fileTransactions:s});case 9:case"end":return Q.stop()}}),Q)}))),function(Q){return B.apply(this,arguments)})}]),Q}();function zI(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function rI(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?zI(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):zI(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function vI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var wI=function(Q){_F(g,MU);var B,F,U=vI(g);function g(Q){var B,F=Q.session,I=Q.id,C=Q.data;return P(this,g),(B=U.call(this,F,I instanceof J?I:J.fromString(I))).data=C,B}return j(g,[{key:"getLiveEntityInfo",value:function(){var Q=new t({fileId:this.id});return this.session.execute(Q,qI.Result,!1)}},{key:"getSolidityAddress",value:function(){return this.id.toSolidityAddress()}},{key:"_getDeleteTransaction",value:function(Q){return new i({fileId:this.id})}},{key:"_getUpdateTransaction",value:(F=O(QQ.mark((function Q(B){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",new X(rI(rI({},B),{},{fileId:this.id})));case 1:case"end":return Q.stop()}}),Q,this)}))),function(Q){return F.apply(this,arguments)})},{key:"getContents",value:(B=O(QQ.mark((function Q(){var B,F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return B=new n({fileId:this.id}),Q.next=3,this.session.execute(B,qI.Result,!1);case 3:return F=Q.sent,Q.abrupt("return",F);case 5:case"end":return Q.stop()}}),Q,this)}))),function(){return B.apply(this,arguments)})}]),g}();function KI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var OI=function(Q){_F(g,TI);var B,F,U=KI(g);function g(Q){var B;return P(this,g),(B=U.call(this,"File")).info=Q,B}return j(g,[{key:"getContent",value:(F=O(QQ.mark((function Q(){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",this.info);case 1:case"end":return Q.stop()}}),Q,this)}))),function(){return F.apply(this,arguments)})},{key:"onFileUploaded",value:(B=O(QQ.mark((function Q(B){var F,U;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,U=B.receipt,Q.abrupt("return",new wI({data:this.info,id:U.fileId,session:F}));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}]),g}();function PI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var fI=function(Q){_F(F,wI);var B=PI(F);function F(Q){var U,g=Q.session,I=Q.id,C=Q.data;return P(this,F),U=B.call(this,{data:C,id:I,session:g}),"string"==typeof C&&(C=JSON.parse(C)),Object.keys(C).forEach((function(Q){return Object.defineProperty(jF(U),Q,{enumerable:!0,value:C[Q],writable:!1})})),U}return j(F)}();function jI(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var qI,_I=function(Q){_F(g,TI);var B,F,U=jI(g);function g(Q){var B;return P(this,g),(B=U.call(this,"Json")).info=Q,g._guardForInvalid(Q),B}return j(g,[{key:"getContent",value:(F=O(QQ.mark((function Q(){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",JSON.stringify(this.info));case 1:case"end":return Q.stop()}}),Q,this)}))),function(){return F.apply(this,arguments)})},{key:"onFileUploaded",value:(B=O(QQ.mark((function Q(B){var F,U;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,U=B.receipt,Q.abrupt("return",new fI({data:JSON.stringify(this.info),id:U.fileId,session:F}));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}],[{key:"isInfoAcceptable",value:function(Q){try{return g._guardForInvalid(Q),!0}catch(Q){}return!1}},{key:"_guardForInvalid",value:function(Q){if(null===Q||"object"!==$F(Q))throw new Error("Please provide a valid JSON object to instantiate a static Json with.");if(void 0!==Object.keys(Q).find((function(Q){return Q.length>0&&("_"===Q[0]||"id"===Q)})))throw new Error("Static Jsons can only be constructed from JSON objects who's properties don't start with '_' or has the 'id' naming.")}}]),g}();!function(Q){Q.Receipt="Receipt",Q.Record="Record",Q.Result="Result"}(qI||(qI={}));var $I={},QC=function(){function Q(B,F){var U=F.ctx,g=F.client;if(P(this,Q),B!==$I)throw new Error("API sessions can only be constructed through a SessionBuilder instance!");this.log=U.log,this.network=U.network,this.client=g,this.defaults=U.params.session.defaults,this.events=new BQ.exports.EventEmitter}var B,F,U,g,I,C,s;return j(Q,[{key:"wallet",get:function(){return this.client}},{key:"create",value:(s=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return this.log.info("Creating a new Hedera ".concat(B.name)),Q.next=3,B.createVia({session:this});case 3:return F=Q.sent,this.log.info("Successfully created ".concat(B.name," id ").concat(F.id)),Q.abrupt("return",F);case 6:case"end":return Q.stop()}}),Q,this)}))),function(Q){return s.apply(this,arguments)})},{key:"execute",value:(C=O(QQ.mark((function Q(B,F){var U,g,I,C,s,c,l,S,Z=arguments;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return g=Z.length>2&&void 0!==Z[2]&&Z[2],I=B instanceof x||B instanceof y,Q.next=4,this.client.execute(B);case 4:if(l=Q.sent,C=l,!(l instanceof H)){Q.next=19;break}return Q.next=9,this.client.getReceipt(l);case 9:if(s=Q.sent,!(F===qI.Record||I&&F===qI.Result)){Q.next=16;break}return S=(new u).setTransactionId(l.transactionId),Q.next=14,this.client.execute(S);case 14:c=Q.sent,C=c.contractFunctionResult;case 16:this.canReceiptBeEmitted(g)&&this.events.emit("__TransactionOnReceiptAvailable_EventName__",{receipt:s,transaction:B}),Q.next=19;break;case 19:return Q.abrupt("return",(U={},w(U,qI.Record,c),w(U,qI.Receipt,s),w(U,qI.Result,C),U)[F]);case 20:case"end":return Q.stop()}}),Q,this)}))),function(Q,B){return C.apply(this,arguments)})},{key:"getSolidityAddress",value:function(){return this.wallet.account.id.toSolidityAddress()}},{key:"getLiveContract",value:(I=O(QQ.mark((function Q(B){var F,U,g,I,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.id,U=B.abi,g=void 0===U?[]:U,Q.next=3,g;case 3:C=Q.sent,Q.prev=4,I=F instanceof Z?F:Z.fromString(F),Q.next=11;break;case 8:throw Q.prev=8,Q.t0=Q.catch(4),new Error("Please provide a valid Hedera contract id in order try to lock onto an already-deployed contract.");case 11:return Q.abrupt("return",new ng({cInterface:C instanceof KF?C:new KF(C),id:I,session:this}));case 12:case"end":return Q.stop()}}),Q,this,[[4,8]])}))),function(Q){return I.apply(this,arguments)})},{key:"getLiveJson",value:(g=O(QQ.mark((function Q(B){var F,U,g,I,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:F=B.id,Q.prev=1,U=F instanceof J?F:J.fromString(F),Q.next=8;break;case 5:throw Q.prev=5,Q.t0=Q.catch(1),new Error("Please provide a valid Hedera file id in order try to lock onto an already-deployed Json object.");case 8:return g=(new n).setFileId(U),Q.next=11,this.execute(g,qI.Result,!1);case 11:return I=Q.sent,C=new TextDecoder("utf8").decode(I),Q.abrupt("return",new fI({data:JSON.parse(C),id:U,session:this}));case 14:case"end":return Q.stop()}}),Q,this,[[1,5]])}))),function(Q){return g.apply(this,arguments)})},{key:"subscribeToReceiptsWith",value:function(Q){return new gI(this.events,"__TransactionOnReceiptAvailable_EventName__",Q)}},{key:"upload",value:(U=O(QQ.mark((function Q(B){var F,U,g,I,C,s=arguments;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(B instanceof TI!=0){Q.next=12;break}if(!("string"==typeof B||B instanceof Uint8Array)){Q.next=5;break}F=new OI(B),Q.next=10;break;case 5:if(!_I.isInfoAcceptable(B)){Q.next=9;break}F=new _I(B),Q.next=10;break;case 9:throw new Error("Can only upload UploadableFile-s or Json-file acceptable content.");case 10:Q.next=13;break;case 12:F=B;case 13:for(this.log.info("Uploading a new ".concat(F.nameOfUpload," to Hedera File Service (HFS).")),U=s.length,g=new Array(U>1?U-1:0),I=1;I<U;I++)g[I-1]=s[I];return Q.next=17,F.uploadTo({args:g,session:this});case 17:return C=Q.sent,this.log.info("Successfully created a ".concat(F.nameOfUpload," id ").concat(C.id,".")),Q.abrupt("return",C);case 20:case"end":return Q.stop()}}),Q,this)}))),function(Q){return U.apply(this,arguments)})},{key:"canReceiptBeEmitted",value:function(Q){return Q&&0!==this.events.listenerCount("__TransactionOnReceiptAvailable_EventName__")}}],[{key:"default",value:(F=O(QQ.mark((function B(){var F,U,g,I=arguments;return QQ.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:return F=I.length>0&&void 0!==I[0]?I[0]:{},U=I.length>1&&void 0!==I[1]?I[1]:".env",g=new kI("string"==typeof F?{params:{},path:F}:{params:F,path:U}),B.abrupt("return",Q.buildFrom(g));case 5:case"end":return B.stop()}}),B)}))),function(){return F.apply(this,arguments)})},{key:"buildFrom",value:(B=O(QQ.mark((function B(F){var U,g,I;return QQ.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,F.getWallet();case 2:return U=B.sent,g=U.wallet,I=U.controller,B.abrupt("return",{controller:I,session:new Q($I,{client:g,ctx:F})});case 6:case"end":return B.stop()}}),B)}))),function(Q){return B.apply(this,arguments)})}]),Q}();function BC(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function FC(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?BC(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):BC(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function UC(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var gC={},IC=function(){function Q(B,F){if(P(this,Q),this.hTokenType=F,B!==gC)throw new Error("TokenType-s can only be created from within the static/Token module")}return j(Q,[{key:"equals",value:function(B){return B instanceof Q?this.hTokenType._code===B.hTokenType._code:B instanceof W&&this.hTokenType._code===B._code}}]),Q}(),CC={FungibleCommon:new IC(gC,W.FungibleCommon),NonFungibleUnique:new IC(gC,W.NonFungibleUnique)},sC=function(Q){_F(U,gg);var B,F=UC(U);function U(Q){var B;return P(this,U),(B=F.call(this,"Token")).info=Q,B}return j(U,[{key:"createVia",value:(B=O(QQ.mark((function Q(B){var F,g,I,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,g=U.mapTokenFeaturesToTokenArguments(this.info,F),I=new a(g),Q.next=5,F.execute(I,qI.Receipt,!0);case 5:return C=Q.sent,Q.abrupt("return",new ZC({id:C.tokenId,session:F}));case 7:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}],[{key:"mapTokenFeaturesToTokenUpgradeArguments",value:function(Q){var B,F,U,g,I,C,s,c,l,S,Z,G,L,x,y={};return(null===(B=Q.keys)||void 0===B?void 0:B.admin)&&(y.adminKey=null===(F=Q.keys)||void 0===F?void 0:F.admin),(null===(U=Q.keys)||void 0===U?void 0:U.feeSchedule)&&(y.feeScheduleKey=null===(g=Q.keys)||void 0===g?void 0:g.feeSchedule),(null===(I=Q.keys)||void 0===I?void 0:I.freeze)&&(y.freezeKey=null===(C=Q.keys)||void 0===C?void 0:C.freeze),(null===(s=Q.keys)||void 0===s?void 0:s.kyc)&&(y.kycKey=null===(c=Q.keys)||void 0===c?void 0:c.kyc),(null===(l=Q.keys)||void 0===l?void 0:l.pause)&&(y.pauseKey=null===(S=Q.keys)||void 0===S?void 0:S.pause),(null===(Z=Q.keys)||void 0===Z?void 0:Z.supply)&&(y.supplyKey=null===(G=Q.keys)||void 0===G?void 0:G.supply),(null===(L=Q.keys)||void 0===L?void 0:L.wipe)&&(y.wipeKey=null===(x=Q.keys)||void 0===x?void 0:x.wipe),Q.name&&(y.tokenName=Q.name),Q.symbol&&(y.tokenSymbol=Q.symbol),Q.treasuryAccountId&&(y.treasuryAccountId=Q.treasuryAccountId),FC(FC({},y),Q)}},{key:"mapTokenFeaturesToTokenArguments",value:function(Q,B){var F,U,g,I,C,s,c,l,S,Z,G,L,x,y,d,b,V,N,R,A,D,m,E,J=B.wallet.account.publicKey,t=B.wallet.account.id;return FC({adminKey:null!==(null===(F=Q.keys)||void 0===F?void 0:F.admin)?null!==(U=null===(g=Q.keys)||void 0===g?void 0:g.admin)&&void 0!==U?U:J:void 0,feeScheduleKey:null!==(null===(I=Q.keys)||void 0===I?void 0:I.feeSchedule)?null!==(C=null===(s=Q.keys)||void 0===s?void 0:s.feeSchedule)&&void 0!==C?C:J:void 0,freezeKey:null!==(null===(c=Q.keys)||void 0===c?void 0:c.freeze)?null!==(l=null===(S=Q.keys)||void 0===S?void 0:S.freeze)&&void 0!==l?l:J:void 0,kycKey:null!==(null===(Z=Q.keys)||void 0===Z?void 0:Z.kyc)?null!==(G=null===(L=Q.keys)||void 0===L?void 0:L.kyc)&&void 0!==G?G:J:void 0,pauseKey:null!==(null===(x=Q.keys)||void 0===x?void 0:x.pause)?null!==(y=null===(d=Q.keys)||void 0===d?void 0:d.pause)&&void 0!==y?y:J:void 0,supplyKey:null!==(null===(b=Q.keys)||void 0===b?void 0:b.supply)?null!==(V=null===(N=Q.keys)||void 0===N?void 0:N.supply)&&void 0!==V?V:J:void 0,tokenName:Q.name,tokenSymbol:Q.symbol,tokenType:null!==(R=Q.type.hTokenType)&&void 0!==R?R:W.FungibleCommon,treasuryAccountId:null!==(A=Q.treasuryAccountId)&&void 0!==A?A:t,wipeKey:null!==(null===(D=Q.keys)||void 0===D?void 0:D.wipe)?null!==(m=null===(E=Q.keys)||void 0===E?void 0:E.wipe)&&void 0!==m?m:J:void 0},Q)}}]),U}();function cC(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function lC(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?cC(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):cC(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function SC(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var ZC=function(Q){_F(I,MU);var B,F,U,g=SC(I);function I(Q){var B=Q.session,F=Q.id;return P(this,I),g.call(this,B,F)}return j(I,[{key:"getSolidityAddress",value:function(){return this.id.toSolidityAddress()}},{key:"assignSupplyControlTo",value:(U=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=(new h).setTokenId(this.id).setSupplyKey(B instanceof Y?B:B.id),Q.next=3,this.session.execute(F,qI.Receipt,!0);case 3:case"end":return Q.stop()}}),Q,this)}))),function(Q){return U.apply(this,arguments)})},{key:"getLiveEntityInfo",value:(F=O(QQ.mark((function Q(){var B;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return B=(new e).setTokenId(this.id),Q.abrupt("return",this.session.execute(B,qI.Result,!1));case 2:case"end":return Q.stop()}}),Q,this)}))),function(){return F.apply(this,arguments)})},{key:"_getDeleteTransaction",value:function(Q){return new o({tokenId:this.id})}},{key:"_getUpdateTransaction",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=sC.mapTokenFeaturesToTokenUpgradeArguments(B),Q.abrupt("return",new h(lC(lC({},F),{},{tokenId:this.id})));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}]),I}();function GC(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var LC=function(Q){_F(U,gg);var B,F=GC(U);function U(){var Q,B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,U),(Q=F.call(this,"Topic")).topicFeatures=B,Q}return j(U,[{key:"createVia",value:(B=O(QQ.mark((function Q(B){var F,g,I,C;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,g=U.mapTopicFeaturesToTopicArguments(this.topicFeatures),I=new k(g),Q.next=5,F.execute(I,qI.Receipt,!0);case 5:return C=Q.sent,Q.abrupt("return",new bC({session:F,topicId:C.topicId}));case 7:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})}],[{key:"mapTopicFeaturesToTopicArguments",value:function(Q){var B,F;return{adminKey:null===(B=Q.keys)||void 0===B?void 0:B.admin,autoRenewAccountId:Q.autoRenewAccountId,autoRenewPeriod:Q.autoRenewPeriod,submitKey:null===(F=Q.keys)||void 0===F?void 0:F.submit,topicMemo:Q.memo}}}]),U}();function xC(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function yC(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?xC(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):xC(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function dC(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var bC=function(Q){_F(U,MU);var B,F=dC(U);function U(Q){var B=Q.session,g=Q.topicId;return P(this,U),F.call(this,B,g instanceof p?g:p.fromString(g))}return j(U,[{key:"getLiveEntityInfo",value:function(){var Q=new M({topicId:this.id});return this.session.execute(Q,qI.Result,!1)}},{key:"getSolidityAddress",value:function(){return this.id.toSolidityAddress()}},{key:"_getDeleteTransaction",value:function(Q){return new T({topicId:this.id})}},{key:"_getUpdateTransaction",value:(B=O(QQ.mark((function Q(B){var F;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=LC.mapTopicFeaturesToTopicArguments(B),Q.abrupt("return",new r(yC(yC({},F),{},{topicId:this.id})));case 2:case"end":return Q.stop()}}),Q,this)}))),function(Q){return B.apply(this,arguments)})},{key:"submitMessage",value:function(Q){var B=new z({message:Q,topicId:this.id});return this.executeAndReturnStatus(B)}}]),U}(),VC={"counter.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Counter {\n  uint public count;\n\n  // Function to get the current count\n  function get() public view returns (uint) {\n    return count;\n  }\n\n  // Function to increment count by 1\n  function inc() public {\n    count += 1;\n  }\n\n  // Function to decrement count by 1\n  function dec() public {\n    count -= 1;\n  }\n}\n","events.sol":'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Event {\n  // Event declaration\n  // Up to 3 parameters can be indexed.\n  // Indexed parameters helps you filter the logs by the indexed parameter\n  event Log(address indexed sender, string message);\n  event AnotherLog();\n\n  constructor() {\n    emit Log(msg.sender, "Event contract constructed!");\n  }\n\n  function test() public {\n    emit Log(msg.sender, "Hello World!");\n    emit Log(msg.sender, "Hello EVM!");\n    emit AnotherLog();\n  }\n}\n',"hello_world.sol":'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract HelloWorld {\n  string public greet = "Hello World!";\n}\n',"increment.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract Incrementer {\n  uint public count;\n\n  function get() public view returns (uint) {\n    return count;\n  }\n\n  function inc() public {\n    count += 1;\n  }\n}\n","state_variables.sol":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract SimpleStorage {\n  // State variable to store a number\n  uint public num;\n\n  // You need to send a transaction to write to a state variable.\n  function set(uint _num) public {\n    num = _num;\n  }\n\n  // You can read from a state variable without sending a transaction.\n  function get() public view returns (uint) {\n    return num;\n  }\n}\n"},NC=Object.freeze({__proto__:null,default:VC});function RC(Q){return Q&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q}var AC={},DC={exports:{}};!function(Q){Q.exports=function(Q){return Q&&Q.__esModule?Q:{default:Q}},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(DC);var mC={exports:{}};!function(Q){Q.exports=function(Q,B){if(!(Q instanceof B))throw new TypeError("Cannot call a class as a function")},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(mC);var EC={exports:{}};!function(Q){function B(Q,B){for(var F=0;F<B.length;F++){var U=B[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Q,U.key,U)}}Q.exports=function(Q,F,U){return F&&B(Q.prototype,F),U&&B(Q,U),Object.defineProperty(Q,"prototype",{writable:!1}),Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(EC);var JC={exports:{}};!function(Q){Q.exports=function(Q,B,F){return B in Q?Object.defineProperty(Q,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):Q[B]=F,Q},Q.exports.__esModule=!0,Q.exports.default=Q.exports}(JC);var tC=null;try{var iC="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads");tC=iC.Worker}catch(Q){}function XC(Q,B,F){var U=void 0===B?null:B,g=function(Q,B){return Buffer.from(Q,"base64").toString(B?"utf16":"utf8")}(Q,void 0!==F&&F),I=g.indexOf("\n",10)+1,C=g.substring(I)+(U?"//# sourceMappingURL="+U:"");return function(Q){return new tC(C,Object.assign({},Q,{eval:!0}))}}function nC(Q,B,F){var U=void 0===B?null:B,g=function(Q,B){var F=atob(Q);if(B){for(var U=new Uint8Array(F.length),g=0,I=F.length;g<I;++g)U[g]=F.charCodeAt(g);return String.fromCharCode.apply(null,new Uint16Array(U.buffer))}return F}(Q,void 0!==F&&F),I=g.indexOf("\n",10)+1,C=g.substring(I)+(U?"//# sourceMappingURL="+U:""),s=new Blob([C],{type:"application/javascript"});return URL.createObjectURL(s)}var uC="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);var HC,WC,aC,oC=(HC="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCXZhciBTb2xpZGl0eUNvbXBpbGVyX3dvcmtlciA9IHt9OwoKCXZhciBpbnRlcm9wUmVxdWlyZURlZmF1bHQgPSB7ZXhwb3J0czoge319OwoKCShmdW5jdGlvbiAobW9kdWxlKSB7CglmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewoJICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewoJICAgICJkZWZhdWx0Ijogb2JqCgkgIH07Cgl9CgoJbW9kdWxlLmV4cG9ydHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbImRlZmF1bHQiXSA9IG1vZHVsZS5leHBvcnRzOwoJfShpbnRlcm9wUmVxdWlyZURlZmF1bHQpKTsKCgl2YXIgZ2xvYmFsJDEgPSAodHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOgoJICB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDoKCSAgdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSk7CgoJdmFyIGJ1ZmZlciA9IHt9OwoKCXZhciBiYXNlNjRKcyA9IHt9OwoKCWJhc2U2NEpzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoOwoJYmFzZTY0SnMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheTsKCWJhc2U2NEpzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5OwoKCXZhciBsb29rdXAgPSBbXTsKCXZhciByZXZMb29rdXAgPSBbXTsKCXZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXk7CgoJdmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7Cglmb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkgewoJICBsb29rdXBbaV0gPSBjb2RlW2ldOwoJICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGk7Cgl9CgoJLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLgoJLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9ucwoJcmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyOwoJcmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzOwoKCWZ1bmN0aW9uIGdldExlbnMgKGI2NCkgewoJICB2YXIgbGVuID0gYjY0Lmxlbmd0aDsKCgkgIGlmIChsZW4gJSA0ID4gMCkgewoJICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpCgkgIH0KCgkgIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZAoJICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDIKCSAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKTsKCSAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW47CgoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlbgoJICAgID8gMAoJICAgIDogNCAtICh2YWxpZExlbiAlIDQpOwoKCSAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXQoJfQoKCS8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YQoJZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7CgkgIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpOwoJICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdOwoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTsKCSAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuCgl9CgoJZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikgewoJICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW4KCX0KCglmdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7CgkgIHZhciB0bXA7CgkgIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpOwoJICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdOwoJICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTsKCgkgIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpOwoKCSAgdmFyIGN1ckJ5dGUgPSAwOwoKCSAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFycwoJICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMAoJICAgID8gdmFsaWRMZW4gLSA0CgkgICAgOiB2YWxpZExlbjsKCgkgIHZhciBpOwoJICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHsKCSAgICB0bXAgPQoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfAoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwKCSAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldOwoJICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGOwoJICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkY7CgkgICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGOwoJICB9CgoJICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7CgkgICAgdG1wID0KCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KTsKCSAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkY7CgkgIH0KCgkgIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHsKCSAgICB0bXAgPQoJICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwKCSAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8CgkgICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMik7CgkgICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRjsKCSAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkY7CgkgIH0KCgkgIHJldHVybiBhcnIKCX0KCglmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkgewoJICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsKCSAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gKwoJICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICsKCSAgICBsb29rdXBbbnVtICYgMHgzRl0KCX0KCglmdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHsKCSAgdmFyIHRtcDsKCSAgdmFyIG91dHB1dCA9IFtdOwoJICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykgewoJICAgIHRtcCA9CgkgICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArCgkgICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgKwoJICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpOwoJICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKTsKCSAgfQoJICByZXR1cm4gb3V0cHV0LmpvaW4oJycpCgl9CgoJZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHsKCSAgdmFyIHRtcDsKCSAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aDsKCSAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzOyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlcwoJICB2YXIgcGFydHMgPSBbXTsKCSAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODM7IC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgMwoKCSAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlcgoJICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7CgkgICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSk7CgkgIH0KCgkgIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXMKCSAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHsKCSAgICB0bXAgPSB1aW50OFtsZW4gLSAxXTsKCSAgICBwYXJ0cy5wdXNoKAoJICAgICAgbG9va3VwW3RtcCA+PiAyXSArCgkgICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICsKCSAgICAgICc9PScKCSAgICApOwoJICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHsKCSAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXTsKCSAgICBwYXJ0cy5wdXNoKAoJICAgICAgbG9va3VwW3RtcCA+PiAxMF0gKwoJICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArCgkgICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICsKCSAgICAgICc9JwoJICAgICk7CgkgIH0KCgkgIHJldHVybiBwYXJ0cy5qb2luKCcnKQoJfQoKCXZhciBpZWVlNzU0ID0ge307CgoJLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi8KCglpZWVlNzU0LnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykgewoJICB2YXIgZSwgbTsKCSAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMTsKCSAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7CgkgIHZhciBlQmlhcyA9IGVNYXggPj4gMTsKCSAgdmFyIG5CaXRzID0gLTc7CgkgIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDA7CgkgIHZhciBkID0gaXNMRSA/IC0xIDogMTsKCSAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV07CgoJICBpICs9IGQ7CgoJICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKTsKCSAgcyA+Pj0gKC1uQml0cyk7CgkgIG5CaXRzICs9IGVMZW47CgkgIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge30KCgkgIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpOwoJICBlID4+PSAoLW5CaXRzKTsKCSAgbkJpdHMgKz0gbUxlbjsKCSAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fQoKCSAgaWYgKGUgPT09IDApIHsKCSAgICBlID0gMSAtIGVCaWFzOwoJICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHsKCSAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSkKCSAgfSBlbHNlIHsKCSAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pOwoJICAgIGUgPSBlIC0gZUJpYXM7CgkgIH0KCSAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbikKCX07CgoJaWVlZTc1NC53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykgewoJICB2YXIgZSwgbSwgYzsKCSAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMTsKCSAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7CgkgIHZhciBlQmlhcyA9IGVNYXggPj4gMTsKCSAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKTsKCSAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKTsKCSAgdmFyIGQgPSBpc0xFID8gMSA6IC0xOwoJICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMDsKCgkgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpOwoKCSAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHsKCSAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDA7CgkgICAgZSA9IGVNYXg7CgkgIH0gZWxzZSB7CgkgICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpOwoJICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHsKCSAgICAgIGUtLTsKCSAgICAgIGMgKj0gMjsKCSAgICB9CgkgICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7CgkgICAgICB2YWx1ZSArPSBydCAvIGM7CgkgICAgfSBlbHNlIHsKCSAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKTsKCSAgICB9CgkgICAgaWYgKHZhbHVlICogYyA+PSAyKSB7CgkgICAgICBlKys7CgkgICAgICBjIC89IDI7CgkgICAgfQoKCSAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHsKCSAgICAgIG0gPSAwOwoJICAgICAgZSA9IGVNYXg7CgkgICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkgewoJICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7CgkgICAgICBlID0gZSArIGVCaWFzOwoJICAgIH0gZWxzZSB7CgkgICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7CgkgICAgICBlID0gMDsKCSAgICB9CgkgIH0KCgkgIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9CgoJICBlID0gKGUgPDwgbUxlbikgfCBtOwoJICBlTGVuICs9IG1MZW47CgkgIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge30KCgkgIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyODsKCX07CgoJLyohCgkgKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci4KCSAqCgkgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPgoJICogQGxpY2Vuc2UgIE1JVAoJICovCgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgoJdmFyIGJhc2U2NCA9IGJhc2U2NEpzOwoJdmFyIGllZWU3NTQkMSA9IGllZWU3NTQ7Cgl2YXIgY3VzdG9tSW5zcGVjdFN5bWJvbCA9CgkgICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvbgoJICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvbgoJICAgIDogbnVsbDsKCglleHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlcjsKCWV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXI7CglleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTA7CgoJdmFyIEtfTUFYX0xFTkdUSCA9IDB4N2ZmZmZmZmY7CglleHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEg7CgoJLyoqCgkgKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOgoJICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdCkKCSAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdAoJICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNikKCSAqCgkgKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssCgkgKiBPcGVyYSAxMS42KywgaU9TIDQuMisuCgkgKgoJICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlCgkgKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgCgkgKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0CgkgKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi4KCSAqLwoJQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpOwoKCWlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmCgkgICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHsKCSAgY29uc29sZS5lcnJvcigKCSAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgKwoJICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LicKCSAgKTsKCX0KCglmdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7CgkgIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD8KCSAgdHJ5IHsKCSAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSk7CgkgICAgdmFyIHByb3RvID0geyBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH0gfTsKCSAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG8sIFVpbnQ4QXJyYXkucHJvdG90eXBlKTsKCSAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90byk7CgkgICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIKCSAgfSBjYXRjaCAoZSkgewoJICAgIHJldHVybiBmYWxzZQoJICB9Cgl9CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7CgkgIGVudW1lcmFibGU6IHRydWUsCgkgIGdldDogZnVuY3Rpb24gKCkgewoJICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkCgkgICAgcmV0dXJuIHRoaXMuYnVmZmVyCgkgIH0KCX0pOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0JywgewoJICBlbnVtZXJhYmxlOiB0cnVlLAoJICBnZXQ6IGZ1bmN0aW9uICgpIHsKCSAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZAoJICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXQKCSAgfQoJfSk7CgoJZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHsKCSAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicgKyBsZW5ndGggKyAnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJykKCSAgfQoJICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZQoJICB2YXIgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTsKCSAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSk7CgkgIHJldHVybiBidWYKCX0KCgkvKioKCSAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpcgoJICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZgoJICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kcwoJICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXQKCSAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuCgkgKgoJICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLgoJICovCgoJZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkgewoJICAvLyBDb21tb24gY2FzZS4KCSAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7CgkgICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykgewoJICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICAgJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicKCSAgICAgICkKCSAgICB9CgkgICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZykKCSAgfQoJICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkKCX0KCglCdWZmZXIucG9vbFNpemUgPSA4MTkyOyAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uCgoJZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkgewoJICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgewoJICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KQoJICB9CgoJICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSkgewoJICAgIHJldHVybiBmcm9tQXJyYXlWaWV3KHZhbHVlKQoJICB9CgoJICBpZiAodmFsdWUgPT0gbnVsbCkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoCgkgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArCgkgICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpCgkgICAgKQoJICB9CgoJICBpZiAoaXNJbnN0YW5jZSh2YWx1ZSwgQXJyYXlCdWZmZXIpIHx8CgkgICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIEFycmF5QnVmZmVyKSkpIHsKCSAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpCgkgIH0KCgkgIGlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmCgkgICAgICAoaXNJbnN0YW5jZSh2YWx1ZSwgU2hhcmVkQXJyYXlCdWZmZXIpIHx8CgkgICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIFNoYXJlZEFycmF5QnVmZmVyKSkpKSB7CgkgICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKQoJICB9CgoJICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoCgkgICAgICAnVGhlICJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJwoJICAgICkKCSAgfQoKCSAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKTsKCSAgaWYgKHZhbHVlT2YgIT0gbnVsbCAmJiB2YWx1ZU9mICE9PSB2YWx1ZSkgewoJICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZU9mLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpCgkgIH0KCgkgIHZhciBiID0gZnJvbU9iamVjdCh2YWx1ZSk7CgkgIGlmIChiKSByZXR1cm4gYgoKCSAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmCgkgICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIHJldHVybiBCdWZmZXIuZnJvbSgKCSAgICAgIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgKCSAgICApCgkgIH0KCgkgIHRocm93IG5ldyBUeXBlRXJyb3IoCgkgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgKwoJICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSkKCSAgKQoJfQoKCS8qKgoJICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3IKCSAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLgoJICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKQoJICogQnVmZmVyLmZyb20oYXJyYXkpCgkgKiBCdWZmZXIuZnJvbShidWZmZXIpCgkgKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSkKCSAqKi8KCUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIGZyb20odmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkKCX07CgoJLy8gTm90ZTogQ2hhbmdlIHByb3RvdHlwZSAqYWZ0ZXIqIEJ1ZmZlci5mcm9tIGlzIGRlZmluZWQgdG8gd29ya2Fyb3VuZCBDaHJvbWUgYnVnOgoJLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC8xNDgKCU9iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIucHJvdG90eXBlLCBVaW50OEFycmF5LnByb3RvdHlwZSk7CglPYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLCBVaW50OEFycmF5KTsKCglmdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7CgkgIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpCgkgIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInICsgc2l6ZSArICciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKQoJICB9Cgl9CgoJZnVuY3Rpb24gYWxsb2MgKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7CgkgIGFzc2VydFNpemUoc2l6ZSk7CgkgIGlmIChzaXplIDw9IDApIHsKCSAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpCgkgIH0KCSAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkgewoJICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzCgkgICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZAoJICAgIC8vIGJlIGludGVycHJldGVkIGFzIGEgc3RhcnQgb2Zmc2V0LgoJICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnCgkgICAgICA/IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKQoJICAgICAgOiBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKQoJICB9CgkgIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSkKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS4KCSAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSkKCSAqKi8KCUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykgewoJICByZXR1cm4gYWxsb2Moc2l6ZSwgZmlsbCwgZW5jb2RpbmcpCgl9OwoKCWZ1bmN0aW9uIGFsbG9jVW5zYWZlIChzaXplKSB7CgkgIGFzc2VydFNpemUoc2l6ZSk7CgkgIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApCgl9CgoJLyoqCgkgKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLgoJICogKi8KCUJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7CgkgIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKQoJfTsKCS8qKgoJICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuCgkgKi8KCUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkgewoJICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSkKCX07CgoJZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykgewoJICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHsKCSAgICBlbmNvZGluZyA9ICd1dGY4JzsKCSAgfQoKCSAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpCgkgIH0KCgkgIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMDsKCSAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpOwoKCSAgdmFyIGFjdHVhbCA9IGJ1Zi53cml0ZShzdHJpbmcsIGVuY29kaW5nKTsKCgkgIGlmIChhY3R1YWwgIT09IGxlbmd0aCkgewoJICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbAoJICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuCgkgICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpCgkgICAgYnVmID0gYnVmLnNsaWNlKDAsIGFjdHVhbCk7CgkgIH0KCgkgIHJldHVybiBidWYKCX0KCglmdW5jdGlvbiBmcm9tQXJyYXlMaWtlIChhcnJheSkgewoJICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwOwoJICB2YXIgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aCk7CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHsKCSAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NTsKCSAgfQoJICByZXR1cm4gYnVmCgl9CgoJZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7CgkgIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHsKCSAgICB2YXIgY29weSA9IG5ldyBVaW50OEFycmF5KGFycmF5Vmlldyk7CgkgICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcihjb3B5LmJ1ZmZlciwgY29weS5ieXRlT2Zmc2V0LCBjb3B5LmJ5dGVMZW5ndGgpCgkgIH0KCSAgcmV0dXJuIGZyb21BcnJheUxpa2UoYXJyYXlWaWV3KQoJfQoKCWZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkgewoJICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignIm9mZnNldCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJykKCSAgfQoKCSAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCcibGVuZ3RoIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKQoJICB9CgoJICB2YXIgYnVmOwoJICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpOwoJICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpOwoJICB9IGVsc2UgewoJICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpOwoJICB9CgoJICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZQoJICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKTsKCgkgIHJldHVybiBidWYKCX0KCglmdW5jdGlvbiBmcm9tT2JqZWN0IChvYmopIHsKCSAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7CgkgICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwOwoJICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKTsKCgkgICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHsKCSAgICAgIHJldHVybiBidWYKCSAgICB9CgoJICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKTsKCSAgICByZXR1cm4gYnVmCgkgIH0KCgkgIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHsKCSAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7CgkgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKDApCgkgICAgfQoJICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iaikKCSAgfQoKCSAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBBcnJheS5pc0FycmF5KG9iai5kYXRhKSkgewoJICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iai5kYXRhKQoJICB9Cgl9CgoJZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7CgkgIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlbgoJICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLikKCSAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKQoJICB9CgkgIHJldHVybiBsZW5ndGggfCAwCgl9CgoJZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7CgkgIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcQoJICAgIGxlbmd0aCA9IDA7CgkgIH0KCSAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKQoJfQoKCUJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7CgkgIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWUgJiYKCSAgICBiICE9PSBCdWZmZXIucHJvdG90eXBlIC8vIHNvIEJ1ZmZlci5pc0J1ZmZlcihCdWZmZXIucHJvdG90eXBlKSB3aWxsIGJlIGZhbHNlCgl9OwoKCUJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikgewoJICBpZiAoaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkgYSA9IEJ1ZmZlci5mcm9tKGEsIGEub2Zmc2V0LCBhLmJ5dGVMZW5ndGgpOwoJICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpOwoJICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigKCSAgICAgICdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknCgkgICAgKQoJICB9CgoJICBpZiAoYSA9PT0gYikgcmV0dXJuIDAKCgkgIHZhciB4ID0gYS5sZW5ndGg7CgkgIHZhciB5ID0gYi5sZW5ndGg7CgoJICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkgewoJICAgIGlmIChhW2ldICE9PSBiW2ldKSB7CgkgICAgICB4ID0gYVtpXTsKCSAgICAgIHkgPSBiW2ldOwoJICAgICAgYnJlYWsKCSAgICB9CgkgIH0KCgkgIGlmICh4IDwgeSkgcmV0dXJuIC0xCgkgIGlmICh5IDwgeCkgcmV0dXJuIDEKCSAgcmV0dXJuIDAKCX07CgoJQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykgewoJICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkgewoJICAgIGNhc2UgJ2hleCc6CgkgICAgY2FzZSAndXRmOCc6CgkgICAgY2FzZSAndXRmLTgnOgoJICAgIGNhc2UgJ2FzY2lpJzoKCSAgICBjYXNlICdsYXRpbjEnOgoJICAgIGNhc2UgJ2JpbmFyeSc6CgkgICAgY2FzZSAnYmFzZTY0JzoKCSAgICBjYXNlICd1Y3MyJzoKCSAgICBjYXNlICd1Y3MtMic6CgkgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgY2FzZSAndXRmLTE2bGUnOgoJICAgICAgcmV0dXJuIHRydWUKCSAgICBkZWZhdWx0OgoJICAgICAgcmV0dXJuIGZhbHNlCgkgIH0KCX07CgoJQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7CgkgIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKQoJICB9CgoJICBpZiAobGlzdC5sZW5ndGggPT09IDApIHsKCSAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApCgkgIH0KCgkgIHZhciBpOwoJICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHsKCSAgICBsZW5ndGggPSAwOwoJICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7CgkgICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGg7CgkgICAgfQoJICB9CgoJICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aCk7CgkgIHZhciBwb3MgPSAwOwoJICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkgewoJICAgIHZhciBidWYgPSBsaXN0W2ldOwoJICAgIGlmIChpc0luc3RhbmNlKGJ1ZiwgVWludDhBcnJheSkpIHsKCSAgICAgIGlmIChwb3MgKyBidWYubGVuZ3RoID4gYnVmZmVyLmxlbmd0aCkgewoJICAgICAgICBCdWZmZXIuZnJvbShidWYpLmNvcHkoYnVmZmVyLCBwb3MpOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoCgkgICAgICAgICAgYnVmZmVyLAoJICAgICAgICAgIGJ1ZiwKCSAgICAgICAgICBwb3MKCSAgICAgICAgKTsKCSAgICAgIH0KCSAgICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgewoJICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpCgkgICAgfSBlbHNlIHsKCSAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKTsKCSAgICB9CgkgICAgcG9zICs9IGJ1Zi5sZW5ndGg7CgkgIH0KCSAgcmV0dXJuIGJ1ZmZlcgoJfTsKCglmdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7CgkgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkgewoJICAgIHJldHVybiBzdHJpbmcubGVuZ3RoCgkgIH0KCSAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IGlzSW5zdGFuY2Uoc3RyaW5nLCBBcnJheUJ1ZmZlcikpIHsKCSAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGgKCSAgfQoJICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKAoJICAgICAgJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArCgkgICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZwoJICAgICkKCSAgfQoKCSAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGg7CgkgIHZhciBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKTsKCSAgaWYgKCFtdXN0TWF0Y2ggJiYgbGVuID09PSAwKSByZXR1cm4gMAoKCSAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uCgkgIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlOwoJICBmb3IgKDs7KSB7CgkgICAgc3dpdGNoIChlbmNvZGluZykgewoJICAgICAgY2FzZSAnYXNjaWknOgoJICAgICAgY2FzZSAnbGF0aW4xJzoKCSAgICAgIGNhc2UgJ2JpbmFyeSc6CgkgICAgICAgIHJldHVybiBsZW4KCSAgICAgIGNhc2UgJ3V0ZjgnOgoJICAgICAgY2FzZSAndXRmLTgnOgoJICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGgKCSAgICAgIGNhc2UgJ3VjczInOgoJICAgICAgY2FzZSAndWNzLTInOgoJICAgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgICBjYXNlICd1dGYtMTZsZSc6CgkgICAgICAgIHJldHVybiBsZW4gKiAyCgkgICAgICBjYXNlICdoZXgnOgoJICAgICAgICByZXR1cm4gbGVuID4+PiAxCgkgICAgICBjYXNlICdiYXNlNjQnOgoJICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aAoJICAgICAgZGVmYXVsdDoKCSAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB7CgkgICAgICAgICAgcmV0dXJuIG11c3RNYXRjaCA/IC0xIDogdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjgKCSAgICAgICAgfQoJICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpOwoJICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWU7CgkgICAgfQoJICB9Cgl9CglCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGg7CgoJZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkgewoJICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZTsKCgkgIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzIiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHkKCSAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS4KCgkgIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZAoJICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuCgkgIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sCgkgIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLgoJICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHsKCSAgICBzdGFydCA9IDA7CgkgIH0KCSAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzIKCSAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy4KCSAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHsKCSAgICByZXR1cm4gJycKCSAgfQoKCSAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7CgkgICAgZW5kID0gdGhpcy5sZW5ndGg7CgkgIH0KCgkgIGlmIChlbmQgPD0gMCkgewoJICAgIHJldHVybiAnJwoJICB9CgoJICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLgoJICBlbmQgPj4+PSAwOwoJICBzdGFydCA+Pj49IDA7CgoJICBpZiAoZW5kIDw9IHN0YXJ0KSB7CgkgICAgcmV0dXJuICcnCgkgIH0KCgkgIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnOwoKCSAgd2hpbGUgKHRydWUpIHsKCSAgICBzd2l0Y2ggKGVuY29kaW5nKSB7CgkgICAgICBjYXNlICdoZXgnOgoJICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZCkKCgkgICAgICBjYXNlICd1dGY4JzoKCSAgICAgIGNhc2UgJ3V0Zi04JzoKCSAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKCSAgICAgIGNhc2UgJ2FzY2lpJzoKCSAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZCkKCgkgICAgICBjYXNlICdsYXRpbjEnOgoJICAgICAgY2FzZSAnYmluYXJ5JzoKCSAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgoJICAgICAgY2FzZSAnYmFzZTY0JzoKCSAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgoJICAgICAgY2FzZSAndWNzMic6CgkgICAgICBjYXNlICd1Y3MtMic6CgkgICAgICBjYXNlICd1dGYxNmxlJzoKCSAgICAgIGNhc2UgJ3V0Zi0xNmxlJzoKCSAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKCSAgICAgIGRlZmF1bHQ6CgkgICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKQoJICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpOwoJICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWU7CgkgICAgfQoJICB9Cgl9CgoJLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKQoJLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYAoJLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnQKCS8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlcgoJLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLgoJLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0CglCdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWU7CgoJZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkgewoJICB2YXIgaSA9IGJbbl07CgkgIGJbbl0gPSBiW21dOwoJICBiW21dID0gaTsKCX0KCglCdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7CgkgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsKCSAgaWYgKGxlbiAlIDIgIT09IDApIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKQoJICB9CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHsKCSAgICBzd2FwKHRoaXMsIGksIGkgKyAxKTsKCSAgfQoJICByZXR1cm4gdGhpcwoJfTsKCglCdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7CgkgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsKCSAgaWYgKGxlbiAlIDQgIT09IDApIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKQoJICB9CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHsKCSAgICBzd2FwKHRoaXMsIGksIGkgKyAzKTsKCSAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMik7CgkgIH0KCSAgcmV0dXJuIHRoaXMKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkgewoJICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7CgkgIGlmIChsZW4gJSA4ICE9PSAwKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJykKCSAgfQoJICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7CgkgICAgc3dhcCh0aGlzLCBpLCBpICsgNyk7CgkgICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpOwoJICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KTsKCSAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNCk7CgkgIH0KCSAgcmV0dXJuIHRoaXMKCX07CgoJQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHsKCSAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoOwoJICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJycKCSAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKQoJICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCX07CgoJQnVmZmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyA9IEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc7CgoJQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHsKCSAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKQoJICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWUKCSAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkgewoJICB2YXIgc3RyID0gJyc7CgkgIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTOwoJICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpOwoJICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnOwoJICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+JwoJfTsKCWlmIChjdXN0b21JbnNwZWN0U3ltYm9sKSB7CgkgIEJ1ZmZlci5wcm90b3R5cGVbY3VzdG9tSW5zcGVjdFN5bWJvbF0gPSBCdWZmZXIucHJvdG90eXBlLmluc3BlY3Q7Cgl9CgoJQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHsKCSAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkgewoJICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpOwoJICB9CgkgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKAoJICAgICAgJ1RoZSAidGFyZ2V0IiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICsKCSAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldCkKCSAgICApCgkgIH0KCgkgIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7CgkgICAgc3RhcnQgPSAwOwoJICB9CgkgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkgewoJICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwOwoJICB9CgkgIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkgewoJICAgIHRoaXNTdGFydCA9IDA7CgkgIH0KCSAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkgewoJICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aDsKCSAgfQoKCSAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpCgkgIH0KCgkgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHsKCSAgICByZXR1cm4gMAoJICB9CgkgIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkgewoJICAgIHJldHVybiAtMQoJICB9CgkgIGlmIChzdGFydCA+PSBlbmQpIHsKCSAgICByZXR1cm4gMQoJICB9CgoJICBzdGFydCA+Pj49IDA7CgkgIGVuZCA+Pj49IDA7CgkgIHRoaXNTdGFydCA+Pj49IDA7CgkgIHRoaXNFbmQgPj4+PSAwOwoKCSAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDAKCgkgIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydDsKCSAgdmFyIHkgPSBlbmQgLSBzdGFydDsKCSAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpOwoKCSAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpOwoJICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKTsKCgkgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHsKCSAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHsKCSAgICAgIHggPSB0aGlzQ29weVtpXTsKCSAgICAgIHkgPSB0YXJnZXRDb3B5W2ldOwoJICAgICAgYnJlYWsKCSAgICB9CgkgIH0KCgkgIGlmICh4IDwgeSkgcmV0dXJuIC0xCgkgIGlmICh5IDwgeCkgcmV0dXJuIDEKCSAgcmV0dXJuIDAKCX07CgoJLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLAoJLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC4KCS8vCgkvLyBBcmd1bWVudHM6CgkvLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaAoJLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXIKCS8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMgoJLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmcKCS8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mCglmdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHsKCSAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoCgkgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTEKCgkgIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0CgkgIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHsKCSAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXQ7CgkgICAgYnl0ZU9mZnNldCA9IDA7CgkgIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHsKCSAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZjsKCSAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHsKCSAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDA7CgkgIH0KCSAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0OyAvLyBDb2VyY2UgdG8gTnVtYmVyLgoJICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHsKCSAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCAiZm9vIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyCgkgICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpOwoJICB9CgoJICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlcgoJICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldDsKCSAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkgewoJICAgIGlmIChkaXIpIHJldHVybiAtMQoJICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxOwoJICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7CgkgICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDA7CgkgICAgZWxzZSByZXR1cm4gLTEKCSAgfQoKCSAgLy8gTm9ybWFsaXplIHZhbAoJICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHsKCSAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKTsKCSAgfQoKCSAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2YKCSAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7CgkgICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlscwoJICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7CgkgICAgICByZXR1cm4gLTEKCSAgICB9CgkgICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikKCSAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewoJICAgIHZhbCA9IHZhbCAmIDB4RkY7IC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV0KCSAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHsKCSAgICAgIGlmIChkaXIpIHsKCSAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCkKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KQoJICAgICAgfQoJICAgIH0KCSAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgW3ZhbF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpCgkgIH0KCgkgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpCgl9CgoJZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikgewoJICB2YXIgaW5kZXhTaXplID0gMTsKCSAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7CgkgIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoOwoKCSAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHsKCSAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKTsKCSAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fAoJICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7CgkgICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHsKCSAgICAgICAgcmV0dXJuIC0xCgkgICAgICB9CgkgICAgICBpbmRleFNpemUgPSAyOwoJICAgICAgYXJyTGVuZ3RoIC89IDI7CgkgICAgICB2YWxMZW5ndGggLz0gMjsKCSAgICAgIGJ5dGVPZmZzZXQgLz0gMjsKCSAgICB9CgkgIH0KCgkgIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkgewoJICAgIGlmIChpbmRleFNpemUgPT09IDEpIHsKCSAgICAgIHJldHVybiBidWZbaV0KCSAgICB9IGVsc2UgewoJICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSkKCSAgICB9CgkgIH0KCgkgIHZhciBpOwoJICBpZiAoZGlyKSB7CgkgICAgdmFyIGZvdW5kSW5kZXggPSAtMTsKCSAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHsKCSAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHsKCSAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaTsKCSAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZQoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4OwoJICAgICAgICBmb3VuZEluZGV4ID0gLTE7CgkgICAgICB9CgkgICAgfQoJICB9IGVsc2UgewoJICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoOwoJICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7CgkgICAgICB2YXIgZm91bmQgPSB0cnVlOwoJICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykgewoJICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7CgkgICAgICAgICAgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICBicmVhawoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBpZiAoZm91bmQpIHJldHVybiBpCgkgICAgfQoJICB9CgoJICByZXR1cm4gLTEKCX0KCglCdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHsKCSAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTEKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgewoJICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7CgkgIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSkKCX07CgoJZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkgewoJICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwOwoJICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldDsKCSAgaWYgKCFsZW5ndGgpIHsKCSAgICBsZW5ndGggPSByZW1haW5pbmc7CgkgIH0gZWxzZSB7CgkgICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aCk7CgkgICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykgewoJICAgICAgbGVuZ3RoID0gcmVtYWluaW5nOwoJICAgIH0KCSAgfQoKCSAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGg7CgoJICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikgewoJICAgIGxlbmd0aCA9IHN0ckxlbiAvIDI7CgkgIH0KCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewoJICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpOwoJICAgIGlmIChudW1iZXJJc05hTihwYXJzZWQpKSByZXR1cm4gaQoJICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZDsKCSAgfQoJICByZXR1cm4gaQoJfQoKCWZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CgkgIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCgl9CgoJZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CgkgIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKQoJfQoKCWZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKQoJfQoKCWZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CgkgIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCgl9CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykgewoJICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKQoJICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHsKCSAgICBlbmNvZGluZyA9ICd1dGY4JzsKCSAgICBsZW5ndGggPSB0aGlzLmxlbmd0aDsKCSAgICBvZmZzZXQgPSAwOwoJICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZykKCSAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykgewoJICAgIGVuY29kaW5nID0gb2Zmc2V0OwoJICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoOwoJICAgIG9mZnNldCA9IDA7CgkgIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pCgkgIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkgewoJICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkgewoJICAgICAgbGVuZ3RoID0gbGVuZ3RoID4+PiAwOwoJICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnOwoJICAgIH0gZWxzZSB7CgkgICAgICBlbmNvZGluZyA9IGxlbmd0aDsKCSAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZDsKCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgdGhyb3cgbmV3IEVycm9yKAoJICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJwoJICAgICkKCSAgfQoKCSAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0OwoJICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmc7CgoJICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkgewoJICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpCgkgIH0KCgkgIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnOwoKCSAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2U7CgkgIGZvciAoOzspIHsKCSAgICBzd2l0Y2ggKGVuY29kaW5nKSB7CgkgICAgICBjYXNlICdoZXgnOgoJICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCgkgICAgICBjYXNlICd1dGY4JzoKCSAgICAgIGNhc2UgJ3V0Zi04JzoKCSAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKQoKCSAgICAgIGNhc2UgJ2FzY2lpJzoKCSAgICAgIGNhc2UgJ2xhdGluMSc6CgkgICAgICBjYXNlICdiaW5hcnknOgoJICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKQoKCSAgICAgIGNhc2UgJ2Jhc2U2NCc6CgkgICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlCgkgICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKQoKCSAgICAgIGNhc2UgJ3VjczInOgoJICAgICAgY2FzZSAndWNzLTInOgoJICAgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgICBjYXNlICd1dGYtMTZsZSc6CgkgICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCgkgICAgICBkZWZhdWx0OgoJICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZykKCSAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKTsKCSAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlOwoJICAgIH0KCSAgfQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7CgkgIHJldHVybiB7CgkgICAgdHlwZTogJ0J1ZmZlcicsCgkgICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApCgkgIH0KCX07CgoJZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7CgkgICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZikKCSAgfSBlbHNlIHsKCSAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKQoJICB9Cgl9CgoJZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHsKCSAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKTsKCSAgdmFyIHJlcyA9IFtdOwoKCSAgdmFyIGkgPSBzdGFydDsKCSAgd2hpbGUgKGkgPCBlbmQpIHsKCSAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldOwoJICAgIHZhciBjb2RlUG9pbnQgPSBudWxsOwoJICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpCgkgICAgICA/IDQKCSAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpCgkgICAgICAgICAgPyAzCgkgICAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikKCSAgICAgICAgICAgICAgPyAyCgkgICAgICAgICAgICAgIDogMTsKCgkgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkgewoJICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludDsKCgkgICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHsKCSAgICAgICAgY2FzZSAxOgoJICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7CgkgICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGU7CgkgICAgICAgICAgfQoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXTsKCSAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkgewoJICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpOwoJICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7CgkgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgfQoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXTsKCSAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdOwoJICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkgewoJICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpOwoJICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkgewoJICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50OwoJICAgICAgICAgICAgfQoJICAgICAgICAgIH0KCSAgICAgICAgICBicmVhawoJICAgICAgICBjYXNlIDQ6CgkgICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07CgkgICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXTsKCSAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXTsKCSAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkgewoJICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpOwoJICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7CgkgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCgkgICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkgewoJICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYQoJICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZQoJICAgICAgY29kZVBvaW50ID0gMHhGRkZEOwoJICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7CgkgICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHsKCSAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpCgkgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDsKCSAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkgICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRjsKCSAgICB9CgoJICAgIHJlcy5wdXNoKGNvZGVQb2ludCk7CgkgICAgaSArPSBieXRlc1BlclNlcXVlbmNlOwoJICB9CgoJICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcykKCX0KCgkvLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGgKCS8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy4KCS8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHkKCXZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMDsKCglmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHsKCSAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoOwoJICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7CgkgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpCgkgIH0KCgkgIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZCIuCgkgIHZhciByZXMgPSAnJzsKCSAgdmFyIGkgPSAwOwoJICB3aGlsZSAoaSA8IGxlbikgewoJICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KAoJICAgICAgU3RyaW5nLAoJICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKQoJICAgICk7CgkgIH0KCSAgcmV0dXJuIHJlcwoJfQoKCWZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICB2YXIgcmV0ID0gJyc7CgkgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7CgoJICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkgewoJICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpOwoJICB9CgkgIHJldHVybiByZXQKCX0KCglmdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7CgkgIHZhciByZXQgPSAnJzsKCSAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKTsKCgkgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7CgkgICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTsKCSAgfQoJICByZXR1cm4gcmV0Cgl9CgoJZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewoJICB2YXIgbGVuID0gYnVmLmxlbmd0aDsKCgkgIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDA7CgkgIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW47CgoJICB2YXIgb3V0ID0gJyc7CgkgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7CgkgICAgb3V0ICs9IGhleFNsaWNlTG9va3VwVGFibGVbYnVmW2ldXTsKCSAgfQoJICByZXR1cm4gb3V0Cgl9CgoJZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHsKCSAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpOwoJICB2YXIgcmVzID0gJyc7CgkgIC8vIElmIGJ5dGVzLmxlbmd0aCBpcyBvZGQsIHRoZSBsYXN0IDggYml0cyBtdXN0IGJlIGlnbm9yZWQgKHNhbWUgYXMgbm9kZS5qcykKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGggLSAxOyBpICs9IDIpIHsKCSAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIChieXRlc1tpICsgMV0gKiAyNTYpKTsKCSAgfQoJICByZXR1cm4gcmVzCgl9CgoJQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7CgkgIHZhciBsZW4gPSB0aGlzLmxlbmd0aDsKCSAgc3RhcnQgPSB+fnN0YXJ0OwoJICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kOwoKCSAgaWYgKHN0YXJ0IDwgMCkgewoJICAgIHN0YXJ0ICs9IGxlbjsKCSAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDA7CgkgIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHsKCSAgICBzdGFydCA9IGxlbjsKCSAgfQoKCSAgaWYgKGVuZCA8IDApIHsKCSAgICBlbmQgKz0gbGVuOwoJICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwOwoJICB9IGVsc2UgaWYgKGVuZCA+IGxlbikgewoJICAgIGVuZCA9IGxlbjsKCSAgfQoKCSAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydDsKCgkgIHZhciBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpOwoJICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZQoJICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3QnVmLCBCdWZmZXIucHJvdG90eXBlKTsKCgkgIHJldHVybiBuZXdCdWYKCX07CgoJLyoKCSAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLgoJICovCglmdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkgewoJICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKQoJICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpCgl9CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludExFID0KCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCk7CgoJICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdOwoJICB2YXIgbXVsID0gMTsKCSAgdmFyIGkgPSAwOwoJICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsOwoJICB9CgoJICByZXR1cm4gdmFsCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRCRSA9CglCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKTsKCSAgfQoKCSAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXTsKCSAgdmFyIG11bCA9IDE7CgkgIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWw7CgkgIH0KCgkgIHJldHVybiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDggPQoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKTsKCSAgcmV0dXJuIHRoaXNbb2Zmc2V0XQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZMRSA9CglCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2QkUgPQoJQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKTsKCSAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkxFID0KCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7CgoJICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHwKCSAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHwKCSAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgKwoJICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkJFID0KCUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7CgoJICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgKwoJICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfAoJICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHwKCSAgICB0aGlzW29mZnNldCArIDNdKQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKTsKCgkgIHZhciB2YWwgPSB0aGlzW29mZnNldF07CgkgIHZhciBtdWwgPSAxOwoJICB2YXIgaSA9IDA7CgkgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWw7CgkgIH0KCSAgbXVsICo9IDB4ODA7CgoJICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKTsKCgkgIHJldHVybiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCk7CgoJICB2YXIgaSA9IGJ5dGVMZW5ndGg7CgkgIHZhciBtdWwgPSAxOwoJICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldOwoJICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHsKCSAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsOwoJICB9CgkgIG11bCAqPSAweDgwOwoKCSAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCk7CgoJICByZXR1cm4gdmFsCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpOwoJICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pCgkgIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKTsKCSAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpOwoJICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpOwoJICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOCk7CgkgIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWwKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7CgoJICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfAoJICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHwKCSAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfAoJICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTsKCgkgIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8CgkgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHwKCSAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8CgkgICAgKHRoaXNbb2Zmc2V0ICsgM10pCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkgewoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpOwoJICByZXR1cm4gaWVlZTc1NCQxLnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNCkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7CgkgIHJldHVybiBpZWVlNzU0JDEucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNCkKCX07CgoJQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKTsKCSAgcmV0dXJuIGllZWU3NTQkMS5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aCk7CgkgIHJldHVybiBpZWVlNzU0JDEucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOCkKCX07CgoJZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikgewoJICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJykKCSAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJykKCSAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKQoJfQoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkgewoJICB2YWx1ZSA9ICt2YWx1ZTsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgewoJICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDE7CgkgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApOwoJICB9CgoJICB2YXIgbXVsID0gMTsKCSAgdmFyIGkgPSAwOwoJICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CgkgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGOwoJICB9CgoJICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludEJFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxOwoJICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKTsKCSAgfQoKCSAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMTsKCSAgdmFyIG11bCA9IDE7CgkgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRjsKCSAgfQoKCSAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGgKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ4ID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApOwoJICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKTsKCSAgcmV0dXJuIG9mZnNldCArIDEKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCk7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KTsKCSAgcmV0dXJuIG9mZnNldCArIDIKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCk7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOCk7CgkgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKTsKCSAgcmV0dXJuIG9mZnNldCArIDIKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFID0KCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApOwoJICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNCk7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgNAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyQkUgPQoJQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMCk7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpOwoJICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNik7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpOwoJICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZik7CgkgIHJldHVybiBvZmZzZXQgKyA0Cgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSk7CgoJICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KTsKCSAgfQoKCSAgdmFyIGkgPSAwOwoJICB2YXIgbXVsID0gMTsKCSAgdmFyIHN1YiA9IDA7CgkgIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRjsKCSAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHsKCSAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkgewoJICAgICAgc3ViID0gMTsKCSAgICB9CgkgICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRjsKCSAgfQoKCSAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGgKCX07CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgewoJICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKTsKCgkgICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpOwoJICB9CgoJICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxOwoJICB2YXIgbXVsID0gMTsKCSAgdmFyIHN1YiA9IDA7CgkgIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkY7CgkgIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkgewoJICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7CgkgICAgICBzdWIgPSAxOwoJICAgIH0KCSAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGOwoJICB9CgoJICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApOwoJICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDE7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMQoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7CgkgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTsKCSAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpOwoJICByZXR1cm4gb2Zmc2V0ICsgMgoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApOwoJICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKTsKCSAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KTsKCSAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpOwoJICByZXR1cm4gb2Zmc2V0ICsgNAoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgdmFsdWUgPSArdmFsdWU7CgkgIG9mZnNldCA9IG9mZnNldCA+Pj4gMDsKCSAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApOwoJICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDE7CgkgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpOwoJICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNik7CgkgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpOwoJICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZik7CgkgIHJldHVybiBvZmZzZXQgKyA0Cgl9OwoKCWZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7CgkgIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJykKCSAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKQoJfQoKCWZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkgewoJICB2YWx1ZSA9ICt2YWx1ZTsKCSAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwOwoJICBpZiAoIW5vQXNzZXJ0KSB7CgkgICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCk7CgkgIH0KCSAgaWVlZTc1NCQxLndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNCk7CgkgIHJldHVybiBvZmZzZXQgKyA0Cgl9CgoJQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KQoJfTsKCglCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKCSAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KQoJfTsKCglmdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7CgkgIHZhbHVlID0gK3ZhbHVlOwoJICBvZmZzZXQgPSBvZmZzZXQgPj4+IDA7CgkgIGlmICghbm9Bc3NlcnQpIHsKCSAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4KTsKCSAgfQoJICBpZWVlNzU0JDEud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KTsKCSAgcmV0dXJuIG9mZnNldCArIDgKCX0KCglCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewoJICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpCgl9OwoKCUJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CgkgIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpCgl9OwoKCS8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aCkKCUJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHsKCSAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJykKCSAgaWYgKCFzdGFydCkgc3RhcnQgPSAwOwoJICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoOwoJICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoOwoJICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDA7CgkgIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydDsKCgkgIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZQoJICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDAKCSAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwCgoJICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zCgkgIGlmICh0YXJnZXRTdGFydCA8IDApIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpCgkgIH0KCSAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpCgkgIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKQoKCSAgLy8gQXJlIHdlIG9vYj8KCSAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aDsKCSAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7CgkgICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnQ7CgkgIH0KCgkgIHZhciBsZW4gPSBlbmQgLSBzdGFydDsKCgkgIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHsKCSAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExCgkgICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKTsKCSAgfSBlbHNlIHsKCSAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCgKCSAgICAgIHRhcmdldCwKCSAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksCgkgICAgICB0YXJnZXRTdGFydAoJICAgICk7CgkgIH0KCgkgIHJldHVybiBsZW4KCX07CgoJLy8gVXNhZ2U6CgkvLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSkKCS8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKQoJLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pCglCdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7CgkgIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6CgkgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgewoJICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7CgkgICAgICBlbmNvZGluZyA9IHN0YXJ0OwoJICAgICAgc3RhcnQgPSAwOwoJICAgICAgZW5kID0gdGhpcy5sZW5ndGg7CgkgICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykgewoJICAgICAgZW5jb2RpbmcgPSBlbmQ7CgkgICAgICBlbmQgPSB0aGlzLmxlbmd0aDsKCSAgICB9CgkgICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykgewoJICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpCgkgICAgfQoJICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHsKCSAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZykKCSAgICB9CgkgICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHsKCSAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMCk7CgkgICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHwKCSAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHsKCSAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS4KCSAgICAgICAgdmFsID0gY29kZTsKCSAgICAgIH0KCSAgICB9CgkgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHsKCSAgICB2YWwgPSB2YWwgJiAyNTU7CgkgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7CgkgICAgdmFsID0gTnVtYmVyKHZhbCk7CgkgIH0KCgkgIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LgoJICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHsKCSAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JykKCSAgfQoKCSAgaWYgKGVuZCA8PSBzdGFydCkgewoJICAgIHJldHVybiB0aGlzCgkgIH0KCgkgIHN0YXJ0ID0gc3RhcnQgPj4+IDA7CgkgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDA7CgoJICBpZiAoIXZhbCkgdmFsID0gMDsKCgkgIHZhciBpOwoJICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHsKCSAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7CgkgICAgICB0aGlzW2ldID0gdmFsOwoJICAgIH0KCSAgfSBlbHNlIHsKCSAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKQoJICAgICAgPyB2YWwKCSAgICAgIDogQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZyk7CgkgICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aDsKCSAgICBpZiAobGVuID09PSAwKSB7CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicgKyB2YWwgKwoJICAgICAgICAnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJykKCSAgICB9CgkgICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHsKCSAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIHRoaXMKCX07CgoJLy8gSEVMUEVSIEZVTkNUSU9OUwoJLy8gPT09PT09PT09PT09PT09PQoKCXZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXisvMC05QS1aYS16LV9dL2c7CgoJZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikgewoJICAvLyBOb2RlIHRha2VzIGVxdWFsIHNpZ25zIGFzIGVuZCBvZiB0aGUgQmFzZTY0IGVuY29kaW5nCgkgIHN0ciA9IHN0ci5zcGxpdCgnPScpWzBdOwoJICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXG4gYW5kIFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90CgkgIHN0ciA9IHN0ci50cmltKCkucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpOwoJICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnCgkgIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnCgkgIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdAoJICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHsKCSAgICBzdHIgPSBzdHIgKyAnPSc7CgkgIH0KCSAgcmV0dXJuIHN0cgoJfQoKCWZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7CgkgIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHk7CgkgIHZhciBjb2RlUG9pbnQ7CgkgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoOwoJICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7CgkgIHZhciBieXRlcyA9IFtdOwoKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewoJICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpOwoKCSAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50CgkgICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHsKCSAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkCgkgICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHsKCSAgICAgICAgLy8gbm8gbGVhZCB5ZXQKCSAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikgewoJICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWwKCSAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCk7CgkgICAgICAgICAgY29udGludWUKCSAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZAoJICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKTsKCSAgICAgICAgICBjb250aW51ZQoJICAgICAgICB9CgoJICAgICAgICAvLyB2YWxpZCBsZWFkCgkgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnQ7CgoJICAgICAgICBjb250aW51ZQoJICAgICAgfQoKCSAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3cKCSAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHsKCSAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpOwoJICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50OwoJICAgICAgICBjb250aW51ZQoJICAgICAgfQoKCSAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyCgkgICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwOwoJICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkgewoJICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZAoJICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpOwoJICAgIH0KCgkgICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7CgoJICAgIC8vIGVuY29kZSB1dGY4CgkgICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHsKCSAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVhawoJICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpOwoJICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHsKCSAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVhawoJICAgICAgYnl0ZXMucHVzaCgKCSAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsCgkgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwCgkgICAgICApOwoJICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkgewoJICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrCgkgICAgICBieXRlcy5wdXNoKAoJICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCwKCSAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLAoJICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MAoJICAgICAgKTsKCSAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7CgkgICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWsKCSAgICAgIGJ5dGVzLnB1c2goCgkgICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCwKCSAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLAoJICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsCgkgICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwCgkgICAgICApOwoJICAgIH0gZWxzZSB7CgkgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpCgkgICAgfQoJICB9CgoJICByZXR1cm4gYnl0ZXMKCX0KCglmdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikgewoJICB2YXIgYnl0ZUFycmF5ID0gW107CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7CgkgICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uCgkgICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKTsKCSAgfQoJICByZXR1cm4gYnl0ZUFycmF5Cgl9CgoJZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHsKCSAgdmFyIGMsIGhpLCBsbzsKCSAgdmFyIGJ5dGVBcnJheSA9IFtdOwoJICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkgewoJICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVhawoKCSAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7CgkgICAgaGkgPSBjID4+IDg7CgkgICAgbG8gPSBjICUgMjU2OwoJICAgIGJ5dGVBcnJheS5wdXNoKGxvKTsKCSAgICBieXRlQXJyYXkucHVzaChoaSk7CgkgIH0KCgkgIHJldHVybiBieXRlQXJyYXkKCX0KCglmdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHsKCSAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKQoJfQoKCWZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkgewoJICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7CgkgICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVhawoJICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXTsKCSAgfQoJICByZXR1cm4gaQoJfQoKCS8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzCgkvLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS4KCS8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NgoJZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7CgkgIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8CgkgICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiYKCSAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpCgl9CglmdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7CgkgIC8vIEZvciBJRTExIHN1cHBvcnQKCSAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlCgl9CgoJLy8gQ3JlYXRlIGxvb2t1cCB0YWJsZSBmb3IgYHRvU3RyaW5nKCdoZXgnKWAKCS8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzIxOQoJdmFyIGhleFNsaWNlTG9va3VwVGFibGUgPSAoZnVuY3Rpb24gKCkgewoJICB2YXIgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OWFiY2RlZic7CgkgIHZhciB0YWJsZSA9IG5ldyBBcnJheSgyNTYpOwoJICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHsKCSAgICB2YXIgaTE2ID0gaSAqIDE2OwoJICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikgewoJICAgICAgdGFibGVbaTE2ICsgal0gPSBhbHBoYWJldFtpXSArIGFscGhhYmV0W2pdOwoJICAgIH0KCSAgfQoJICByZXR1cm4gdGFibGUKCX0pKCk7Cgl9KGJ1ZmZlcikpOwoKCS8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlcgoJLy8gYmFzZWQgb2ZmIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWZ1bmN0em9tYmllL25vZGUtcHJvY2Vzcy9ibG9iL21hc3Rlci9icm93c2VyLmpzCgoJZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHsKCSAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTsKCX0KCWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkgewoJICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7Cgl9Cgl2YXIgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7Cgl2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDsKCWlmICh0eXBlb2YgZ2xvYmFsJDEuc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0OwoJfQoJaWYgKHR5cGVvZiBnbG9iYWwkMS5jbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHsKCSAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7Cgl9CgoJZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHsKCSAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkgewoJICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnMKCSAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTsKCSAgICB9CgkgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWQKCSAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHsKCSAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7CgkgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7CgkgICAgfQoJICAgIHRyeSB7CgkgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3MKCSAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTsKCSAgICB9IGNhdGNoKGUpewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5CgkgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7CgkgICAgICAgIH0gY2F0Y2goZSl7CgkgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvcgoJICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApOwoJICAgICAgICB9CgkgICAgfQoKCgl9CglmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7CgkgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7CgkgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9ucwoJICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7CgkgICAgfQoJICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWQKCSAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHsKCSAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0OwoJICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7CgkgICAgfQoJICAgIHRyeSB7CgkgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3MKCSAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpOwoJICAgIH0gY2F0Y2ggKGUpewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseQoJICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7CgkgICAgICAgIH0gY2F0Y2ggKGUpewoJICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuCgkgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0CgkgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTsKCSAgICAgICAgfQoJICAgIH0KCgoKCX0KCXZhciBxdWV1ZSA9IFtdOwoJdmFyIGRyYWluaW5nID0gZmFsc2U7Cgl2YXIgY3VycmVudFF1ZXVlOwoJdmFyIHF1ZXVlSW5kZXggPSAtMTsKCglmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7CgkgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7CgkgICAgICAgIHJldHVybjsKCSAgICB9CgkgICAgZHJhaW5pbmcgPSBmYWxzZTsKCSAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkgewoJICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpOwoJICAgIH0gZWxzZSB7CgkgICAgICAgIHF1ZXVlSW5kZXggPSAtMTsKCSAgICB9CgkgICAgaWYgKHF1ZXVlLmxlbmd0aCkgewoJICAgICAgICBkcmFpblF1ZXVlKCk7CgkgICAgfQoJfQoKCWZ1bmN0aW9uIGRyYWluUXVldWUoKSB7CgkgICAgaWYgKGRyYWluaW5nKSB7CgkgICAgICAgIHJldHVybjsKCSAgICB9CgkgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7CgkgICAgZHJhaW5pbmcgPSB0cnVlOwoKCSAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoOwoJICAgIHdoaWxlKGxlbikgewoJICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTsKCSAgICAgICAgcXVldWUgPSBbXTsKCSAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikgewoJICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkgewoJICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBxdWV1ZUluZGV4ID0gLTE7CgkgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDsKCSAgICB9CgkgICAgY3VycmVudFF1ZXVlID0gbnVsbDsKCSAgICBkcmFpbmluZyA9IGZhbHNlOwoJICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTsKCX0KCWZ1bmN0aW9uIG5leHRUaWNrKGZ1bikgewoJICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKCSAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldOwoJICAgICAgICB9CgkgICAgfQoJICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7CgkgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHsKCSAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTsKCSAgICB9Cgl9CgkvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzCglmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHsKCSAgICB0aGlzLmZ1biA9IGZ1bjsKCSAgICB0aGlzLmFycmF5ID0gYXJyYXk7Cgl9CglJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7CgkgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7Cgl9OwoJdmFyIHRpdGxlID0gJ2Jyb3dzZXInOwoJdmFyIHBsYXRmb3JtID0gJ2Jyb3dzZXInOwoJdmFyIGJyb3dzZXIgPSB0cnVlOwoJdmFyIGVudiA9IHt9OwoJdmFyIGFyZ3YgPSBbXTsKCXZhciB2ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzCgl2YXIgdmVyc2lvbnMgPSB7fTsKCXZhciByZWxlYXNlID0ge307Cgl2YXIgY29uZmlnID0ge307CgoJZnVuY3Rpb24gbm9vcCQxKCkge30KCgl2YXIgb24gPSBub29wJDE7Cgl2YXIgYWRkTGlzdGVuZXIgPSBub29wJDE7Cgl2YXIgb25jZSQxID0gbm9vcCQxOwoJdmFyIG9mZiA9IG5vb3AkMTsKCXZhciByZW1vdmVMaXN0ZW5lciA9IG5vb3AkMTsKCXZhciByZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wJDE7Cgl2YXIgZW1pdCA9IG5vb3AkMTsKCglmdW5jdGlvbiBiaW5kaW5nKG5hbWUpIHsKCSAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7Cgl9CgoJZnVuY3Rpb24gY3dkICgpIHsgcmV0dXJuICcvJyB9CglmdW5jdGlvbiBjaGRpciAoZGlyKSB7CgkgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTsKCX1mdW5jdGlvbiB1bWFzaygpIHsgcmV0dXJuIDA7IH0KCgkvLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9rdW1hdmlzL2Jyb3dzZXItcHJvY2Vzcy1ocnRpbWUvYmxvYi9tYXN0ZXIvaW5kZXguanMKCXZhciBwZXJmb3JtYW5jZSA9IGdsb2JhbCQxLnBlcmZvcm1hbmNlIHx8IHt9OwoJdmFyIHBlcmZvcm1hbmNlTm93ID0KCSAgcGVyZm9ybWFuY2Uubm93ICAgICAgICB8fAoJICBwZXJmb3JtYW5jZS5tb3pOb3cgICAgIHx8CgkgIHBlcmZvcm1hbmNlLm1zTm93ICAgICAgfHwKCSAgcGVyZm9ybWFuY2Uub05vdyAgICAgICB8fAoJICBwZXJmb3JtYW5jZS53ZWJraXROb3cgIHx8CgkgIGZ1bmN0aW9uKCl7IHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpIH07CgoJLy8gZ2VuZXJhdGUgdGltZXN0YW1wIG9yIGRlbHRhCgkvLyBzZWUgaHR0cDovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzX3Byb2Nlc3NfaHJ0aW1lCglmdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApewoJICB2YXIgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2VOb3cuY2FsbChwZXJmb3JtYW5jZSkqMWUtMzsKCSAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGNsb2NrdGltZSk7CgkgIHZhciBuYW5vc2Vjb25kcyA9IE1hdGguZmxvb3IoKGNsb2NrdGltZSUxKSoxZTkpOwoJICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHsKCSAgICBzZWNvbmRzID0gc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzBdOwoJICAgIG5hbm9zZWNvbmRzID0gbmFub3NlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFsxXTsKCSAgICBpZiAobmFub3NlY29uZHM8MCkgewoJICAgICAgc2Vjb25kcy0tOwoJICAgICAgbmFub3NlY29uZHMgKz0gMWU5OwoJICAgIH0KCSAgfQoJICByZXR1cm4gW3NlY29uZHMsbmFub3NlY29uZHNdCgl9CgoJdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CglmdW5jdGlvbiB1cHRpbWUoKSB7CgkgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7CgkgIHZhciBkaWYgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTsKCSAgcmV0dXJuIGRpZiAvIDEwMDA7Cgl9CgoJdmFyIGJyb3dzZXIkMSA9IHsKCSAgbmV4dFRpY2s6IG5leHRUaWNrLAoJICB0aXRsZTogdGl0bGUsCgkgIGJyb3dzZXI6IGJyb3dzZXIsCgkgIGVudjogZW52LAoJICBhcmd2OiBhcmd2LAoJICB2ZXJzaW9uOiB2ZXJzaW9uLAoJICB2ZXJzaW9uczogdmVyc2lvbnMsCgkgIG9uOiBvbiwKCSAgYWRkTGlzdGVuZXI6IGFkZExpc3RlbmVyLAoJICBvbmNlOiBvbmNlJDEsCgkgIG9mZjogb2ZmLAoJICByZW1vdmVMaXN0ZW5lcjogcmVtb3ZlTGlzdGVuZXIsCgkgIHJlbW92ZUFsbExpc3RlbmVyczogcmVtb3ZlQWxsTGlzdGVuZXJzLAoJICBlbWl0OiBlbWl0LAoJICBiaW5kaW5nOiBiaW5kaW5nLAoJICBjd2Q6IGN3ZCwKCSAgY2hkaXI6IGNoZGlyLAoJICB1bWFzazogdW1hc2ssCgkgIGhydGltZTogaHJ0aW1lLAoJICBwbGF0Zm9ybTogcGxhdGZvcm0sCgkgIHJlbGVhc2U6IHJlbGVhc2UsCgkgIGNvbmZpZzogY29uZmlnLAoJICB1cHRpbWU6IHVwdGltZQoJfTsKCgl2YXIgcHJvY2VzcyA9IGJyb3dzZXIkMTsKCgl2YXIgaW5oZXJpdHM7CglpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpewoJICBpbmhlcml0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3RvcikgewoJICAgIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlCgkgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7CgkgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHsKCSAgICAgIGNvbnN0cnVjdG9yOiB7CgkgICAgICAgIHZhbHVlOiBjdG9yLAoJICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKCSAgICAgICAgd3JpdGFibGU6IHRydWUsCgkgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQoJICAgICAgfQoJICAgIH0pOwoJICB9OwoJfSBlbHNlIHsKCSAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHsKCSAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKCSAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fTsKCSAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlOwoJICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7CgkgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yOwoJICB9OwoJfQoJdmFyIGluaGVyaXRzJDEgPSBpbmhlcml0czsKCgl2YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZzsKCWZ1bmN0aW9uIGZvcm1hdCQxKGYpIHsKCSAgaWYgKCFpc1N0cmluZyhmKSkgewoJICAgIHZhciBvYmplY3RzID0gW107CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0JDEoYXJndW1lbnRzW2ldKSk7CgkgICAgfQoJICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTsKCSAgfQoKCSAgdmFyIGkgPSAxOwoJICB2YXIgYXJncyA9IGFyZ3VtZW50czsKCSAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoOwoJICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7CgkgICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7CgkgICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDsKCSAgICBzd2l0Y2ggKHgpIHsKCSAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pOwoJICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7CgkgICAgICBjYXNlICclaic6CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7CgkgICAgICAgIH0gY2F0Y2ggKF8pIHsKCSAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nOwoJICAgICAgICB9CgkgICAgICBkZWZhdWx0OgoJICAgICAgICByZXR1cm4geDsKCSAgICB9CgkgIH0pOwoJICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkgewoJICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7CgkgICAgICBzdHIgKz0gJyAnICsgeDsKCSAgICB9IGVsc2UgewoJICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QkMSh4KTsKCSAgICB9CgkgIH0KCSAgcmV0dXJuIHN0cjsKCX0KCgkvLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLgoJLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC4KCS8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuCglmdW5jdGlvbiBkZXByZWNhdGUoZm4sIG1zZykgewoJICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLgoJICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsJDEucHJvY2VzcykpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24oKSB7CgkgICAgICByZXR1cm4gZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkgICAgfTsKCSAgfQoKCSAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkgewoJICAgIHJldHVybiBmbjsKCSAgfQoKCSAgdmFyIHdhcm5lZCA9IGZhbHNlOwoJICBmdW5jdGlvbiBkZXByZWNhdGVkKCkgewoJICAgIGlmICghd2FybmVkKSB7CgkgICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7CgkgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpOwoJICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHsKCSAgICAgICAgY29uc29sZS50cmFjZShtc2cpOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgY29uc29sZS5lcnJvcihtc2cpOwoJICAgICAgfQoJICAgICAgd2FybmVkID0gdHJ1ZTsKCSAgICB9CgkgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkgIH0KCgkgIHJldHVybiBkZXByZWNhdGVkOwoJfQoKCXZhciBkZWJ1Z3MgPSB7fTsKCXZhciBkZWJ1Z0Vudmlyb247CglmdW5jdGlvbiBkZWJ1Z2xvZyhzZXQpIHsKCSAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpCgkgICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJzsKCSAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7CgkgIGlmICghZGVidWdzW3NldF0pIHsKCSAgICBpZiAobmV3IFJlZ0V4cCgnXFxiJyArIHNldCArICdcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkgewoJICAgICAgdmFyIHBpZCA9IDA7CgkgICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkgewoJICAgICAgICB2YXIgbXNnID0gZm9ybWF0JDEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKCSAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7CgkgICAgICB9OwoJICAgIH0gZWxzZSB7CgkgICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307CgkgICAgfQoJICB9CgkgIHJldHVybiBkZWJ1Z3Nbc2V0XTsKCX0KCgkvKioKCSAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXQKCSAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLgoJICoKCSAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuCgkgKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LgoJICovCgkvKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovCglmdW5jdGlvbiBpbnNwZWN0JDEob2JqLCBvcHRzKSB7CgkgIC8vIGRlZmF1bHQgb3B0aW9ucwoJICB2YXIgY3R4ID0gewoJICAgIHNlZW46IFtdLAoJICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yCgkgIH07CgkgIC8vIGxlZ2FjeS4uLgoJICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07CgkgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107CgkgIGlmIChpc0Jvb2xlYW4ob3B0cykpIHsKCSAgICAvLyBsZWdhY3kuLi4KCSAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7CgkgIH0gZWxzZSBpZiAob3B0cykgewoJICAgIC8vIGdvdCBhbiAib3B0aW9ucyIgb2JqZWN0CgkgICAgX2V4dGVuZChjdHgsIG9wdHMpOwoJICB9CgkgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnMKCSAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTsKCSAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7CgkgIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlOwoJICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7CgkgIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7CgkgIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTsKCX0KCgkvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3MKCWluc3BlY3QkMS5jb2xvcnMgPSB7CgkgICdib2xkJyA6IFsxLCAyMl0sCgkgICdpdGFsaWMnIDogWzMsIDIzXSwKCSAgJ3VuZGVybGluZScgOiBbNCwgMjRdLAoJICAnaW52ZXJzZScgOiBbNywgMjddLAoJICAnd2hpdGUnIDogWzM3LCAzOV0sCgkgICdncmV5JyA6IFs5MCwgMzldLAoJICAnYmxhY2snIDogWzMwLCAzOV0sCgkgICdibHVlJyA6IFszNCwgMzldLAoJICAnY3lhbicgOiBbMzYsIDM5XSwKCSAgJ2dyZWVuJyA6IFszMiwgMzldLAoJICAnbWFnZW50YScgOiBbMzUsIDM5XSwKCSAgJ3JlZCcgOiBbMzEsIDM5XSwKCSAgJ3llbGxvdycgOiBbMzMsIDM5XQoJfTsKCgkvLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGUKCWluc3BlY3QkMS5zdHlsZXMgPSB7CgkgICdzcGVjaWFsJzogJ2N5YW4nLAoJICAnbnVtYmVyJzogJ3llbGxvdycsCgkgICdib29sZWFuJzogJ3llbGxvdycsCgkgICd1bmRlZmluZWQnOiAnZ3JleScsCgkgICdudWxsJzogJ2JvbGQnLAoJICAnc3RyaW5nJzogJ2dyZWVuJywKCSAgJ2RhdGUnOiAnbWFnZW50YScsCgkgIC8vICJuYW1lIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZwoJICAncmVnZXhwJzogJ3JlZCcKCX07CgoKCWZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHsKCSAgdmFyIHN0eWxlID0gaW5zcGVjdCQxLnN0eWxlc1tzdHlsZVR5cGVdOwoKCSAgaWYgKHN0eWxlKSB7CgkgICAgcmV0dXJuICdcdTAwMWJbJyArIGluc3BlY3QkMS5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICsKCSAgICAgICAgICAgJ1x1MDAxYlsnICsgaW5zcGVjdCQxLmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7CgkgIH0gZWxzZSB7CgkgICAgcmV0dXJuIHN0cjsKCSAgfQoJfQoKCglmdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkgewoJICByZXR1cm4gc3RyOwoJfQoKCglmdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkgewoJICB2YXIgaGFzaCA9IHt9OwoKCSAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkgewoJICAgIGhhc2hbdmFsXSA9IHRydWU7CgkgIH0pOwoKCSAgcmV0dXJuIGhhc2g7Cgl9CgoKCWZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykgewoJICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuCgkgIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdAoJICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiYKCSAgICAgIHZhbHVlICYmCgkgICAgICBpc0Z1bmN0aW9uJDEodmFsdWUuaW5zcGVjdCkgJiYKCSAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbAoJICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gaW5zcGVjdCQxICYmCgkgICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay4KCSAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHsKCSAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7CgkgICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7CgkgICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTsKCSAgICB9CgkgICAgcmV0dXJuIHJldDsKCSAgfQoKCSAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXMKCSAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTsKCSAgaWYgKHByaW1pdGl2ZSkgewoJICAgIHJldHVybiBwcmltaXRpdmU7CgkgIH0KCgkgIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC4KCSAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7CgkgIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpOwoKCSAgaWYgKGN0eC5zaG93SGlkZGVuKSB7CgkgICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTsKCSAgfQoKCSAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZQoJICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweAoJICBpZiAoaXNFcnJvcih2YWx1ZSkKCSAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkgewoJICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7CgkgIH0KCgkgIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC4KCSAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7CgkgICAgaWYgKGlzRnVuY3Rpb24kMSh2YWx1ZSkpIHsKCSAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7CgkgICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpOwoJICAgIH0KCSAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7CgkgICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpOwoJICAgIH0KCSAgICBpZiAoaXNEYXRlKHZhbHVlKSkgewoJICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpOwoJICAgIH0KCSAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHsKCSAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7CgkgICAgfQoJICB9CgoJICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddOwoKCSAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheQoJICBpZiAoaXNBcnJheSQxKHZhbHVlKSkgewoJICAgIGFycmF5ID0gdHJ1ZTsKCSAgICBicmFjZXMgPSBbJ1snLCAnXSddOwoJICB9CgoJICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnMKCSAgaWYgKGlzRnVuY3Rpb24kMSh2YWx1ZSkpIHsKCSAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnOwoJICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nOwoJICB9CgoJICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwcwoJICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7CgkgICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7CgkgIH0KCgkgIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZQoJICBpZiAoaXNEYXRlKHZhbHVlKSkgewoJICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTsKCSAgfQoKCSAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvcgoJICBpZiAoaXNFcnJvcih2YWx1ZSkpIHsKCSAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpOwoJICB9CgoJICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHsKCSAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTsKCSAgfQoKCSAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHsKCSAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7CgkgICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpOwoJICAgIH0gZWxzZSB7CgkgICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTsKCSAgICB9CgkgIH0KCgkgIGN0eC5zZWVuLnB1c2godmFsdWUpOwoKCSAgdmFyIG91dHB1dDsKCSAgaWYgKGFycmF5KSB7CgkgICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7CgkgIH0gZWxzZSB7CgkgICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7CgkgICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7CgkgICAgfSk7CgkgIH0KCgkgIGN0eC5zZWVuLnBvcCgpOwoKCSAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTsKCX0KCgoJZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHsKCSAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkKCSAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTsKCSAgaWYgKGlzU3RyaW5nKHZhbHVlKSkgewoJICAgIHZhciBzaW1wbGUgPSAnXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL14ifCIkL2csICcnKQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgIlxcJyIpCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwiL2csICciJykgKyAnXCcnOwoJICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTsKCSAgfQoJICBpZiAoaXNOdW1iZXIodmFsdWUpKQoJICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7CgkgIGlmIChpc0Jvb2xlYW4odmFsdWUpKQoJICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpOwoJICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgIm9iamVjdCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLgoJICBpZiAoaXNOdWxsKHZhbHVlKSkKCSAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpOwoJfQoKCglmdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkgewoJICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nOwoJfQoKCglmdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7CgkgIHZhciBvdXRwdXQgPSBbXTsKCSAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHsKCSAgICBpZiAoaGFzT3duUHJvcGVydHkkMSh2YWx1ZSwgU3RyaW5nKGkpKSkgewoJICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywKCSAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTsKCSAgICB9IGVsc2UgewoJICAgICAgb3V0cHV0LnB1c2goJycpOwoJICAgIH0KCSAgfQoJICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CgkgICAgaWYgKCFrZXkubWF0Y2goL15cZCskLykpIHsKCSAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsCgkgICAgICAgICAga2V5LCB0cnVlKSk7CgkgICAgfQoJICB9KTsKCSAgcmV0dXJuIG91dHB1dDsKCX0KCgoJZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkgewoJICB2YXIgbmFtZSwgc3RyLCBkZXNjOwoJICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07CgkgIGlmIChkZXNjLmdldCkgewoJICAgIGlmIChkZXNjLnNldCkgewoJICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7CgkgICAgfQoJICB9IGVsc2UgewoJICAgIGlmIChkZXNjLnNldCkgewoJICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTsKCSAgICB9CgkgIH0KCSAgaWYgKCFoYXNPd25Qcm9wZXJ0eSQxKHZpc2libGVLZXlzLCBrZXkpKSB7CgkgICAgbmFtZSA9ICdbJyArIGtleSArICddJzsKCSAgfQoJICBpZiAoIXN0cikgewoJICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkgewoJICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7CgkgICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpOwoJICAgICAgfQoJICAgICAgaWYgKHN0ci5pbmRleE9mKCdcbicpID4gLTEpIHsKCSAgICAgICAgaWYgKGFycmF5KSB7CgkgICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7CgkgICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7CgkgICAgICAgICAgfSkuam9pbignXG4nKS5zdWJzdHIoMik7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgc3RyID0gJ1xuJyArIHN0ci5zcGxpdCgnXG4nKS5tYXAoZnVuY3Rpb24obGluZSkgewoJICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTsKCSAgICAgICAgICB9KS5qb2luKCdcbicpOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgfSBlbHNlIHsKCSAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTsKCSAgICB9CgkgIH0KCSAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7CgkgICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxkKyQvKSkgewoJICAgICAgcmV0dXJuIHN0cjsKCSAgICB9CgkgICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTsKCSAgICBpZiAobmFtZS5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pKSB7CgkgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTsKCSAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpOwoJICAgIH0gZWxzZSB7CgkgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csICJcXCciKQoJICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwiL2csICciJykKCSAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheInwiJCkvZywgIiciKTsKCSAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7CgkgICAgfQoJICB9CgoJICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7Cgl9CgoKCWZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7CgkgIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikgewoJICAgIGlmIChjdXIuaW5kZXhPZignXG4nKSA+PSAwKSA7CgkgICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXHUwMDFiXFtcZFxkP20vZywgJycpLmxlbmd0aCArIDE7CgkgIH0sIDApOwoKCSAgaWYgKGxlbmd0aCA+IDYwKSB7CgkgICAgcmV0dXJuIGJyYWNlc1swXSArCgkgICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcbiAnKSArCgkgICAgICAgICAgICcgJyArCgkgICAgICAgICAgIG91dHB1dC5qb2luKCcsXG4gICcpICsKCSAgICAgICAgICAgJyAnICsKCSAgICAgICAgICAgYnJhY2VzWzFdOwoJICB9CgoJICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdOwoJfQoKCgkvLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmAKCS8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLgoJZnVuY3Rpb24gaXNBcnJheSQxKGFyKSB7CgkgIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTsKCX0KCglmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7CgkgIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7Cgl9CgoJZnVuY3Rpb24gaXNOdWxsKGFyZykgewoJICByZXR1cm4gYXJnID09PSBudWxsOwoJfQoKCWZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykgewoJICByZXR1cm4gYXJnID09IG51bGw7Cgl9CgoJZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7CgkgIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJzsKCX0KCglmdW5jdGlvbiBpc1N0cmluZyhhcmcpIHsKCSAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnOwoJfQoKCWZ1bmN0aW9uIGlzU3ltYm9sKGFyZykgewoJICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7Cgl9CgoJZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7CgkgIHJldHVybiBhcmcgPT09IHZvaWQgMDsKCX0KCglmdW5jdGlvbiBpc1JlZ0V4cChyZSkgewoJICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7Cgl9CgoJZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7CgkgIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7Cgl9CgoJZnVuY3Rpb24gaXNEYXRlKGQpIHsKCSAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7Cgl9CgoJZnVuY3Rpb24gaXNFcnJvcihlKSB7CgkgIHJldHVybiBpc09iamVjdChlKSAmJgoJICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7Cgl9CgoJZnVuY3Rpb24gaXNGdW5jdGlvbiQxKGFyZykgewoJICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJzsKCX0KCglmdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHsKCSAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fAoJICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8CgkgICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fAoJICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHwKCSAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sCgkgICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJzsKCX0KCglmdW5jdGlvbiBpc0J1ZmZlcihtYXliZUJ1ZikgewoJICByZXR1cm4gYnVmZmVyLkJ1ZmZlci5pc0J1ZmZlcihtYXliZUJ1Zik7Cgl9CgoJZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykgewoJICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pOwoJfQoKCglmdW5jdGlvbiBwYWQobikgewoJICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTsKCX0KCgoJdmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLAoJICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTsKCgkvLyAyNiBGZWIgMTY6MTk6MzQKCWZ1bmN0aW9uIHRpbWVzdGFtcCgpIHsKCSAgdmFyIGQgPSBuZXcgRGF0ZSgpOwoJICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSwKCSAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSwKCSAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpOwoJICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpOwoJfQoKCgkvLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wCglmdW5jdGlvbiBsb2coKSB7CgkgIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGZvcm1hdCQxLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpOwoJfQoKCWZ1bmN0aW9uIF9leHRlbmQob3JpZ2luLCBhZGQpIHsKCSAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdAoJICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjsKCgkgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTsKCSAgdmFyIGkgPSBrZXlzLmxlbmd0aDsKCSAgd2hpbGUgKGktLSkgewoJICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTsKCSAgfQoJICByZXR1cm4gb3JpZ2luOwoJfQoJZnVuY3Rpb24gaGFzT3duUHJvcGVydHkkMShvYmosIHByb3ApIHsKCSAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOwoJfQoKCXZhciByZXF1aXJlJCQxJDEgPSB7CgkgIGluaGVyaXRzOiBpbmhlcml0cyQxLAoJICBfZXh0ZW5kOiBfZXh0ZW5kLAoJICBsb2c6IGxvZywKCSAgaXNCdWZmZXI6IGlzQnVmZmVyLAoJICBpc1ByaW1pdGl2ZTogaXNQcmltaXRpdmUsCgkgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24kMSwKCSAgaXNFcnJvcjogaXNFcnJvciwKCSAgaXNEYXRlOiBpc0RhdGUsCgkgIGlzT2JqZWN0OiBpc09iamVjdCwKCSAgaXNSZWdFeHA6IGlzUmVnRXhwLAoJICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsCgkgIGlzU3ltYm9sOiBpc1N5bWJvbCwKCSAgaXNTdHJpbmc6IGlzU3RyaW5nLAoJICBpc051bWJlcjogaXNOdW1iZXIsCgkgIGlzTnVsbE9yVW5kZWZpbmVkOiBpc051bGxPclVuZGVmaW5lZCwKCSAgaXNOdWxsOiBpc051bGwsCgkgIGlzQm9vbGVhbjogaXNCb29sZWFuLAoJICBpc0FycmF5OiBpc0FycmF5JDEsCgkgIGluc3BlY3Q6IGluc3BlY3QkMSwKCSAgZGVwcmVjYXRlOiBkZXByZWNhdGUsCgkgIGZvcm1hdDogZm9ybWF0JDEsCgkgIGRlYnVnbG9nOiBkZWJ1Z2xvZwoJfTsKCglmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHsKCSAgaWYgKGEgPT09IGIpIHsKCSAgICByZXR1cm4gMDsKCSAgfQoKCSAgdmFyIHggPSBhLmxlbmd0aDsKCSAgdmFyIHkgPSBiLmxlbmd0aDsKCgkgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7CgkgICAgaWYgKGFbaV0gIT09IGJbaV0pIHsKCSAgICAgIHggPSBhW2ldOwoJICAgICAgeSA9IGJbaV07CgkgICAgICBicmVhazsKCSAgICB9CgkgIH0KCgkgIGlmICh4IDwgeSkgewoJICAgIHJldHVybiAtMTsKCSAgfQoJICBpZiAoeSA8IHgpIHsKCSAgICByZXR1cm4gMTsKCSAgfQoJICByZXR1cm4gMDsKCX0KCXZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoKCXZhciBvYmplY3RLZXlzJDEgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7CgkgIHZhciBrZXlzID0gW107CgkgIGZvciAodmFyIGtleSBpbiBvYmopIHsKCSAgICBpZiAoaGFzT3duLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTsKCSAgfQoJICByZXR1cm4ga2V5czsKCX07Cgl2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwoJdmFyIF9mdW5jdGlvbnNIYXZlTmFtZXM7CglmdW5jdGlvbiBmdW5jdGlvbnNIYXZlTmFtZXMoKSB7CgkgIGlmICh0eXBlb2YgX2Z1bmN0aW9uc0hhdmVOYW1lcyAhPT0gJ3VuZGVmaW5lZCcpIHsKCSAgICByZXR1cm4gX2Z1bmN0aW9uc0hhdmVOYW1lczsKCSAgfQoJICByZXR1cm4gX2Z1bmN0aW9uc0hhdmVOYW1lcyA9IChmdW5jdGlvbiAoKSB7CgkgICAgcmV0dXJuIGZ1bmN0aW9uIGZvbygpIHt9Lm5hbWUgPT09ICdmb28nOwoJICB9KCkpOwoJfQoJZnVuY3Rpb24gcFRvU3RyaW5nIChvYmopIHsKCSAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopOwoJfQoJZnVuY3Rpb24gaXNWaWV3KGFycmJ1ZikgewoJICBpZiAoYnVmZmVyLmlzQnVmZmVyKGFycmJ1ZikpIHsKCSAgICByZXR1cm4gZmFsc2U7CgkgIH0KCSAgaWYgKHR5cGVvZiBnbG9iYWwkMS5BcnJheUJ1ZmZlciAhPT0gJ2Z1bmN0aW9uJykgewoJICAgIHJldHVybiBmYWxzZTsKCSAgfQoJICBpZiAodHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoYXJyYnVmKTsKCSAgfQoJICBpZiAoIWFycmJ1ZikgewoJICAgIHJldHVybiBmYWxzZTsKCSAgfQoJICBpZiAoYXJyYnVmIGluc3RhbmNlb2YgRGF0YVZpZXcpIHsKCSAgICByZXR1cm4gdHJ1ZTsKCSAgfQoJICBpZiAoYXJyYnVmLmJ1ZmZlciAmJiBhcnJidWYuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHsKCSAgICByZXR1cm4gdHJ1ZTsKCSAgfQoJICByZXR1cm4gZmFsc2U7Cgl9CgkvLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvdwoJLy8gQXNzZXJ0aW9uRXJyb3IncyB3aGVuIHBhcnRpY3VsYXIgY29uZGl0aW9ucyBhcmUgbm90IG1ldC4gVGhlCgkvLyBhc3NlcnQgbW9kdWxlIG11c3QgY29uZm9ybSB0byB0aGUgZm9sbG93aW5nIGludGVyZmFjZS4KCglmdW5jdGlvbiBhc3NlcnQkMyh2YWx1ZSwgbWVzc2FnZSkgewoJICBpZiAoIXZhbHVlKSBmYWlsKHZhbHVlLCB0cnVlLCBtZXNzYWdlLCAnPT0nLCBvayk7Cgl9CgoJLy8gMi4gVGhlIEFzc2VydGlvbkVycm9yIGlzIGRlZmluZWQgaW4gYXNzZXJ0LgoJLy8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsCgkvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWwsCgkvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkIH0pCgoJdmFyIHJlZ2V4ID0gL1xzKmZ1bmN0aW9uXHMrKFteXChcc10qKVxzKi87CgkvLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL2Z1bmN0aW9uLnByb3RvdHlwZS5uYW1lL2Jsb2IvYWRlZWVlYzhiZmNjNjA2OGIxODdkN2Q5ZmIzZDViYjFkM2EzMDg5OS9pbXBsZW1lbnRhdGlvbi5qcwoJZnVuY3Rpb24gZ2V0TmFtZShmdW5jKSB7CgkgIGlmICghaXNGdW5jdGlvbiQxKGZ1bmMpKSB7CgkgICAgcmV0dXJuOwoJICB9CgkgIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMoKSkgewoJICAgIHJldHVybiBmdW5jLm5hbWU7CgkgIH0KCSAgdmFyIHN0ciA9IGZ1bmMudG9TdHJpbmcoKTsKCSAgdmFyIG1hdGNoID0gc3RyLm1hdGNoKHJlZ2V4KTsKCSAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdOwoJfQoJYXNzZXJ0JDMuQXNzZXJ0aW9uRXJyb3IgPSBBc3NlcnRpb25FcnJvcjsKCWZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHsKCSAgdGhpcy5uYW1lID0gJ0Fzc2VydGlvbkVycm9yJzsKCSAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDsKCSAgdGhpcy5leHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7CgkgIHRoaXMub3BlcmF0b3IgPSBvcHRpb25zLm9wZXJhdG9yOwoJICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7CgkgICAgdGhpcy5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlOwoJICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IGZhbHNlOwoJICB9IGVsc2UgewoJICAgIHRoaXMubWVzc2FnZSA9IGdldE1lc3NhZ2UodGhpcyk7CgkgICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTsKCSAgfQoJICB2YXIgc3RhY2tTdGFydEZ1bmN0aW9uID0gb3B0aW9ucy5zdGFja1N0YXJ0RnVuY3Rpb24gfHwgZmFpbDsKCSAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7CgkgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgc3RhY2tTdGFydEZ1bmN0aW9uKTsKCSAgfSBlbHNlIHsKCSAgICAvLyBub24gdjggYnJvd3NlcnMgc28gd2UgY2FuIGhhdmUgYSBzdGFja3RyYWNlCgkgICAgdmFyIGVyciA9IG5ldyBFcnJvcigpOwoJICAgIGlmIChlcnIuc3RhY2spIHsKCSAgICAgIHZhciBvdXQgPSBlcnIuc3RhY2s7CgoJICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzCgkgICAgICB2YXIgZm5fbmFtZSA9IGdldE5hbWUoc3RhY2tTdGFydEZ1bmN0aW9uKTsKCSAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXG4nICsgZm5fbmFtZSk7CgkgICAgICBpZiAoaWR4ID49IDApIHsKCSAgICAgICAgLy8gb25jZSB3ZSBoYXZlIGxvY2F0ZWQgdGhlIGZ1bmN0aW9uIGZyYW1lCgkgICAgICAgIC8vIHdlIG5lZWQgdG8gc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYmVmb3JlIGl0IChhbmQgaXRzIGxpbmUpCgkgICAgICAgIHZhciBuZXh0X2xpbmUgPSBvdXQuaW5kZXhPZignXG4nLCBpZHggKyAxKTsKCSAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZyhuZXh0X2xpbmUgKyAxKTsKCSAgICAgIH0KCgkgICAgICB0aGlzLnN0YWNrID0gb3V0OwoJICAgIH0KCSAgfQoJfQoKCS8vIGFzc2VydC5Bc3NlcnRpb25FcnJvciBpbnN0YW5jZW9mIEVycm9yCglpbmhlcml0cyQxKEFzc2VydGlvbkVycm9yLCBFcnJvcik7CgoJZnVuY3Rpb24gdHJ1bmNhdGUocywgbikgewoJICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7CgkgICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pOwoJICB9IGVsc2UgewoJICAgIHJldHVybiBzOwoJICB9Cgl9CglmdW5jdGlvbiBpbnNwZWN0KHNvbWV0aGluZykgewoJICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKCkgfHwgIWlzRnVuY3Rpb24kMShzb21ldGhpbmcpKSB7CgkgICAgcmV0dXJuIGluc3BlY3QkMShzb21ldGhpbmcpOwoJICB9CgkgIHZhciByYXduYW1lID0gZ2V0TmFtZShzb21ldGhpbmcpOwoJICB2YXIgbmFtZSA9IHJhd25hbWUgPyAnOiAnICsgcmF3bmFtZSA6ICcnOwoJICByZXR1cm4gJ1tGdW5jdGlvbicgKyAgbmFtZSArICddJzsKCX0KCWZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikgewoJICByZXR1cm4gdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmFjdHVhbCksIDEyOCkgKyAnICcgKwoJICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArCgkgICAgICAgICB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuZXhwZWN0ZWQpLCAxMjgpOwoJfQoKCS8vIEF0IHByZXNlbnQgb25seSB0aGUgdGhyZWUga2V5cyBtZW50aW9uZWQgYWJvdmUgYXJlIHVzZWQgYW5kCgkvLyB1bmRlcnN0b29kIGJ5IHRoZSBzcGVjLiBJbXBsZW1lbnRhdGlvbnMgb3Igc3ViIG1vZHVsZXMgY2FuIHBhc3MKCS8vIG90aGVyIGtleXMgdG8gdGhlIEFzc2VydGlvbkVycm9yJ3MgY29uc3RydWN0b3IgLSB0aGV5IHdpbGwgYmUKCS8vIGlnbm9yZWQuCgoJLy8gMy4gQWxsIG9mIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIG11c3QgdGhyb3cgYW4gQXNzZXJ0aW9uRXJyb3IKCS8vIHdoZW4gYSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiBpcyBub3QgbWV0LCB3aXRoIGEgbWVzc2FnZSB0aGF0CgkvLyBtYXkgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcm92aWRlZC4gIEFsbCBhc3NlcnRpb24gbWV0aG9kcyBwcm92aWRlCgkvLyBib3RoIHRoZSBhY3R1YWwgYW5kIGV4cGVjdGVkIHZhbHVlcyB0byB0aGUgYXNzZXJ0aW9uIGVycm9yIGZvcgoJLy8gZGlzcGxheSBwdXJwb3Nlcy4KCglmdW5jdGlvbiBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsIG9wZXJhdG9yLCBzdGFja1N0YXJ0RnVuY3Rpb24pIHsKCSAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKHsKCSAgICBtZXNzYWdlOiBtZXNzYWdlLAoJICAgIGFjdHVhbDogYWN0dWFsLAoJICAgIGV4cGVjdGVkOiBleHBlY3RlZCwKCSAgICBvcGVyYXRvcjogb3BlcmF0b3IsCgkgICAgc3RhY2tTdGFydEZ1bmN0aW9uOiBzdGFja1N0YXJ0RnVuY3Rpb24KCSAgfSk7Cgl9CgoJLy8gRVhURU5TSU9OISBhbGxvd3MgZm9yIHdlbGwgYmVoYXZlZCBlcnJvcnMgZGVmaW5lZCBlbHNld2hlcmUuCglhc3NlcnQkMy5mYWlsID0gZmFpbDsKCgkvLyA0LiBQdXJlIGFzc2VydGlvbiB0ZXN0cyB3aGV0aGVyIGEgdmFsdWUgaXMgdHJ1dGh5LCBhcyBkZXRlcm1pbmVkCgkvLyBieSAhIWd1YXJkLgoJLy8gYXNzZXJ0Lm9rKGd1YXJkLCBtZXNzYWdlX29wdCk7CgkvLyBUaGlzIHN0YXRlbWVudCBpcyBlcXVpdmFsZW50IHRvIGFzc2VydC5lcXVhbCh0cnVlLCAhIWd1YXJkLAoJLy8gbWVzc2FnZV9vcHQpOy4gVG8gdGVzdCBzdHJpY3RseSBmb3IgdGhlIHZhbHVlIHRydWUsIHVzZQoJLy8gYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIGd1YXJkLCBtZXNzYWdlX29wdCk7LgoKCWZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7CgkgIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIG9rKTsKCX0KCWFzc2VydCQzLm9rID0gb2s7CgoJLy8gNS4gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoCgkvLyA9PS4KCS8vIGFzc2VydC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cglhc3NlcnQkMy5lcXVhbCA9IGVxdWFsOwoJZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICBpZiAoYWN0dWFsICE9IGV4cGVjdGVkKSBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PScsIGVxdWFsKTsKCX0KCgkvLyA2LiBUaGUgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igd2hldGhlciB0d28gb2JqZWN0cyBhcmUgbm90IGVxdWFsCgkvLyB3aXRoICE9IGFzc2VydC5ub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cglhc3NlcnQkMy5ub3RFcXVhbCA9IG5vdEVxdWFsOwoJZnVuY3Rpb24gbm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICBpZiAoYWN0dWFsID09IGV4cGVjdGVkKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT0nLCBub3RFcXVhbCk7CgkgIH0KCX0KCgkvLyA3LiBUaGUgZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGEgZGVlcCBlcXVhbGl0eSByZWxhdGlvbi4KCS8vIGFzc2VydC5kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpOwoJYXNzZXJ0JDMuZGVlcEVxdWFsID0gZGVlcEVxdWFsOwoJZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCSAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIGZhbHNlKSkgewoJICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBFcXVhbCcsIGRlZXBFcXVhbCk7CgkgIH0KCX0KCWFzc2VydCQzLmRlZXBTdHJpY3RFcXVhbCA9IGRlZXBTdHJpY3RFcXVhbDsKCWZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkgewoJICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBTdHJpY3RFcXVhbCcsIGRlZXBTdHJpY3RFcXVhbCk7CgkgIH0KCX0KCglmdW5jdGlvbiBfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpIHsKCSAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uCgkgIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7CgkgICAgcmV0dXJuIHRydWU7CgkgIH0gZWxzZSBpZiAoYnVmZmVyLmlzQnVmZmVyKGFjdHVhbCkgJiYgYnVmZmVyLmlzQnVmZmVyKGV4cGVjdGVkKSkgewoJICAgIHJldHVybiBjb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQpID09PSAwOwoKCSAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpcwoJICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLgoJICB9IGVsc2UgaWYgKGlzRGF0ZShhY3R1YWwpICYmIGlzRGF0ZShleHBlY3RlZCkpIHsKCSAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpOwoKCSAgLy8gNy4zIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXMKCSAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgUmVnRXhwIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBhbmQKCSAgLy8gcHJvcGVydGllcyAoYGdsb2JhbGAsIGBtdWx0aWxpbmVgLCBgbGFzdEluZGV4YCwgYGlnbm9yZUNhc2VgKS4KCSAgfSBlbHNlIGlmIChpc1JlZ0V4cChhY3R1YWwpICYmIGlzUmVnRXhwKGV4cGVjdGVkKSkgewoJICAgIHJldHVybiBhY3R1YWwuc291cmNlID09PSBleHBlY3RlZC5zb3VyY2UgJiYKCSAgICAgICAgICAgYWN0dWFsLmdsb2JhbCA9PT0gZXhwZWN0ZWQuZ2xvYmFsICYmCgkgICAgICAgICAgIGFjdHVhbC5tdWx0aWxpbmUgPT09IGV4cGVjdGVkLm11bHRpbGluZSAmJgoJICAgICAgICAgICBhY3R1YWwubGFzdEluZGV4ID09PSBleHBlY3RlZC5sYXN0SW5kZXggJiYKCSAgICAgICAgICAgYWN0dWFsLmlnbm9yZUNhc2UgPT09IGV4cGVjdGVkLmlnbm9yZUNhc2U7CgoJICAvLyA3LjQuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsCgkgIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uCgkgIH0gZWxzZSBpZiAoKGFjdHVhbCA9PT0gbnVsbCB8fCB0eXBlb2YgYWN0dWFsICE9PSAnb2JqZWN0JykgJiYKCSAgICAgICAgICAgICAoZXhwZWN0ZWQgPT09IG51bGwgfHwgdHlwZW9mIGV4cGVjdGVkICE9PSAnb2JqZWN0JykpIHsKCSAgICByZXR1cm4gc3RyaWN0ID8gYWN0dWFsID09PSBleHBlY3RlZCA6IGFjdHVhbCA9PSBleHBlY3RlZDsKCgkgIC8vIElmIGJvdGggdmFsdWVzIGFyZSBpbnN0YW5jZXMgb2YgdHlwZWQgYXJyYXlzLCB3cmFwIHRoZWlyIHVuZGVybHlpbmcKCSAgLy8gQXJyYXlCdWZmZXJzIGluIGEgQnVmZmVyIGVhY2ggdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UKCSAgLy8gVGhpcyBvcHRpbWl6YXRpb24gcmVxdWlyZXMgdGhlIGFycmF5cyB0byBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY2hlY2tlZCBieQoJICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIChha2EgcFRvU3RyaW5nKS4gTmV2ZXIgcGVyZm9ybSBiaW5hcnkKCSAgLy8gY29tcGFyaXNvbnMgZm9yIEZsb2F0KkFycmF5cywgdGhvdWdoLCBzaW5jZSBlLmcuICswID09PSAtMCBidXQgdGhlaXIKCSAgLy8gYml0IHBhdHRlcm5zIGFyZSBub3QgaWRlbnRpY2FsLgoJICB9IGVsc2UgaWYgKGlzVmlldyhhY3R1YWwpICYmIGlzVmlldyhleHBlY3RlZCkgJiYKCSAgICAgICAgICAgICBwVG9TdHJpbmcoYWN0dWFsKSA9PT0gcFRvU3RyaW5nKGV4cGVjdGVkKSAmJgoJICAgICAgICAgICAgICEoYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8CgkgICAgICAgICAgICAgICBhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpKSB7CgkgICAgcmV0dXJuIGNvbXBhcmUobmV3IFVpbnQ4QXJyYXkoYWN0dWFsLmJ1ZmZlciksCgkgICAgICAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZXhwZWN0ZWQuYnVmZmVyKSkgPT09IDA7CgoJICAvLyA3LjUgRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpcwoJICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWQKCSAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5cwoJICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5CgkgIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzCgkgIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLgoJICB9IGVsc2UgaWYgKGJ1ZmZlci5pc0J1ZmZlcihhY3R1YWwpICE9PSBidWZmZXIuaXNCdWZmZXIoZXhwZWN0ZWQpKSB7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9IGVsc2UgewoJICAgIG1lbW9zID0gbWVtb3MgfHwge2FjdHVhbDogW10sIGV4cGVjdGVkOiBbXX07CgoJICAgIHZhciBhY3R1YWxJbmRleCA9IG1lbW9zLmFjdHVhbC5pbmRleE9mKGFjdHVhbCk7CgkgICAgaWYgKGFjdHVhbEluZGV4ICE9PSAtMSkgewoJICAgICAgaWYgKGFjdHVhbEluZGV4ID09PSBtZW1vcy5leHBlY3RlZC5pbmRleE9mKGV4cGVjdGVkKSkgewoJICAgICAgICByZXR1cm4gdHJ1ZTsKCSAgICAgIH0KCSAgICB9CgoJICAgIG1lbW9zLmFjdHVhbC5wdXNoKGFjdHVhbCk7CgkgICAgbWVtb3MuZXhwZWN0ZWQucHVzaChleHBlY3RlZCk7CgoJICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iamVjdCkgewoJICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7Cgl9CgoJZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgc3RyaWN0LCBhY3R1YWxWaXNpdGVkT2JqZWN0cykgewoJICBpZiAoYSA9PT0gbnVsbCB8fCBhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiID09PSB1bmRlZmluZWQpCgkgICAgcmV0dXJuIGZhbHNlOwoJICAvLyBpZiBvbmUgaXMgYSBwcmltaXRpdmUsIHRoZSBvdGhlciBtdXN0IGJlIHNhbWUKCSAgaWYgKGlzUHJpbWl0aXZlKGEpIHx8IGlzUHJpbWl0aXZlKGIpKQoJICAgIHJldHVybiBhID09PSBiOwoJICBpZiAoc3RyaWN0ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpKQoJICAgIHJldHVybiBmYWxzZTsKCSAgdmFyIGFJc0FyZ3MgPSBpc0FyZ3VtZW50cyhhKTsKCSAgdmFyIGJJc0FyZ3MgPSBpc0FyZ3VtZW50cyhiKTsKCSAgaWYgKChhSXNBcmdzICYmICFiSXNBcmdzKSB8fCAoIWFJc0FyZ3MgJiYgYklzQXJncykpCgkgICAgcmV0dXJuIGZhbHNlOwoJICBpZiAoYUlzQXJncykgewoJICAgIGEgPSBwU2xpY2UuY2FsbChhKTsKCSAgICBiID0gcFNsaWNlLmNhbGwoYik7CgkgICAgcmV0dXJuIF9kZWVwRXF1YWwoYSwgYiwgc3RyaWN0KTsKCSAgfQoJICB2YXIga2EgPSBvYmplY3RLZXlzJDEoYSk7CgkgIHZhciBrYiA9IG9iamVjdEtleXMkMShiKTsKCSAgdmFyIGtleSwgaTsKCSAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlcwoJICAvLyBoYXNPd25Qcm9wZXJ0eSkKCSAgaWYgKGthLmxlbmd0aCAhPT0ga2IubGVuZ3RoKQoJICAgIHJldHVybiBmYWxzZTsKCSAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwKCSAga2Euc29ydCgpOwoJICBrYi5zb3J0KCk7CgkgIC8vfn5+Y2hlYXAga2V5IHRlc3QKCSAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKCSAgICBpZiAoa2FbaV0gIT09IGtiW2ldKQoJICAgICAgcmV0dXJuIGZhbHNlOwoJICB9CgkgIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmQKCSAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0CgkgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CgkgICAga2V5ID0ga2FbaV07CgkgICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSkKCSAgICAgIHJldHVybiBmYWxzZTsKCSAgfQoJICByZXR1cm4gdHJ1ZTsKCX0KCgkvLyA4LiBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS4KCS8vIGFzc2VydC5ub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpOwoJYXNzZXJ0JDMubm90RGVlcEVxdWFsID0gbm90RGVlcEVxdWFsOwoJZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCSAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgbm90RGVlcEVxdWFsKTsKCSAgfQoJfQoKCWFzc2VydCQzLm5vdERlZXBTdHJpY3RFcXVhbCA9IG5vdERlZXBTdHJpY3RFcXVhbDsKCWZ1bmN0aW9uIG5vdERlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcFN0cmljdEVxdWFsJywgbm90RGVlcFN0cmljdEVxdWFsKTsKCSAgfQoJfQoKCgkvLyA5LiBUaGUgc3RyaWN0IGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzdHJpY3QgZXF1YWxpdHksIGFzIGRldGVybWluZWQgYnkgPT09LgoJLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCWFzc2VydCQzLnN0cmljdEVxdWFsID0gc3RyaWN0RXF1YWw7CglmdW5jdGlvbiBzdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT09Jywgc3RyaWN0RXF1YWwpOwoJICB9Cgl9CgoJLy8gMTAuIFRoZSBzdHJpY3Qgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igc3RyaWN0IGluZXF1YWxpdHksIGFzCgkvLyBkZXRlcm1pbmVkIGJ5ICE9PS4gIGFzc2VydC5ub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cglhc3NlcnQkMy5ub3RTdHJpY3RFcXVhbCA9IG5vdFN0cmljdEVxdWFsOwoJZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkgewoJICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9PScsIG5vdFN0cmljdEVxdWFsKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsKCSAgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkKSB7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9CgoJICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykgewoJICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7CgkgIH0KCgkgIHRyeSB7CgkgICAgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIGV4cGVjdGVkKSB7CgkgICAgICByZXR1cm4gdHJ1ZTsKCSAgICB9CgkgIH0gY2F0Y2ggKGUpIHsKCSAgICAvLyBJZ25vcmUuICBUaGUgaW5zdGFuY2VvZiBjaGVjayBkb2Vzbid0IHdvcmsgZm9yIGFycm93IGZ1bmN0aW9ucy4KCSAgfQoKCSAgaWYgKEVycm9yLmlzUHJvdG90eXBlT2YoZXhwZWN0ZWQpKSB7CgkgICAgcmV0dXJuIGZhbHNlOwoJICB9CgoJICByZXR1cm4gZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZTsKCX0KCglmdW5jdGlvbiBfdHJ5QmxvY2soYmxvY2spIHsKCSAgdmFyIGVycm9yOwoJICB0cnkgewoJICAgIGJsb2NrKCk7CgkgIH0gY2F0Y2ggKGUpIHsKCSAgICBlcnJvciA9IGU7CgkgIH0KCSAgcmV0dXJuIGVycm9yOwoJfQoKCWZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csIGJsb2NrLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJICB2YXIgYWN0dWFsOwoKCSAgaWYgKHR5cGVvZiBibG9jayAhPT0gJ2Z1bmN0aW9uJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJyJibG9jayIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7CgkgIH0KCgkgIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnKSB7CgkgICAgbWVzc2FnZSA9IGV4cGVjdGVkOwoJICAgIGV4cGVjdGVkID0gbnVsbDsKCSAgfQoKCSAgYWN0dWFsID0gX3RyeUJsb2NrKGJsb2NrKTsKCgkgIG1lc3NhZ2UgPSAoZXhwZWN0ZWQgJiYgZXhwZWN0ZWQubmFtZSA/ICcgKCcgKyBleHBlY3RlZC5uYW1lICsgJykuJyA6ICcuJykgKwoJICAgICAgICAgICAgKG1lc3NhZ2UgPyAnICcgKyBtZXNzYWdlIDogJy4nKTsKCgkgIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7CgkgICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7CgkgIH0KCgkgIHZhciB1c2VyUHJvdmlkZWRNZXNzYWdlID0gdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnOwoJICB2YXIgaXNVbndhbnRlZEV4Y2VwdGlvbiA9ICFzaG91bGRUaHJvdyAmJiBpc0Vycm9yKGFjdHVhbCk7CgkgIHZhciBpc1VuZXhwZWN0ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmICFleHBlY3RlZDsKCgkgIGlmICgoaXNVbndhbnRlZEV4Y2VwdGlvbiAmJgoJICAgICAgdXNlclByb3ZpZGVkTWVzc2FnZSAmJgoJICAgICAgZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8CgkgICAgICBpc1VuZXhwZWN0ZWRFeGNlcHRpb24pIHsKCSAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdHb3QgdW53YW50ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpOwoJICB9CgoJICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJgoJICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHsKCSAgICB0aHJvdyBhY3R1YWw7CgkgIH0KCX0KCgkvLyAxMS4gRXhwZWN0ZWQgdG8gdGhyb3cgYW4gZXJyb3I6CgkvLyBhc3NlcnQudGhyb3dzKGJsb2NrLCBFcnJvcl9vcHQsIG1lc3NhZ2Vfb3B0KTsKCWFzc2VydCQzLnRocm93cyA9IHRocm93czsKCWZ1bmN0aW9uIHRocm93cyhibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHsKCSAgX3Rocm93cyh0cnVlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpOwoJfQoKCS8vIEVYVEVOU0lPTiEgVGhpcyBpcyBhbm5veWluZyB0byB3cml0ZSBvdXRzaWRlIHRoaXMgbW9kdWxlLgoJYXNzZXJ0JDMuZG9lc05vdFRocm93ID0gZG9lc05vdFRocm93OwoJZnVuY3Rpb24gZG9lc05vdFRocm93KGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkgewoJICBfdGhyb3dzKGZhbHNlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpOwoJfQoKCWFzc2VydCQzLmlmRXJyb3IgPSBpZkVycm9yOwoJZnVuY3Rpb24gaWZFcnJvcihlcnIpIHsKCSAgaWYgKGVycikgdGhyb3cgZXJyOwoJfQoKCXZhciBzaGEzID0ge2V4cG9ydHM6IHt9fTsKCgkoZnVuY3Rpb24gKG1vZHVsZSkgewoJLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqLwoJKGZ1bmN0aW9uICgpIHsKCgkgIHZhciBJTlBVVF9FUlJPUiA9ICdpbnB1dCBpcyBpbnZhbGlkIHR5cGUnOwoJICB2YXIgRklOQUxJWkVfRVJST1IgPSAnZmluYWxpemUgYWxyZWFkeSBjYWxsZWQnOwoJICB2YXIgV0lORE9XID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCc7CgkgIHZhciByb290ID0gV0lORE9XID8gd2luZG93IDoge307CgkgIGlmIChyb290LkpTX1NIQTNfTk9fV0lORE9XKSB7CgkgICAgV0lORE9XID0gZmFsc2U7CgkgIH0KCSAgdmFyIFdFQl9XT1JLRVIgPSAhV0lORE9XICYmIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JzsKCSAgdmFyIE5PREVfSlMgPSAhcm9vdC5KU19TSEEzX05PX05PREVfSlMgJiYgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlOwoJICBpZiAoTk9ERV9KUykgewoJICAgIHJvb3QgPSBjb21tb25qc0dsb2JhbDsKCSAgfSBlbHNlIGlmIChXRUJfV09SS0VSKSB7CgkgICAgcm9vdCA9IHNlbGY7CgkgIH0KCSAgdmFyIENPTU1PTl9KUyA9ICFyb290LkpTX1NIQTNfTk9fQ09NTU9OX0pTICYmICdvYmplY3QnID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0czsKCSAgdmFyIEFSUkFZX0JVRkZFUiA9ICFyb290LkpTX1NIQTNfTk9fQVJSQVlfQlVGRkVSICYmIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCc7CgkgIHZhciBIRVhfQ0hBUlMgPSAnMDEyMzQ1Njc4OWFiY2RlZicuc3BsaXQoJycpOwoJICB2YXIgU0hBS0VfUEFERElORyA9IFszMSwgNzkzNiwgMjAzMTYxNiwgNTIwMDkzNjk2XTsKCSAgdmFyIENTSEFLRV9QQURESU5HID0gWzQsIDEwMjQsIDI2MjE0NCwgNjcxMDg4NjRdOwoJICB2YXIgS0VDQ0FLX1BBRERJTkcgPSBbMSwgMjU2LCA2NTUzNiwgMTY3NzcyMTZdOwoJICB2YXIgUEFERElORyA9IFs2LCAxNTM2LCAzOTMyMTYsIDEwMDY2MzI5Nl07CgkgIHZhciBTSElGVCA9IFswLCA4LCAxNiwgMjRdOwoJICB2YXIgUkMgPSBbMSwgMCwgMzI4OTgsIDAsIDMyOTA2LCAyMTQ3NDgzNjQ4LCAyMTQ3NTE2NDE2LCAyMTQ3NDgzNjQ4LCAzMjkwNywgMCwgMjE0NzQ4MzY0OSwKCSAgICAwLCAyMTQ3NTE2NTQ1LCAyMTQ3NDgzNjQ4LCAzMjc3NywgMjE0NzQ4MzY0OCwgMTM4LCAwLCAxMzYsIDAsIDIxNDc1MTY0MjUsIDAsCgkgICAgMjE0NzQ4MzY1OCwgMCwgMjE0NzUxNjU1NSwgMCwgMTM5LCAyMTQ3NDgzNjQ4LCAzMjkwNSwgMjE0NzQ4MzY0OCwgMzI3NzEsCgkgICAgMjE0NzQ4MzY0OCwgMzI3NzAsIDIxNDc0ODM2NDgsIDEyOCwgMjE0NzQ4MzY0OCwgMzI3NzgsIDAsIDIxNDc0ODM2NTgsIDIxNDc0ODM2NDgsCgkgICAgMjE0NzUxNjU0NSwgMjE0NzQ4MzY0OCwgMzI4OTYsIDIxNDc0ODM2NDgsIDIxNDc0ODM2NDksIDAsIDIxNDc1MTY0MjQsIDIxNDc0ODM2NDhdOwoJICB2YXIgQklUUyA9IFsyMjQsIDI1NiwgMzg0LCA1MTJdOwoJICB2YXIgU0hBS0VfQklUUyA9IFsxMjgsIDI1Nl07CgkgIHZhciBPVVRQVVRfVFlQRVMgPSBbJ2hleCcsICdidWZmZXInLCAnYXJyYXlCdWZmZXInLCAnYXJyYXknLCAnZGlnZXN0J107CgkgIHZhciBDU0hBS0VfQllURVBBRCA9IHsKCSAgICAnMTI4JzogMTY4LAoJICAgICcyNTYnOiAxMzYKCSAgfTsKCgkgIGlmIChyb290LkpTX1NIQTNfTk9fTk9ERV9KUyB8fCAhQXJyYXkuaXNBcnJheSkgewoJICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7CgkgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7CgkgICAgfTsKCSAgfQoKCSAgaWYgKEFSUkFZX0JVRkZFUiAmJiAocm9vdC5KU19TSEEzX05PX0FSUkFZX0JVRkZFUl9JU19WSUVXIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7CgkgICAgQXJyYXlCdWZmZXIuaXNWaWV3ID0gZnVuY3Rpb24gKG9iaikgewoJICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iai5idWZmZXIgJiYgb2JqLmJ1ZmZlci5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXI7CgkgICAgfTsKCSAgfQoKCSAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nLCBvdXRwdXRUeXBlKSB7CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7CgkgICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBiaXRzKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTsKCSAgICB9OwoJICB9OwoKCSAgdmFyIGNyZWF0ZVNoYWtlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMpIHsKCSAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpOwoJICAgIH07CgkgIH07CgoJICB2YXIgY3JlYXRlQ3NoYWtlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMsIG4sIHMpIHsKCSAgICAgIHJldHVybiBtZXRob2RzWydjc2hha2UnICsgYml0c10udXBkYXRlKG1lc3NhZ2UsIG91dHB1dEJpdHMsIG4sIHMpW291dHB1dFR5cGVdKCk7CgkgICAgfTsKCSAgfTsKCgkgIHZhciBjcmVhdGVLbWFjT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgbWVzc2FnZSwgb3V0cHV0Qml0cywgcykgewoJICAgICAgcmV0dXJuIG1ldGhvZHNbJ2ttYWMnICsgYml0c10udXBkYXRlKGtleSwgbWVzc2FnZSwgb3V0cHV0Qml0cywgcylbb3V0cHV0VHlwZV0oKTsKCSAgICB9OwoJICB9OwoKCSAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZHMgPSBmdW5jdGlvbiAobWV0aG9kLCBjcmVhdGVNZXRob2QsIGJpdHMsIHBhZGRpbmcpIHsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IE9VVFBVVF9UWVBFUy5sZW5ndGg7ICsraSkgewoJICAgICAgdmFyIHR5cGUgPSBPVVRQVVRfVFlQRVNbaV07CgkgICAgICBtZXRob2RbdHlwZV0gPSBjcmVhdGVNZXRob2QoYml0cywgcGFkZGluZywgdHlwZSk7CgkgICAgfQoJICAgIHJldHVybiBtZXRob2Q7CgkgIH07CgoJICB2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcpIHsKCSAgICB2YXIgbWV0aG9kID0gY3JlYXRlT3V0cHV0TWV0aG9kKGJpdHMsIHBhZGRpbmcsICdoZXgnKTsKCSAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKCkgewoJICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgYml0cyk7CgkgICAgfTsKCSAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCSAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKCkudXBkYXRlKG1lc3NhZ2UpOwoJICAgIH07CgkgICAgcmV0dXJuIGNyZWF0ZU91dHB1dE1ldGhvZHMobWV0aG9kLCBjcmVhdGVPdXRwdXRNZXRob2QsIGJpdHMsIHBhZGRpbmcpOwoJICB9OwoKCSAgdmFyIGNyZWF0ZVNoYWtlTWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcpIHsKCSAgICB2YXIgbWV0aG9kID0gY3JlYXRlU2hha2VPdXRwdXRNZXRob2QoYml0cywgcGFkZGluZywgJ2hleCcpOwoJICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAob3V0cHV0Qml0cykgewoJICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cyk7CgkgICAgfTsKCSAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMpIHsKCSAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKG91dHB1dEJpdHMpLnVwZGF0ZShtZXNzYWdlKTsKCSAgICB9OwoJICAgIHJldHVybiBjcmVhdGVPdXRwdXRNZXRob2RzKG1ldGhvZCwgY3JlYXRlU2hha2VPdXRwdXRNZXRob2QsIGJpdHMsIHBhZGRpbmcpOwoJICB9OwoKCSAgdmFyIGNyZWF0ZUNzaGFrZU1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7CgkgICAgdmFyIHcgPSBDU0hBS0VfQllURVBBRFtiaXRzXTsKCSAgICB2YXIgbWV0aG9kID0gY3JlYXRlQ3NoYWtlT3V0cHV0TWV0aG9kKGJpdHMsIHBhZGRpbmcsICdoZXgnKTsKCSAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKG91dHB1dEJpdHMsIG4sIHMpIHsKCSAgICAgIGlmICghbiAmJiAhcykgewoJICAgICAgICByZXR1cm4gbWV0aG9kc1snc2hha2UnICsgYml0c10uY3JlYXRlKG91dHB1dEJpdHMpOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykuYnl0ZXBhZChbbiwgc10sIHcpOwoJICAgICAgfQoJICAgIH07CgkgICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKSB7CgkgICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZShvdXRwdXRCaXRzLCBuLCBzKS51cGRhdGUobWVzc2FnZSk7CgkgICAgfTsKCSAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZUNzaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7CgkgIH07CgoJICB2YXIgY3JlYXRlS21hY01ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7CgkgICAgdmFyIHcgPSBDU0hBS0VfQllURVBBRFtiaXRzXTsKCSAgICB2YXIgbWV0aG9kID0gY3JlYXRlS21hY091dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7CgkgICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uIChrZXksIG91dHB1dEJpdHMsIHMpIHsKCSAgICAgIHJldHVybiBuZXcgS21hYyhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKS5ieXRlcGFkKFsnS01BQycsIHNdLCB3KS5ieXRlcGFkKFtrZXldLCB3KTsKCSAgICB9OwoJICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKSB7CgkgICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZShrZXksIG91dHB1dEJpdHMsIHMpLnVwZGF0ZShtZXNzYWdlKTsKCSAgICB9OwoJICAgIHJldHVybiBjcmVhdGVPdXRwdXRNZXRob2RzKG1ldGhvZCwgY3JlYXRlS21hY091dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7CgkgIH07CgoJICB2YXIgYWxnb3JpdGhtcyA9IFsKCSAgICB7IG5hbWU6ICdrZWNjYWsnLCBwYWRkaW5nOiBLRUNDQUtfUEFERElORywgYml0czogQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVNZXRob2QgfSwKCSAgICB7IG5hbWU6ICdzaGEzJywgcGFkZGluZzogUEFERElORywgYml0czogQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVNZXRob2QgfSwKCSAgICB7IG5hbWU6ICdzaGFrZScsIHBhZGRpbmc6IFNIQUtFX1BBRERJTkcsIGJpdHM6IFNIQUtFX0JJVFMsIGNyZWF0ZU1ldGhvZDogY3JlYXRlU2hha2VNZXRob2QgfSwKCSAgICB7IG5hbWU6ICdjc2hha2UnLCBwYWRkaW5nOiBDU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVDc2hha2VNZXRob2QgfSwKCSAgICB7IG5hbWU6ICdrbWFjJywgcGFkZGluZzogQ1NIQUtFX1BBRERJTkcsIGJpdHM6IFNIQUtFX0JJVFMsIGNyZWF0ZU1ldGhvZDogY3JlYXRlS21hY01ldGhvZCB9CgkgIF07CgoJICB2YXIgbWV0aG9kcyA9IHt9LCBtZXRob2ROYW1lcyA9IFtdOwoKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGdvcml0aG1zLmxlbmd0aDsgKytpKSB7CgkgICAgdmFyIGFsZ29yaXRobSA9IGFsZ29yaXRobXNbaV07CgkgICAgdmFyIGJpdHMgPSBhbGdvcml0aG0uYml0czsKCSAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJpdHMubGVuZ3RoOyArK2opIHsKCSAgICAgIHZhciBtZXRob2ROYW1lID0gYWxnb3JpdGhtLm5hbWUgKyAnXycgKyBiaXRzW2pdOwoJICAgICAgbWV0aG9kTmFtZXMucHVzaChtZXRob2ROYW1lKTsKCSAgICAgIG1ldGhvZHNbbWV0aG9kTmFtZV0gPSBhbGdvcml0aG0uY3JlYXRlTWV0aG9kKGJpdHNbal0sIGFsZ29yaXRobS5wYWRkaW5nKTsKCSAgICAgIGlmIChhbGdvcml0aG0ubmFtZSAhPT0gJ3NoYTMnKSB7CgkgICAgICAgIHZhciBuZXdNZXRob2ROYW1lID0gYWxnb3JpdGhtLm5hbWUgKyBiaXRzW2pdOwoJICAgICAgICBtZXRob2ROYW1lcy5wdXNoKG5ld01ldGhvZE5hbWUpOwoJICAgICAgICBtZXRob2RzW25ld01ldGhvZE5hbWVdID0gbWV0aG9kc1ttZXRob2ROYW1lXTsKCSAgICAgIH0KCSAgICB9CgkgIH0KCgkgIGZ1bmN0aW9uIEtlY2NhayhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKSB7CgkgICAgdGhpcy5ibG9ja3MgPSBbXTsKCSAgICB0aGlzLnMgPSBbXTsKCSAgICB0aGlzLnBhZGRpbmcgPSBwYWRkaW5nOwoJICAgIHRoaXMub3V0cHV0Qml0cyA9IG91dHB1dEJpdHM7CgkgICAgdGhpcy5yZXNldCA9IHRydWU7CgkgICAgdGhpcy5maW5hbGl6ZWQgPSBmYWxzZTsKCSAgICB0aGlzLmJsb2NrID0gMDsKCSAgICB0aGlzLnN0YXJ0ID0gMDsKCSAgICB0aGlzLmJsb2NrQ291bnQgPSAoMTYwMCAtIChiaXRzIDw8IDEpKSA+PiA1OwoJICAgIHRoaXMuYnl0ZUNvdW50ID0gdGhpcy5ibG9ja0NvdW50IDw8IDI7CgkgICAgdGhpcy5vdXRwdXRCbG9ja3MgPSBvdXRwdXRCaXRzID4+IDU7CgkgICAgdGhpcy5leHRyYUJ5dGVzID0gKG91dHB1dEJpdHMgJiAzMSkgPj4gMzsKCgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgKytpKSB7CgkgICAgICB0aGlzLnNbaV0gPSAwOwoJICAgIH0KCSAgfQoKCSAgS2VjY2FrLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSkgewoJICAgIGlmICh0aGlzLmZpbmFsaXplZCkgewoJICAgICAgdGhyb3cgbmV3IEVycm9yKEZJTkFMSVpFX0VSUk9SKTsKCSAgICB9CgkgICAgdmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBtZXNzYWdlOwoJICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykgewoJICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSBudWxsKSB7CgkgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTsKCSAgICAgICAgfSBlbHNlIGlmIChBUlJBWV9CVUZGRVIgJiYgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXIpIHsKCSAgICAgICAgICBtZXNzYWdlID0gbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSk7CgkgICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpIHsKCSAgICAgICAgICBpZiAoIUFSUkFZX0JVRkZFUiB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KG1lc3NhZ2UpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTsKCSAgICAgIH0KCSAgICAgIG5vdFN0cmluZyA9IHRydWU7CgkgICAgfQoJICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgYnl0ZUNvdW50ID0gdGhpcy5ieXRlQ291bnQsIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLAoJICAgICAgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgaW5kZXggPSAwLCBzID0gdGhpcy5zLCBpLCBjb2RlOwoKCSAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHsKCSAgICAgIGlmICh0aGlzLnJlc2V0KSB7CgkgICAgICAgIHRoaXMucmVzZXQgPSBmYWxzZTsKCSAgICAgICAgYmxvY2tzWzBdID0gdGhpcy5ibG9jazsKCSAgICAgICAgZm9yIChpID0gMTsgaSA8IGJsb2NrQ291bnQgKyAxOyArK2kpIHsKCSAgICAgICAgICBibG9ja3NbaV0gPSAwOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBpZiAobm90U3RyaW5nKSB7CgkgICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCBieXRlQ291bnQ7ICsraW5kZXgpIHsKCSAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBtZXNzYWdlW2luZGV4XSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgfQoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IGJ5dGVDb3VudDsgKytpbmRleCkgewoJICAgICAgICAgIGNvZGUgPSBtZXNzYWdlLmNoYXJDb2RlQXQoaW5kZXgpOwoJICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkgewoJICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gY29kZSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkgewoJICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4YzAgfCAoY29kZSA+PiA2KSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ZDgwMCB8fCBjb2RlID49IDB4ZTAwMCkgewoJICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCAoY29kZSA+PiAxMikpIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdOwoJICAgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKG1lc3NhZ2UuY2hhckNvZGVBdCgrK2luZGV4KSAmIDB4M2ZmKSk7CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhmMCB8IChjb2RlID4+IDE4KSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTsKCSAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9CgkgICAgICB0aGlzLmxhc3RCeXRlSW5kZXggPSBpOwoJICAgICAgaWYgKGkgPj0gYnl0ZUNvdW50KSB7CgkgICAgICAgIHRoaXMuc3RhcnQgPSBpIC0gYnl0ZUNvdW50OwoJICAgICAgICB0aGlzLmJsb2NrID0gYmxvY2tzW2Jsb2NrQ291bnRdOwoJICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudDsgKytpKSB7CgkgICAgICAgICAgc1tpXSBePSBibG9ja3NbaV07CgkgICAgICAgIH0KCSAgICAgICAgZihzKTsKCSAgICAgICAgdGhpcy5yZXNldCA9IHRydWU7CgkgICAgICB9IGVsc2UgewoJICAgICAgICB0aGlzLnN0YXJ0ID0gaTsKCSAgICAgIH0KCSAgICB9CgkgICAgcmV0dXJuIHRoaXM7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICh4LCByaWdodCkgewoJICAgIHZhciBvID0geCAmIDI1NSwgbiA9IDE7CgkgICAgdmFyIGJ5dGVzID0gW29dOwoJICAgIHggPSB4ID4+IDg7CgkgICAgbyA9IHggJiAyNTU7CgkgICAgd2hpbGUgKG8gPiAwKSB7CgkgICAgICBieXRlcy51bnNoaWZ0KG8pOwoJICAgICAgeCA9IHggPj4gODsKCSAgICAgIG8gPSB4ICYgMjU1OwoJICAgICAgKytuOwoJICAgIH0KCSAgICBpZiAocmlnaHQpIHsKCSAgICAgIGJ5dGVzLnB1c2gobik7CgkgICAgfSBlbHNlIHsKCSAgICAgIGJ5dGVzLnVuc2hpZnQobik7CgkgICAgfQoJICAgIHRoaXMudXBkYXRlKGJ5dGVzKTsKCSAgICByZXR1cm4gYnl0ZXMubGVuZ3RoOwoJICB9OwoKCSAgS2VjY2FrLnByb3RvdHlwZS5lbmNvZGVTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7CgkgICAgdmFyIG5vdFN0cmluZywgdHlwZSA9IHR5cGVvZiBzdHI7CgkgICAgaWYgKHR5cGUgIT09ICdzdHJpbmcnKSB7CgkgICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHsKCSAgICAgICAgaWYgKHN0ciA9PT0gbnVsbCkgewoJICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7CgkgICAgICAgIH0gZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIHN0ci5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXIpIHsKCSAgICAgICAgICBzdHIgPSBuZXcgVWludDhBcnJheShzdHIpOwoJICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHN0cikpIHsKCSAgICAgICAgICBpZiAoIUFSUkFZX0JVRkZFUiB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KHN0cikpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpOwoJICAgICAgfQoJICAgICAgbm90U3RyaW5nID0gdHJ1ZTsKCSAgICB9CgkgICAgdmFyIGJ5dGVzID0gMCwgbGVuZ3RoID0gc3RyLmxlbmd0aDsKCSAgICBpZiAobm90U3RyaW5nKSB7CgkgICAgICBieXRlcyA9IGxlbmd0aDsKCSAgICB9IGVsc2UgewoJICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHsKCSAgICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTsKCSAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7CgkgICAgICAgICAgYnl0ZXMgKz0gMTsKCSAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHsKCSAgICAgICAgICBieXRlcyArPSAyOwoJICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHsKCSAgICAgICAgICBieXRlcyArPSAzOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4M2ZmKSk7CgkgICAgICAgICAgYnl0ZXMgKz0gNDsKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCSAgICBieXRlcyArPSB0aGlzLmVuY29kZShieXRlcyAqIDgpOwoJICAgIHRoaXMudXBkYXRlKHN0cik7CgkgICAgcmV0dXJuIGJ5dGVzOwoJICB9OwoKCSAgS2VjY2FrLnByb3RvdHlwZS5ieXRlcGFkID0gZnVuY3Rpb24gKHN0cnMsIHcpIHsKCSAgICB2YXIgYnl0ZXMgPSB0aGlzLmVuY29kZSh3KTsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cnMubGVuZ3RoOyArK2kpIHsKCSAgICAgIGJ5dGVzICs9IHRoaXMuZW5jb2RlU3RyaW5nKHN0cnNbaV0pOwoJICAgIH0KCSAgICB2YXIgcGFkZGluZ0J5dGVzID0gdyAtIGJ5dGVzICUgdzsKCSAgICB2YXIgemVyb3MgPSBbXTsKCSAgICB6ZXJvcy5sZW5ndGggPSBwYWRkaW5nQnl0ZXM7CgkgICAgdGhpcy51cGRhdGUoemVyb3MpOwoJICAgIHJldHVybiB0aGlzOwoJICB9OwoKCSAgS2VjY2FrLnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHsKCSAgICAgIHJldHVybjsKCSAgICB9CgkgICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlOwoJICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleCwgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMuczsKCSAgICBibG9ja3NbaSA+PiAyXSB8PSB0aGlzLnBhZGRpbmdbaSAmIDNdOwoJICAgIGlmICh0aGlzLmxhc3RCeXRlSW5kZXggPT09IHRoaXMuYnl0ZUNvdW50KSB7CgkgICAgICBibG9ja3NbMF0gPSBibG9ja3NbYmxvY2tDb3VudF07CgkgICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkgewoJICAgICAgICBibG9ja3NbaV0gPSAwOwoJICAgICAgfQoJICAgIH0KCSAgICBibG9ja3NbYmxvY2tDb3VudCAtIDFdIHw9IDB4ODAwMDAwMDA7CgkgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQ7ICsraSkgewoJICAgICAgc1tpXSBePSBibG9ja3NbaV07CgkgICAgfQoJICAgIGYocyk7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLnRvU3RyaW5nID0gS2VjY2FrLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbiAoKSB7CgkgICAgdGhpcy5maW5hbGl6ZSgpOwoKCSAgICB2YXIgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMucywgb3V0cHV0QmxvY2tzID0gdGhpcy5vdXRwdXRCbG9ja3MsCgkgICAgICBleHRyYUJ5dGVzID0gdGhpcy5leHRyYUJ5dGVzLCBpID0gMCwgaiA9IDA7CgkgICAgdmFyIGhleCA9ICcnLCBibG9jazsKCSAgICB3aGlsZSAoaiA8IG91dHB1dEJsb2NrcykgewoJICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQgJiYgaiA8IG91dHB1dEJsb2NrczsgKytpLCArK2opIHsKCSAgICAgICAgYmxvY2sgPSBzW2ldOwoJICAgICAgICBoZXggKz0gSEVYX0NIQVJTWyhibG9jayA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2Jsb2NrICYgMHgwRl0gKwoJICAgICAgICAgIEhFWF9DSEFSU1soYmxvY2sgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGJsb2NrID4+IDgpICYgMHgwRl0gKwoJICAgICAgICAgIEhFWF9DSEFSU1soYmxvY2sgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGJsb2NrID4+IDE2KSAmIDB4MEZdICsKCSAgICAgICAgICBIRVhfQ0hBUlNbKGJsb2NrID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiAyNCkgJiAweDBGXTsKCSAgICAgIH0KCSAgICAgIGlmIChqICUgYmxvY2tDb3VudCA9PT0gMCkgewoJICAgICAgICBmKHMpOwoJICAgICAgICBpID0gMDsKCSAgICAgIH0KCSAgICB9CgkgICAgaWYgKGV4dHJhQnl0ZXMpIHsKCSAgICAgIGJsb2NrID0gc1tpXTsKCSAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgJiAweDBGXTsKCSAgICAgIGlmIChleHRyYUJ5dGVzID4gMSkgewoJICAgICAgICBoZXggKz0gSEVYX0NIQVJTWyhibG9jayA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gOCkgJiAweDBGXTsKCSAgICAgIH0KCSAgICAgIGlmIChleHRyYUJ5dGVzID4gMikgewoJICAgICAgICBoZXggKz0gSEVYX0NIQVJTWyhibG9jayA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gMTYpICYgMHgwRl07CgkgICAgICB9CgkgICAgfQoJICAgIHJldHVybiBoZXg7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkgewoJICAgIHRoaXMuZmluYWxpemUoKTsKCgkgICAgdmFyIGJsb2NrQ291bnQgPSB0aGlzLmJsb2NrQ291bnQsIHMgPSB0aGlzLnMsIG91dHB1dEJsb2NrcyA9IHRoaXMub3V0cHV0QmxvY2tzLAoJICAgICAgZXh0cmFCeXRlcyA9IHRoaXMuZXh0cmFCeXRlcywgaSA9IDAsIGogPSAwOwoJICAgIHZhciBieXRlcyA9IHRoaXMub3V0cHV0Qml0cyA+PiAzOwoJICAgIHZhciBidWZmZXI7CgkgICAgaWYgKGV4dHJhQnl0ZXMpIHsKCSAgICAgIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigob3V0cHV0QmxvY2tzICsgMSkgPDwgMik7CgkgICAgfSBlbHNlIHsKCSAgICAgIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlcyk7CgkgICAgfQoJICAgIHZhciBhcnJheSA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpOwoJICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7CgkgICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikgewoJICAgICAgICBhcnJheVtqXSA9IHNbaV07CgkgICAgICB9CgkgICAgICBpZiAoaiAlIGJsb2NrQ291bnQgPT09IDApIHsKCSAgICAgICAgZihzKTsKCSAgICAgIH0KCSAgICB9CgkgICAgaWYgKGV4dHJhQnl0ZXMpIHsKCSAgICAgIGFycmF5W2ldID0gc1tpXTsKCSAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgwLCBieXRlcyk7CgkgICAgfQoJICAgIHJldHVybiBidWZmZXI7CgkgIH07CgoJICBLZWNjYWsucHJvdG90eXBlLmJ1ZmZlciA9IEtlY2Nhay5wcm90b3R5cGUuYXJyYXlCdWZmZXI7CgoJICBLZWNjYWsucHJvdG90eXBlLmRpZ2VzdCA9IEtlY2Nhay5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbiAoKSB7CgkgICAgdGhpcy5maW5hbGl6ZSgpOwoKCSAgICB2YXIgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMucywgb3V0cHV0QmxvY2tzID0gdGhpcy5vdXRwdXRCbG9ja3MsCgkgICAgICBleHRyYUJ5dGVzID0gdGhpcy5leHRyYUJ5dGVzLCBpID0gMCwgaiA9IDA7CgkgICAgdmFyIGFycmF5ID0gW10sIG9mZnNldCwgYmxvY2s7CgkgICAgd2hpbGUgKGogPCBvdXRwdXRCbG9ja3MpIHsKCSAgICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50ICYmIGogPCBvdXRwdXRCbG9ja3M7ICsraSwgKytqKSB7CgkgICAgICAgIG9mZnNldCA9IGogPDwgMjsKCSAgICAgICAgYmxvY2sgPSBzW2ldOwoJICAgICAgICBhcnJheVtvZmZzZXRdID0gYmxvY2sgJiAweEZGOwoJICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IChibG9jayA+PiA4KSAmIDB4RkY7CgkgICAgICAgIGFycmF5W29mZnNldCArIDJdID0gKGJsb2NrID4+IDE2KSAmIDB4RkY7CgkgICAgICAgIGFycmF5W29mZnNldCArIDNdID0gKGJsb2NrID4+IDI0KSAmIDB4RkY7CgkgICAgICB9CgkgICAgICBpZiAoaiAlIGJsb2NrQ291bnQgPT09IDApIHsKCSAgICAgICAgZihzKTsKCSAgICAgIH0KCSAgICB9CgkgICAgaWYgKGV4dHJhQnl0ZXMpIHsKCSAgICAgIG9mZnNldCA9IGogPDwgMjsKCSAgICAgIGJsb2NrID0gc1tpXTsKCSAgICAgIGFycmF5W29mZnNldF0gPSBibG9jayAmIDB4RkY7CgkgICAgICBpZiAoZXh0cmFCeXRlcyA+IDEpIHsKCSAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAoYmxvY2sgPj4gOCkgJiAweEZGOwoJICAgICAgfQoJICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAyKSB7CgkgICAgICAgIGFycmF5W29mZnNldCArIDJdID0gKGJsb2NrID4+IDE2KSAmIDB4RkY7CgkgICAgICB9CgkgICAgfQoJICAgIHJldHVybiBhcnJheTsKCSAgfTsKCgkgIGZ1bmN0aW9uIEttYWMoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykgewoJICAgIEtlY2Nhay5jYWxsKHRoaXMsIGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpOwoJICB9CgoJICBLbWFjLnByb3RvdHlwZSA9IG5ldyBLZWNjYWsoKTsKCgkgIEttYWMucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24gKCkgewoJICAgIHRoaXMuZW5jb2RlKHRoaXMub3V0cHV0Qml0cywgdHJ1ZSk7CgkgICAgcmV0dXJuIEtlY2Nhay5wcm90b3R5cGUuZmluYWxpemUuY2FsbCh0aGlzKTsKCSAgfTsKCgkgIHZhciBmID0gZnVuY3Rpb24gKHMpIHsKCSAgICB2YXIgaCwgbCwgbiwgYzAsIGMxLCBjMiwgYzMsIGM0LCBjNSwgYzYsIGM3LCBjOCwgYzksCgkgICAgICBiMCwgYjEsIGIyLCBiMywgYjQsIGI1LCBiNiwgYjcsIGI4LCBiOSwgYjEwLCBiMTEsIGIxMiwgYjEzLCBiMTQsIGIxNSwgYjE2LCBiMTcsCgkgICAgICBiMTgsIGIxOSwgYjIwLCBiMjEsIGIyMiwgYjIzLCBiMjQsIGIyNSwgYjI2LCBiMjcsIGIyOCwgYjI5LCBiMzAsIGIzMSwgYjMyLCBiMzMsCgkgICAgICBiMzQsIGIzNSwgYjM2LCBiMzcsIGIzOCwgYjM5LCBiNDAsIGI0MSwgYjQyLCBiNDMsIGI0NCwgYjQ1LCBiNDYsIGI0NywgYjQ4LCBiNDk7CgkgICAgZm9yIChuID0gMDsgbiA8IDQ4OyBuICs9IDIpIHsKCSAgICAgIGMwID0gc1swXSBeIHNbMTBdIF4gc1syMF0gXiBzWzMwXSBeIHNbNDBdOwoJICAgICAgYzEgPSBzWzFdIF4gc1sxMV0gXiBzWzIxXSBeIHNbMzFdIF4gc1s0MV07CgkgICAgICBjMiA9IHNbMl0gXiBzWzEyXSBeIHNbMjJdIF4gc1szMl0gXiBzWzQyXTsKCSAgICAgIGMzID0gc1szXSBeIHNbMTNdIF4gc1syM10gXiBzWzMzXSBeIHNbNDNdOwoJICAgICAgYzQgPSBzWzRdIF4gc1sxNF0gXiBzWzI0XSBeIHNbMzRdIF4gc1s0NF07CgkgICAgICBjNSA9IHNbNV0gXiBzWzE1XSBeIHNbMjVdIF4gc1szNV0gXiBzWzQ1XTsKCSAgICAgIGM2ID0gc1s2XSBeIHNbMTZdIF4gc1syNl0gXiBzWzM2XSBeIHNbNDZdOwoJICAgICAgYzcgPSBzWzddIF4gc1sxN10gXiBzWzI3XSBeIHNbMzddIF4gc1s0N107CgkgICAgICBjOCA9IHNbOF0gXiBzWzE4XSBeIHNbMjhdIF4gc1szOF0gXiBzWzQ4XTsKCSAgICAgIGM5ID0gc1s5XSBeIHNbMTldIF4gc1syOV0gXiBzWzM5XSBeIHNbNDldOwoKCSAgICAgIGggPSBjOCBeICgoYzIgPDwgMSkgfCAoYzMgPj4+IDMxKSk7CgkgICAgICBsID0gYzkgXiAoKGMzIDw8IDEpIHwgKGMyID4+PiAzMSkpOwoJICAgICAgc1swXSBePSBoOwoJICAgICAgc1sxXSBePSBsOwoJICAgICAgc1sxMF0gXj0gaDsKCSAgICAgIHNbMTFdIF49IGw7CgkgICAgICBzWzIwXSBePSBoOwoJICAgICAgc1syMV0gXj0gbDsKCSAgICAgIHNbMzBdIF49IGg7CgkgICAgICBzWzMxXSBePSBsOwoJICAgICAgc1s0MF0gXj0gaDsKCSAgICAgIHNbNDFdIF49IGw7CgkgICAgICBoID0gYzAgXiAoKGM0IDw8IDEpIHwgKGM1ID4+PiAzMSkpOwoJICAgICAgbCA9IGMxIF4gKChjNSA8PCAxKSB8IChjNCA+Pj4gMzEpKTsKCSAgICAgIHNbMl0gXj0gaDsKCSAgICAgIHNbM10gXj0gbDsKCSAgICAgIHNbMTJdIF49IGg7CgkgICAgICBzWzEzXSBePSBsOwoJICAgICAgc1syMl0gXj0gaDsKCSAgICAgIHNbMjNdIF49IGw7CgkgICAgICBzWzMyXSBePSBoOwoJICAgICAgc1szM10gXj0gbDsKCSAgICAgIHNbNDJdIF49IGg7CgkgICAgICBzWzQzXSBePSBsOwoJICAgICAgaCA9IGMyIF4gKChjNiA8PCAxKSB8IChjNyA+Pj4gMzEpKTsKCSAgICAgIGwgPSBjMyBeICgoYzcgPDwgMSkgfCAoYzYgPj4+IDMxKSk7CgkgICAgICBzWzRdIF49IGg7CgkgICAgICBzWzVdIF49IGw7CgkgICAgICBzWzE0XSBePSBoOwoJICAgICAgc1sxNV0gXj0gbDsKCSAgICAgIHNbMjRdIF49IGg7CgkgICAgICBzWzI1XSBePSBsOwoJICAgICAgc1szNF0gXj0gaDsKCSAgICAgIHNbMzVdIF49IGw7CgkgICAgICBzWzQ0XSBePSBoOwoJICAgICAgc1s0NV0gXj0gbDsKCSAgICAgIGggPSBjNCBeICgoYzggPDwgMSkgfCAoYzkgPj4+IDMxKSk7CgkgICAgICBsID0gYzUgXiAoKGM5IDw8IDEpIHwgKGM4ID4+PiAzMSkpOwoJICAgICAgc1s2XSBePSBoOwoJICAgICAgc1s3XSBePSBsOwoJICAgICAgc1sxNl0gXj0gaDsKCSAgICAgIHNbMTddIF49IGw7CgkgICAgICBzWzI2XSBePSBoOwoJICAgICAgc1syN10gXj0gbDsKCSAgICAgIHNbMzZdIF49IGg7CgkgICAgICBzWzM3XSBePSBsOwoJICAgICAgc1s0Nl0gXj0gaDsKCSAgICAgIHNbNDddIF49IGw7CgkgICAgICBoID0gYzYgXiAoKGMwIDw8IDEpIHwgKGMxID4+PiAzMSkpOwoJICAgICAgbCA9IGM3IF4gKChjMSA8PCAxKSB8IChjMCA+Pj4gMzEpKTsKCSAgICAgIHNbOF0gXj0gaDsKCSAgICAgIHNbOV0gXj0gbDsKCSAgICAgIHNbMThdIF49IGg7CgkgICAgICBzWzE5XSBePSBsOwoJICAgICAgc1syOF0gXj0gaDsKCSAgICAgIHNbMjldIF49IGw7CgkgICAgICBzWzM4XSBePSBoOwoJICAgICAgc1szOV0gXj0gbDsKCSAgICAgIHNbNDhdIF49IGg7CgkgICAgICBzWzQ5XSBePSBsOwoKCSAgICAgIGIwID0gc1swXTsKCSAgICAgIGIxID0gc1sxXTsKCSAgICAgIGIzMiA9IChzWzExXSA8PCA0KSB8IChzWzEwXSA+Pj4gMjgpOwoJICAgICAgYjMzID0gKHNbMTBdIDw8IDQpIHwgKHNbMTFdID4+PiAyOCk7CgkgICAgICBiMTQgPSAoc1syMF0gPDwgMykgfCAoc1syMV0gPj4+IDI5KTsKCSAgICAgIGIxNSA9IChzWzIxXSA8PCAzKSB8IChzWzIwXSA+Pj4gMjkpOwoJICAgICAgYjQ2ID0gKHNbMzFdIDw8IDkpIHwgKHNbMzBdID4+PiAyMyk7CgkgICAgICBiNDcgPSAoc1szMF0gPDwgOSkgfCAoc1szMV0gPj4+IDIzKTsKCSAgICAgIGIyOCA9IChzWzQwXSA8PCAxOCkgfCAoc1s0MV0gPj4+IDE0KTsKCSAgICAgIGIyOSA9IChzWzQxXSA8PCAxOCkgfCAoc1s0MF0gPj4+IDE0KTsKCSAgICAgIGIyMCA9IChzWzJdIDw8IDEpIHwgKHNbM10gPj4+IDMxKTsKCSAgICAgIGIyMSA9IChzWzNdIDw8IDEpIHwgKHNbMl0gPj4+IDMxKTsKCSAgICAgIGIyID0gKHNbMTNdIDw8IDEyKSB8IChzWzEyXSA+Pj4gMjApOwoJICAgICAgYjMgPSAoc1sxMl0gPDwgMTIpIHwgKHNbMTNdID4+PiAyMCk7CgkgICAgICBiMzQgPSAoc1syMl0gPDwgMTApIHwgKHNbMjNdID4+PiAyMik7CgkgICAgICBiMzUgPSAoc1syM10gPDwgMTApIHwgKHNbMjJdID4+PiAyMik7CgkgICAgICBiMTYgPSAoc1szM10gPDwgMTMpIHwgKHNbMzJdID4+PiAxOSk7CgkgICAgICBiMTcgPSAoc1szMl0gPDwgMTMpIHwgKHNbMzNdID4+PiAxOSk7CgkgICAgICBiNDggPSAoc1s0Ml0gPDwgMikgfCAoc1s0M10gPj4+IDMwKTsKCSAgICAgIGI0OSA9IChzWzQzXSA8PCAyKSB8IChzWzQyXSA+Pj4gMzApOwoJICAgICAgYjQwID0gKHNbNV0gPDwgMzApIHwgKHNbNF0gPj4+IDIpOwoJICAgICAgYjQxID0gKHNbNF0gPDwgMzApIHwgKHNbNV0gPj4+IDIpOwoJICAgICAgYjIyID0gKHNbMTRdIDw8IDYpIHwgKHNbMTVdID4+PiAyNik7CgkgICAgICBiMjMgPSAoc1sxNV0gPDwgNikgfCAoc1sxNF0gPj4+IDI2KTsKCSAgICAgIGI0ID0gKHNbMjVdIDw8IDExKSB8IChzWzI0XSA+Pj4gMjEpOwoJICAgICAgYjUgPSAoc1syNF0gPDwgMTEpIHwgKHNbMjVdID4+PiAyMSk7CgkgICAgICBiMzYgPSAoc1szNF0gPDwgMTUpIHwgKHNbMzVdID4+PiAxNyk7CgkgICAgICBiMzcgPSAoc1szNV0gPDwgMTUpIHwgKHNbMzRdID4+PiAxNyk7CgkgICAgICBiMTggPSAoc1s0NV0gPDwgMjkpIHwgKHNbNDRdID4+PiAzKTsKCSAgICAgIGIxOSA9IChzWzQ0XSA8PCAyOSkgfCAoc1s0NV0gPj4+IDMpOwoJICAgICAgYjEwID0gKHNbNl0gPDwgMjgpIHwgKHNbN10gPj4+IDQpOwoJICAgICAgYjExID0gKHNbN10gPDwgMjgpIHwgKHNbNl0gPj4+IDQpOwoJICAgICAgYjQyID0gKHNbMTddIDw8IDIzKSB8IChzWzE2XSA+Pj4gOSk7CgkgICAgICBiNDMgPSAoc1sxNl0gPDwgMjMpIHwgKHNbMTddID4+PiA5KTsKCSAgICAgIGIyNCA9IChzWzI2XSA8PCAyNSkgfCAoc1syN10gPj4+IDcpOwoJICAgICAgYjI1ID0gKHNbMjddIDw8IDI1KSB8IChzWzI2XSA+Pj4gNyk7CgkgICAgICBiNiA9IChzWzM2XSA8PCAyMSkgfCAoc1szN10gPj4+IDExKTsKCSAgICAgIGI3ID0gKHNbMzddIDw8IDIxKSB8IChzWzM2XSA+Pj4gMTEpOwoJICAgICAgYjM4ID0gKHNbNDddIDw8IDI0KSB8IChzWzQ2XSA+Pj4gOCk7CgkgICAgICBiMzkgPSAoc1s0Nl0gPDwgMjQpIHwgKHNbNDddID4+PiA4KTsKCSAgICAgIGIzMCA9IChzWzhdIDw8IDI3KSB8IChzWzldID4+PiA1KTsKCSAgICAgIGIzMSA9IChzWzldIDw8IDI3KSB8IChzWzhdID4+PiA1KTsKCSAgICAgIGIxMiA9IChzWzE4XSA8PCAyMCkgfCAoc1sxOV0gPj4+IDEyKTsKCSAgICAgIGIxMyA9IChzWzE5XSA8PCAyMCkgfCAoc1sxOF0gPj4+IDEyKTsKCSAgICAgIGI0NCA9IChzWzI5XSA8PCA3KSB8IChzWzI4XSA+Pj4gMjUpOwoJICAgICAgYjQ1ID0gKHNbMjhdIDw8IDcpIHwgKHNbMjldID4+PiAyNSk7CgkgICAgICBiMjYgPSAoc1szOF0gPDwgOCkgfCAoc1szOV0gPj4+IDI0KTsKCSAgICAgIGIyNyA9IChzWzM5XSA8PCA4KSB8IChzWzM4XSA+Pj4gMjQpOwoJICAgICAgYjggPSAoc1s0OF0gPDwgMTQpIHwgKHNbNDldID4+PiAxOCk7CgkgICAgICBiOSA9IChzWzQ5XSA8PCAxNCkgfCAoc1s0OF0gPj4+IDE4KTsKCgkgICAgICBzWzBdID0gYjAgXiAofmIyICYgYjQpOwoJICAgICAgc1sxXSA9IGIxIF4gKH5iMyAmIGI1KTsKCSAgICAgIHNbMTBdID0gYjEwIF4gKH5iMTIgJiBiMTQpOwoJICAgICAgc1sxMV0gPSBiMTEgXiAofmIxMyAmIGIxNSk7CgkgICAgICBzWzIwXSA9IGIyMCBeICh+YjIyICYgYjI0KTsKCSAgICAgIHNbMjFdID0gYjIxIF4gKH5iMjMgJiBiMjUpOwoJICAgICAgc1szMF0gPSBiMzAgXiAofmIzMiAmIGIzNCk7CgkgICAgICBzWzMxXSA9IGIzMSBeICh+YjMzICYgYjM1KTsKCSAgICAgIHNbNDBdID0gYjQwIF4gKH5iNDIgJiBiNDQpOwoJICAgICAgc1s0MV0gPSBiNDEgXiAofmI0MyAmIGI0NSk7CgkgICAgICBzWzJdID0gYjIgXiAofmI0ICYgYjYpOwoJICAgICAgc1szXSA9IGIzIF4gKH5iNSAmIGI3KTsKCSAgICAgIHNbMTJdID0gYjEyIF4gKH5iMTQgJiBiMTYpOwoJICAgICAgc1sxM10gPSBiMTMgXiAofmIxNSAmIGIxNyk7CgkgICAgICBzWzIyXSA9IGIyMiBeICh+YjI0ICYgYjI2KTsKCSAgICAgIHNbMjNdID0gYjIzIF4gKH5iMjUgJiBiMjcpOwoJICAgICAgc1szMl0gPSBiMzIgXiAofmIzNCAmIGIzNik7CgkgICAgICBzWzMzXSA9IGIzMyBeICh+YjM1ICYgYjM3KTsKCSAgICAgIHNbNDJdID0gYjQyIF4gKH5iNDQgJiBiNDYpOwoJICAgICAgc1s0M10gPSBiNDMgXiAofmI0NSAmIGI0Nyk7CgkgICAgICBzWzRdID0gYjQgXiAofmI2ICYgYjgpOwoJICAgICAgc1s1XSA9IGI1IF4gKH5iNyAmIGI5KTsKCSAgICAgIHNbMTRdID0gYjE0IF4gKH5iMTYgJiBiMTgpOwoJICAgICAgc1sxNV0gPSBiMTUgXiAofmIxNyAmIGIxOSk7CgkgICAgICBzWzI0XSA9IGIyNCBeICh+YjI2ICYgYjI4KTsKCSAgICAgIHNbMjVdID0gYjI1IF4gKH5iMjcgJiBiMjkpOwoJICAgICAgc1szNF0gPSBiMzQgXiAofmIzNiAmIGIzOCk7CgkgICAgICBzWzM1XSA9IGIzNSBeICh+YjM3ICYgYjM5KTsKCSAgICAgIHNbNDRdID0gYjQ0IF4gKH5iNDYgJiBiNDgpOwoJICAgICAgc1s0NV0gPSBiNDUgXiAofmI0NyAmIGI0OSk7CgkgICAgICBzWzZdID0gYjYgXiAofmI4ICYgYjApOwoJICAgICAgc1s3XSA9IGI3IF4gKH5iOSAmIGIxKTsKCSAgICAgIHNbMTZdID0gYjE2IF4gKH5iMTggJiBiMTApOwoJICAgICAgc1sxN10gPSBiMTcgXiAofmIxOSAmIGIxMSk7CgkgICAgICBzWzI2XSA9IGIyNiBeICh+YjI4ICYgYjIwKTsKCSAgICAgIHNbMjddID0gYjI3IF4gKH5iMjkgJiBiMjEpOwoJICAgICAgc1szNl0gPSBiMzYgXiAofmIzOCAmIGIzMCk7CgkgICAgICBzWzM3XSA9IGIzNyBeICh+YjM5ICYgYjMxKTsKCSAgICAgIHNbNDZdID0gYjQ2IF4gKH5iNDggJiBiNDApOwoJICAgICAgc1s0N10gPSBiNDcgXiAofmI0OSAmIGI0MSk7CgkgICAgICBzWzhdID0gYjggXiAofmIwICYgYjIpOwoJICAgICAgc1s5XSA9IGI5IF4gKH5iMSAmIGIzKTsKCSAgICAgIHNbMThdID0gYjE4IF4gKH5iMTAgJiBiMTIpOwoJICAgICAgc1sxOV0gPSBiMTkgXiAofmIxMSAmIGIxMyk7CgkgICAgICBzWzI4XSA9IGIyOCBeICh+YjIwICYgYjIyKTsKCSAgICAgIHNbMjldID0gYjI5IF4gKH5iMjEgJiBiMjMpOwoJICAgICAgc1szOF0gPSBiMzggXiAofmIzMCAmIGIzMik7CgkgICAgICBzWzM5XSA9IGIzOSBeICh+YjMxICYgYjMzKTsKCSAgICAgIHNbNDhdID0gYjQ4IF4gKH5iNDAgJiBiNDIpOwoJICAgICAgc1s0OV0gPSBiNDkgXiAofmI0MSAmIGI0Myk7CgoJICAgICAgc1swXSBePSBSQ1tuXTsKCSAgICAgIHNbMV0gXj0gUkNbbiArIDFdOwoJICAgIH0KCSAgfTsKCgkgIGlmIChDT01NT05fSlMpIHsKCSAgICBtb2R1bGUuZXhwb3J0cyA9IG1ldGhvZHM7CgkgIH0gZWxzZSB7CgkgICAgZm9yIChpID0gMDsgaSA8IG1ldGhvZE5hbWVzLmxlbmd0aDsgKytpKSB7CgkgICAgICByb290W21ldGhvZE5hbWVzW2ldXSA9IG1ldGhvZHNbbWV0aG9kTmFtZXNbaV1dOwoJICAgIH0KCSAgfQoJfSkoKTsKCX0oc2hhMykpOwoKCXZhciBhc3NlcnQkMiA9IGFzc2VydCQzOwoJdmFyIGtlY2NhazI1NiA9IHNoYTMuZXhwb3J0cy5rZWNjYWsyNTY7CgoJZnVuY3Rpb24gbGlicmFyeUhhc2hQbGFjZWhvbGRlciAoaW5wdXQpIHsKCSAgcmV0dXJuICckJyArIGtlY2NhazI1NihpbnB1dCkuc2xpY2UoMCwgMzQpICsgJyQnOwoJfQoKCXZhciBsaW5rQnl0ZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZWNvZGUsIGxpYnJhcmllcykgewoJICBhc3NlcnQkMih0eXBlb2YgYnl0ZWNvZGUgPT09ICdzdHJpbmcnKTsKCSAgYXNzZXJ0JDIodHlwZW9mIGxpYnJhcmllcyA9PT0gJ29iamVjdCcpOwoJICAvLyBOT1RFOiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc3VwcG9ydCBvbGQgY29tcGlsZXIgd2hpY2ggZGlkbid0IHVzZSBmaWxlIG5hbWVzCgkgIHZhciBsaWJyYXJpZXNDb21wbGV0ZSA9IHt9OwoJICBmb3IgKHZhciBsaWJyYXJ5TmFtZSBpbiBsaWJyYXJpZXMpIHsKCSAgICBpZiAodHlwZW9mIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0gPT09ICdvYmplY3QnKSB7CgkgICAgICAvLyBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBzdGFuZGFyZCBKU09OIGkvbwoJICAgICAgZm9yICh2YXIgbGliIGluIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0pIHsKCSAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGliXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV1bbGliXTsKCSAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGlicmFyeU5hbWUgKyAnOicgKyBsaWJdID0gbGlicmFyaWVzW2xpYnJhcnlOYW1lXVtsaWJdOwoJICAgICAgfQoJICAgIH0gZWxzZSB7CgkgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSBBUEkgZm9yIGVhcmx5IHNvbGMtanMgdmVyc2lvbnMKCSAgICAgIHZhciBwYXJzZWQgPSBsaWJyYXJ5TmFtZS5tYXRjaCgvXihbXjpdKyk6KC4rKSQvKTsKCSAgICAgIGlmIChwYXJzZWQpIHsKCSAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbcGFyc2VkWzJdXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV07CgkgICAgICB9CgkgICAgICBsaWJyYXJpZXNDb21wbGV0ZVtsaWJyYXJ5TmFtZV0gPSBsaWJyYXJpZXNbbGlicmFyeU5hbWVdOwoJICAgIH0KCSAgfQoKCSAgZm9yIChsaWJyYXJ5TmFtZSBpbiBsaWJyYXJpZXNDb21wbGV0ZSkgewoJICAgIHZhciBoZXhBZGRyZXNzID0gbGlicmFyaWVzQ29tcGxldGVbbGlicmFyeU5hbWVdOwoJICAgIGlmIChoZXhBZGRyZXNzLnNsaWNlKDAsIDIpICE9PSAnMHgnIHx8IGhleEFkZHJlc3MubGVuZ3RoID4gNDIpIHsKCSAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzIHNwZWNpZmllZCBmb3IgJyArIGxpYnJhcnlOYW1lKTsKCSAgICB9CgkgICAgLy8gcmVtb3ZlIDB4IHByZWZpeAoJICAgIGhleEFkZHJlc3MgPSBoZXhBZGRyZXNzLnNsaWNlKDIpOwoJICAgIGhleEFkZHJlc3MgPSBBcnJheSg0MCAtIGhleEFkZHJlc3MubGVuZ3RoICsgMSkuam9pbignMCcpICsgaGV4QWRkcmVzczsKCgkgICAgLy8gU3VwcG9ydCBvbGQgKGxpYnJhcnkgbmFtZSkgYW5kIG5ldyAoaGFzaCBvZiBsaWJyYXJ5IG5hbWUpCgkgICAgLy8gcGxhY2Vob2xkZXJzLgoJICAgIHZhciByZXBsYWNlID0gZnVuY3Rpb24gKG5hbWUpIHsKCSAgICAgIC8vIHRydW5jYXRlIHRvIDM3IGNoYXJhY3RlcnMKCSAgICAgIHZhciB0cnVuY2F0ZWROYW1lID0gbmFtZS5zbGljZSgwLCAzNik7CgkgICAgICB2YXIgbGliTGFiZWwgPSAnX18nICsgdHJ1bmNhdGVkTmFtZSArIEFycmF5KDM3IC0gdHJ1bmNhdGVkTmFtZS5sZW5ndGgpLmpvaW4oJ18nKSArICdfXyc7CgkgICAgICB3aGlsZSAoYnl0ZWNvZGUuaW5kZXhPZihsaWJMYWJlbCkgPj0gMCkgewoJICAgICAgICBieXRlY29kZSA9IGJ5dGVjb2RlLnJlcGxhY2UobGliTGFiZWwsIGhleEFkZHJlc3MpOwoJICAgICAgfQoJICAgIH07CgoJICAgIHJlcGxhY2UobGlicmFyeU5hbWUpOwoJICAgIHJlcGxhY2UobGlicmFyeUhhc2hQbGFjZWhvbGRlcihsaWJyYXJ5TmFtZSkpOwoJICB9CgoJICByZXR1cm4gYnl0ZWNvZGU7Cgl9OwoKCXZhciBmaW5kTGlua1JlZmVyZW5jZXMgPSBmdW5jdGlvbiAoYnl0ZWNvZGUpIHsKCSAgYXNzZXJ0JDIodHlwZW9mIGJ5dGVjb2RlID09PSAnc3RyaW5nJyk7CgkgIC8vIGZpbmQgNDAgYnl0ZXMgaW4gdGhlIHBhdHRlcm4gb2YgX18uLi48MzYgZGlnaXRzPi4uLl9fCgkgIC8vIGUuZy4gX19MaWIuc29sOkxfX19fX19fX19fX19fX19fX19fX19fX19fX19fXwoJICB2YXIgbGlua1JlZmVyZW5jZXMgPSB7fTsKCSAgdmFyIG9mZnNldCA9IDA7CgkgIHdoaWxlICh0cnVlKSB7CgkgICAgdmFyIGZvdW5kID0gYnl0ZWNvZGUubWF0Y2goL19fKC57MzZ9KV9fLyk7CgkgICAgaWYgKCFmb3VuZCkgewoJICAgICAgYnJlYWs7CgkgICAgfQoKCSAgICB2YXIgc3RhcnQgPSBmb3VuZC5pbmRleDsKCSAgICAvLyB0cmltIHRyYWlsaW5nIHVuZGVyc2NvcmVzCgkgICAgLy8gTk9URTogdGhpcyBoYXMgbm8gd2F5IG9mIGtub3dpbmcgaWYgdGhlIHRyYWlsaW5nIHVuZGVyc2NvcmUgd2FzIHBhcnQgb2YgdGhlIG5hbWUKCSAgICB2YXIgbGlicmFyeU5hbWUgPSBmb3VuZFsxXS5yZXBsYWNlKC9fKyQvZ20sICcnKTsKCgkgICAgaWYgKCFsaW5rUmVmZXJlbmNlc1tsaWJyYXJ5TmFtZV0pIHsKCSAgICAgIGxpbmtSZWZlcmVuY2VzW2xpYnJhcnlOYW1lXSA9IFtdOwoJICAgIH0KCgkgICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdLnB1c2goewoJICAgICAgLy8gb2Zmc2V0cyBhcmUgaW4gYnl0ZXMgaW4gYmluYXJ5IHJlcHJlc2VudGF0aW9uIChhbmQgbm90IGhleCkKCSAgICAgIHN0YXJ0OiAob2Zmc2V0ICsgc3RhcnQpIC8gMiwKCSAgICAgIGxlbmd0aDogMjAKCSAgICB9KTsKCgkgICAgb2Zmc2V0ICs9IHN0YXJ0ICsgMjA7CgoJICAgIGJ5dGVjb2RlID0gYnl0ZWNvZGUuc2xpY2Uoc3RhcnQgKyAyMCk7CgkgIH0KCSAgcmV0dXJuIGxpbmtSZWZlcmVuY2VzOwoJfTsKCgl2YXIgbGlua2VyJDEgPSB7CgkgIGxpbmtCeXRlY29kZTogbGlua0J5dGVjb2RlLAoJICBmaW5kTGlua1JlZmVyZW5jZXM6IGZpbmRMaW5rUmVmZXJlbmNlcwoJfTsKCgl2YXIgbGlua2VyID0gbGlua2VyJDE7CgoJLy8vIFRyYW5zbGF0ZSBvbGQgc3R5bGUgdmVyc2lvbiBudW1iZXJzIHRvIHNlbXZlci4KCS8vLyBPbGQgc3R5bGU6IDAuMy42LTNmYzY4ZGE1L1JlbGVhc2UtRW1zY3JpcHRlbi9jbGFuZwoJLy8vICAgICAgICAgICAgMC4zLjUtMzcxNjkwZjAvUmVsZWFzZS1FbXNjcmlwdGVuL2NsYW5nL0ludGVycHJldGVyCgkvLy8gICAgICAgICAgICAwLjMuNS0wL1JlbGVhc2UtRW1zY3JpcHRlbi9jbGFuZy9JbnRlcnByZXRlcgoJLy8vICAgICAgICAgICAgMC4yLjAtZTcwOTg5NTgvLi1FbXNjcmlwdGVuL2NsYW5nL2ludCBsaW5rZWQgdG8gbGliZXRoZXJldW0tMS4xLjEtYmJiODBhYjAvLi1FbXNjcmlwdGVuL2NsYW5nL2ludAoJLy8vICAgICAgICAgICAgMC4xLjMtMC8uLS9jbGFuZy9pbnQgbGlua2VkIHRvIGxpYmV0aGVyZXVtLTAuOS45Mi0wLy4tL2NsYW5nL2ludAoJLy8vICAgICAgICAgICAgMC4xLjItNWMzYmZkNGIqLy4tL2NsYW5nL2ludAoJLy8vICAgICAgICAgICAgMC4xLjEtNmZmNGNkNmIvUmVsV2l0aERlYkluZm8tRW1zY3JpcHRlbi9jbGFuZy9pbnQKCS8vLyBOZXcgc3R5bGU6IDAuNC41K2NvbW1pdC5iMzE4MzY2ZS5FbXNjcmlwdGVuLmNsYW5nCglmdW5jdGlvbiB2ZXJzaW9uVG9TZW12ZXIgKHZlcnNpb24pIHsKCSAgLy8gRklYTUU6IHBhcnNlIG1vcmUgZGV0YWlsLCBidXQgdGhpcyBpcyBhIGdvb2Qgc3RhcnQKCSAgdmFyIHBhcnNlZCA9IHZlcnNpb24ubWF0Y2goL14oWzAtOV0rXC5bMC05XStcLlswLTldKyktKFswLTlhLWZdezh9KVsvKl0uKiQvKTsKCSAgaWYgKHBhcnNlZCkgewoJICAgIHJldHVybiBwYXJzZWRbMV0gKyAnK2NvbW1pdC4nICsgcGFyc2VkWzJdOwoJICB9CgkgIGlmICh2ZXJzaW9uLmluZGV4T2YoJzAuMS4zLTAnKSAhPT0gLTEpIHsKCSAgICByZXR1cm4gJzAuMS4zJzsKCSAgfQoJICBpZiAodmVyc2lvbi5pbmRleE9mKCcwLjMuNS0wJykgIT09IC0xKSB7CgkgICAgcmV0dXJuICcwLjMuNSc7CgkgIH0KCSAgLy8gYXNzdW1lIGl0IGlzIGFscmVhZHkgc2VtdmVyIGNvbXBhdGlibGUKCSAgcmV0dXJuIHZlcnNpb247Cgl9CgoJZnVuY3Rpb24gdHJhbnNsYXRlRXJyb3JzIChyZXQsIGVycm9ycykgewoJICBmb3IgKHZhciBlcnJvciBpbiBlcnJvcnMpIHsKCSAgICB2YXIgdHlwZSA9ICdlcnJvcic7CgkgICAgdmFyIGV4dHJhY3RUeXBlID0gL14oLiopOihcZCspOihcZCspOiguKik6LzsKCSAgICBleHRyYWN0VHlwZSA9IGV4dHJhY3RUeXBlLmV4ZWMoZXJyb3JzW2Vycm9yXSk7CgkgICAgaWYgKGV4dHJhY3RUeXBlKSB7CgkgICAgICB0eXBlID0gZXh0cmFjdFR5cGVbNF0udHJpbSgpOwoJICAgIH0gZWxzZSBpZiAoZXJyb3JzW2Vycm9yXS5pbmRleE9mKCc6IFdhcm5pbmc6JykpIHsKCSAgICAgIHR5cGUgPSAnV2FybmluZyc7CgkgICAgfSBlbHNlIGlmIChlcnJvcnNbZXJyb3JdLmluZGV4T2YoJzogRXJyb3I6JykpIHsKCSAgICAgIHR5cGUgPSAnRXJyb3InOwoJICAgIH0KCSAgICByZXQucHVzaCh7CgkgICAgICB0eXBlOiB0eXBlLAoJICAgICAgY29tcG9uZW50OiAnZ2VuZXJhbCcsCgkgICAgICBzZXZlcml0eTogKHR5cGUgPT09ICdXYXJuaW5nJykgPyAnd2FybmluZycgOiAnZXJyb3InLAoJICAgICAgbWVzc2FnZTogZXJyb3JzW2Vycm9yXSwKCSAgICAgIGZvcm1hdHRlZE1lc3NhZ2U6IGVycm9yc1tlcnJvcl0KCSAgICB9KTsKCSAgfQoJfQoKCWZ1bmN0aW9uIHRyYW5zbGF0ZUdhc0VzdGltYXRlcyAoZ2FzRXN0aW1hdGVzKSB7CgkgIGlmIChnYXNFc3RpbWF0ZXMgPT09IG51bGwpIHsKCSAgICByZXR1cm4gJ2luZmluaXRlJzsKCSAgfQoKCSAgaWYgKHR5cGVvZiBnYXNFc3RpbWF0ZXMgPT09ICdudW1iZXInKSB7CgkgICAgcmV0dXJuIGdhc0VzdGltYXRlcy50b1N0cmluZygpOwoJICB9CgoJICB2YXIgZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZCA9IHt9OwoJICBmb3IgKHZhciBmdW5jIGluIGdhc0VzdGltYXRlcykgewoJICAgIGdhc0VzdGltYXRlc1RyYW5zbGF0ZWRbZnVuY10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzW2Z1bmNdKTsKCSAgfQoJICByZXR1cm4gZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZDsKCX0KCglmdW5jdGlvbiB0cmFuc2xhdGVKc29uQ29tcGlsZXJPdXRwdXQgKG91dHB1dCwgbGlicmFyaWVzKSB7CgkgIHZhciByZXQgPSB7fTsKCgkgIHJldFsnZXJyb3JzJ10gPSBbXTsKCSAgdmFyIGVycm9yczsKCSAgaWYgKG91dHB1dFsnZXJyb3InXSkgewoJICAgIGVycm9ycyA9IFsgb3V0cHV0WydlcnJvciddIF07CgkgIH0gZWxzZSB7CgkgICAgZXJyb3JzID0gb3V0cHV0WydlcnJvcnMnXTsKCSAgfQoJICB0cmFuc2xhdGVFcnJvcnMocmV0WydlcnJvcnMnXSwgZXJyb3JzKTsKCgkgIHJldFsnY29udHJhY3RzJ10gPSB7fTsKCSAgZm9yICh2YXIgY29udHJhY3QgaW4gb3V0cHV0Wydjb250cmFjdHMnXSkgewoJICAgIC8vIFNwbGl0IG5hbWUgZmlyc3QsIGNhbiBiZSBgY29udHJhY3RgLCBgOmNvbnRyYWN0YCBvciBgZmlsZW5hbWU6Y29udHJhY3RgCgkgICAgdmFyIHRtcCA9IGNvbnRyYWN0Lm1hdGNoKC9eKChbXjpdKik6KT8oW146XSspJC8pOwoJICAgIGlmICh0bXAubGVuZ3RoICE9PSA0KSB7CgkgICAgICAvLyBGb3JjZSBhYm9ydAoJICAgICAgcmV0dXJuIG51bGw7CgkgICAgfQoJICAgIHZhciBmaWxlTmFtZSA9IHRtcFsyXTsKCSAgICBpZiAoZmlsZU5hbWUgPT09IHVuZGVmaW5lZCkgewoJICAgICAgLy8gdGhpcyBpcyB0aGUgY2FzZSBvZiBgY29udHJhY3RgCgkgICAgICBmaWxlTmFtZSA9ICcnOwoJICAgIH0KCSAgICB2YXIgY29udHJhY3ROYW1lID0gdG1wWzNdOwoKCSAgICB2YXIgY29udHJhY3RJbnB1dCA9IG91dHB1dFsnY29udHJhY3RzJ11bY29udHJhY3RdOwoKCSAgICB2YXIgZ2FzRXN0aW1hdGVzID0gY29udHJhY3RJbnB1dFsnZ2FzRXN0aW1hdGVzJ107CgkgICAgdmFyIHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXMgPSB7fTsKCgkgICAgaWYgKGdhc0VzdGltYXRlc1snY3JlYXRpb24nXSkgewoJICAgICAgdHJhbnNsYXRlZEdhc0VzdGltYXRlc1snY3JlYXRpb24nXSA9IHsKCSAgICAgICAgJ2NvZGVEZXBvc2l0Q29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMV0pLAoJICAgICAgICAnZXhlY3V0aW9uQ29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMF0pCgkgICAgICB9OwoJICAgIH0KCSAgICBpZiAoZ2FzRXN0aW1hdGVzWydpbnRlcm5hbCddKSB7CgkgICAgICB0cmFuc2xhdGVkR2FzRXN0aW1hdGVzWydpbnRlcm5hbCddID0gdHJhbnNsYXRlR2FzRXN0aW1hdGVzKGdhc0VzdGltYXRlc1snaW50ZXJuYWwnXSk7CgkgICAgfQoJICAgIGlmIChnYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10pIHsKCSAgICAgIHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzWydleHRlcm5hbCddKTsKCSAgICB9CgoJICAgIHZhciBjb250cmFjdE91dHB1dCA9IHsKCSAgICAgICdhYmknOiBKU09OLnBhcnNlKGNvbnRyYWN0SW5wdXRbJ2ludGVyZmFjZSddKSwKCSAgICAgICdtZXRhZGF0YSc6IGNvbnRyYWN0SW5wdXRbJ21ldGFkYXRhJ10sCgkgICAgICAnZXZtJzogewoJICAgICAgICAnbGVnYWN5QXNzZW1ibHknOiBjb250cmFjdElucHV0Wydhc3NlbWJseSddLAoJICAgICAgICAnYnl0ZWNvZGUnOiB7CgkgICAgICAgICAgJ29iamVjdCc6IGNvbnRyYWN0SW5wdXRbJ2J5dGVjb2RlJ10gJiYgbGlua2VyLmxpbmtCeXRlY29kZShjb250cmFjdElucHV0WydieXRlY29kZSddLCBsaWJyYXJpZXMgfHwge30pLAoJICAgICAgICAgICdvcGNvZGVzJzogY29udHJhY3RJbnB1dFsnb3Bjb2RlcyddLAoJICAgICAgICAgICdzb3VyY2VNYXAnOiBjb250cmFjdElucHV0WydzcmNtYXAnXSwKCSAgICAgICAgICAnbGlua1JlZmVyZW5jZXMnOiBjb250cmFjdElucHV0WydieXRlY29kZSddICYmIGxpbmtlci5maW5kTGlua1JlZmVyZW5jZXMoY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSkKCSAgICAgICAgfSwKCSAgICAgICAgJ2RlcGxveWVkQnl0ZWNvZGUnOiB7CgkgICAgICAgICAgJ29iamVjdCc6IGNvbnRyYWN0SW5wdXRbJ3J1bnRpbWVCeXRlY29kZSddICYmIGxpbmtlci5saW5rQnl0ZWNvZGUoY29udHJhY3RJbnB1dFsncnVudGltZUJ5dGVjb2RlJ10sIGxpYnJhcmllcyB8fCB7fSksCgkgICAgICAgICAgJ3NvdXJjZU1hcCc6IGNvbnRyYWN0SW5wdXRbJ3NyY21hcFJ1bnRpbWUnXSwKCSAgICAgICAgICAnbGlua1JlZmVyZW5jZXMnOiBjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSAmJiBsaW5rZXIuZmluZExpbmtSZWZlcmVuY2VzKGNvbnRyYWN0SW5wdXRbJ3J1bnRpbWVCeXRlY29kZSddKQoJICAgICAgICB9LAoJICAgICAgICAnbWV0aG9kSWRlbnRpZmllcnMnOiBjb250cmFjdElucHV0WydmdW5jdGlvbkhhc2hlcyddLAoJICAgICAgICAnZ2FzRXN0aW1hdGVzJzogdHJhbnNsYXRlZEdhc0VzdGltYXRlcwoJICAgICAgfQoJICAgIH07CgoJICAgIGlmICghcmV0Wydjb250cmFjdHMnXVtmaWxlTmFtZV0pIHsKCSAgICAgIHJldFsnY29udHJhY3RzJ11bZmlsZU5hbWVdID0ge307CgkgICAgfQoKCSAgICByZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXVtjb250cmFjdE5hbWVdID0gY29udHJhY3RPdXRwdXQ7CgkgIH0KCgkgIHZhciBzb3VyY2VNYXAgPSB7fTsKCSAgZm9yICh2YXIgc291cmNlSWQgaW4gb3V0cHV0Wydzb3VyY2VMaXN0J10pIHsKCSAgICBzb3VyY2VNYXBbb3V0cHV0Wydzb3VyY2VMaXN0J11bc291cmNlSWRdXSA9IHNvdXJjZUlkOwoJICB9CgoJICByZXRbJ3NvdXJjZXMnXSA9IHt9OwoJICBmb3IgKHZhciBzb3VyY2UgaW4gb3V0cHV0Wydzb3VyY2VzJ10pIHsKCSAgICByZXRbJ3NvdXJjZXMnXVtzb3VyY2VdID0gewoJICAgICAgaWQ6IHNvdXJjZU1hcFtzb3VyY2VdLAoJICAgICAgbGVnYWN5QVNUOiBvdXRwdXRbJ3NvdXJjZXMnXVtzb3VyY2VdLkFTVAoJICAgIH07CgkgIH0KCgkgIHJldHVybiByZXQ7Cgl9CgoJZnVuY3Rpb24gZXNjYXBlU3RyaW5nICh0ZXh0KSB7CgkgIHJldHVybiB0ZXh0CgkgICAgLnJlcGxhY2UoL1xuL2csICdcXG4nKQoJICAgIC5yZXBsYWNlKC9cci9nLCAnXFxyJykKCSAgICAucmVwbGFjZSgvXHQvZywgJ1xcdCcpOwoJfQoKCS8vICdhc20nIGNhbiBiZSBhbiBvYmplY3Qgb3IgYSBzdHJpbmcKCWZ1bmN0aW9uIGZvcm1hdEFzc2VtYmx5VGV4dCAoYXNtLCBwcmVmaXgsIHNvdXJjZSkgewoJICBpZiAodHlwZW9mIGFzbSA9PT0gJ3N0cmluZycgfHwgYXNtID09PSBudWxsIHx8IGFzbSA9PT0gdW5kZWZpbmVkKSB7CgkgICAgcmV0dXJuIHByZWZpeCArIChhc20gfHwgJycpICsgJ1xuJzsKCSAgfQoJICB2YXIgdGV4dCA9IHByZWZpeCArICcuY29kZVxuJzsKCSAgYXNtWycuY29kZSddLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKCSAgICB2YXIgdiA9IGl0ZW0udmFsdWUgPT09IHVuZGVmaW5lZCA/ICcnIDogaXRlbS52YWx1ZTsKCSAgICB2YXIgc3JjID0gJyc7CgkgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0uYmVnaW4gIT09IHVuZGVmaW5lZCAmJiBpdGVtLmVuZCAhPT0gdW5kZWZpbmVkKSB7CgkgICAgICBzcmMgPSBlc2NhcGVTdHJpbmcoc291cmNlLnNsaWNlKGl0ZW0uYmVnaW4sIGl0ZW0uZW5kKSk7CgkgICAgfQoJICAgIGlmIChzcmMubGVuZ3RoID4gMzApIHsKCSAgICAgIHNyYyA9IHNyYy5zbGljZSgwLCAzMCkgKyAnLi4uJzsKCSAgICB9CgkgICAgaWYgKGl0ZW0ubmFtZSAhPT0gJ3RhZycpIHsKCSAgICAgIHRleHQgKz0gJyAgJzsKCSAgICB9CgkgICAgdGV4dCArPSBwcmVmaXggKyBpdGVtLm5hbWUgKyAnICcgKyB2ICsgJ1x0XHRcdCcgKyBzcmMgKyAnXG4nOwoJICB9KTsKCSAgdGV4dCArPSBwcmVmaXggKyAnLmRhdGFcbic7CgkgIHZhciBhc21EYXRhID0gYXNtWycuZGF0YSddIHx8IFtdOwoJICBmb3IgKHZhciBpIGluIGFzbURhdGEpIHsKCSAgICB2YXIgaXRlbSA9IGFzbURhdGFbaV07CgkgICAgdGV4dCArPSAnICAnICsgcHJlZml4ICsgJycgKyBpICsgJzpcbic7CgkgICAgdGV4dCArPSBmb3JtYXRBc3NlbWJseVRleHQoaXRlbSwgcHJlZml4ICsgJyAgICAnLCBzb3VyY2UpOwoJICB9CgkgIHJldHVybiB0ZXh0OwoJfQoKCWZ1bmN0aW9uIHByZXR0eVByaW50TGVnYWN5QXNzZW1ibHlKU09OIChhc3NlbWJseSwgc291cmNlKSB7CgkgIHJldHVybiBmb3JtYXRBc3NlbWJseVRleHQoYXNzZW1ibHksICcnLCBzb3VyY2UpOwoJfQoKCXZhciB0cmFuc2xhdGUkMSA9IHsKCSAgdmVyc2lvblRvU2VtdmVyOiB2ZXJzaW9uVG9TZW12ZXIsCgkgIHRyYW5zbGF0ZUpzb25Db21waWxlck91dHB1dDogdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0LAoJICBwcmV0dHlQcmludExlZ2FjeUFzc2VtYmx5SlNPTjogcHJldHR5UHJpbnRMZWdhY3lBc3NlbWJseUpTT04KCX07CgoJdmFyIHJlcXVpcmVGcm9tU3RyaW5nJDEgPSB7ZXhwb3J0czoge319OwoKCXZhciByZXF1aXJlJCQwJDEgPSB7fTsKCgkvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy4KCS8vCgkvLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQoJLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZQoJLy8gIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwoJLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLAoJLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdAoJLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlCgkvLyBmb2xsb3dpbmcgY29uZGl0aW9uczoKCS8vCgkvLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZAoJLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgkvLwoJLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MKCS8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKCS8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4KCS8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLAoJLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SCgkvLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFCgkvLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKCS8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZQoJLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlwpIGluIHRoZSBhcnJheQoJLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoCgkvLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpCglmdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHsKCSAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDAKCSAgdmFyIHVwID0gMDsKCSAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CgkgICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTsKCSAgICBpZiAobGFzdCA9PT0gJy4nKSB7CgkgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7CgkgICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7CgkgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7CgkgICAgICB1cCsrOwoJICAgIH0gZWxzZSBpZiAodXApIHsKCSAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKCSAgICAgIHVwLS07CgkgICAgfQoJICB9CgoJICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zCgkgIGlmIChhbGxvd0Fib3ZlUm9vdCkgewoJICAgIGZvciAoOyB1cC0tOyB1cCkgewoJICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTsKCSAgICB9CgkgIH0KCgkgIHJldHVybiBwYXJ0czsKCX0KCgkvLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvbgoJLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy4KCXZhciBzcGxpdFBhdGhSZSA9CgkgICAgL14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvOwoJdmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7CgkgIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTsKCX07CgoJLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKQoJLy8gcG9zaXggdmVyc2lvbgoJZnVuY3Rpb24gcmVzb2x2ZSgpIHsKCSAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLAoJICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlOwoKCSAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHsKCSAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogJy8nOwoKCSAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXMKCSAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpOwoJICAgIH0gZWxzZSBpZiAoIXBhdGgpIHsKCSAgICAgIGNvbnRpbnVlOwoJICAgIH0KCgkgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDsKCSAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJzsKCSAgfQoKCSAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dAoJICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscykKCgkgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aAoJICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHsKCSAgICByZXR1cm4gISFwOwoJICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTsKCgkgIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJzsKCX0KCS8vIHBhdGgubm9ybWFsaXplKHBhdGgpCgkvLyBwb3NpeCB2ZXJzaW9uCglmdW5jdGlvbiBub3JtYWxpemUocGF0aCkgewoJICB2YXIgaXNQYXRoQWJzb2x1dGUgPSBpc0Fic29sdXRlKHBhdGgpLAoJICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJzsKCgkgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aAoJICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkgewoJICAgIHJldHVybiAhIXA7CgkgIH0pLCAhaXNQYXRoQWJzb2x1dGUpLmpvaW4oJy8nKTsKCgkgIGlmICghcGF0aCAmJiAhaXNQYXRoQWJzb2x1dGUpIHsKCSAgICBwYXRoID0gJy4nOwoJICB9CgkgIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHsKCSAgICBwYXRoICs9ICcvJzsKCSAgfQoKCSAgcmV0dXJuIChpc1BhdGhBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7Cgl9CgkvLyBwb3NpeCB2ZXJzaW9uCglmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHsKCSAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7Cgl9CgoJLy8gcG9zaXggdmVyc2lvbgoJZnVuY3Rpb24gam9pbigpIHsKCSAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKCSAgcmV0dXJuIG5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7CgkgICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykgewoJICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTsKCSAgICB9CgkgICAgcmV0dXJuIHA7CgkgIH0pLmpvaW4oJy8nKSk7Cgl9CgoKCS8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pCgkvLyBwb3NpeCB2ZXJzaW9uCglmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykgewoJICBmcm9tID0gcmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7CgkgIHRvID0gcmVzb2x2ZSh0bykuc3Vic3RyKDEpOwoKCSAgZnVuY3Rpb24gdHJpbShhcnIpIHsKCSAgICB2YXIgc3RhcnQgPSAwOwoJICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHsKCSAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7CgkgICAgfQoKCSAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7CgkgICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkgewoJICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7CgkgICAgfQoKCSAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTsKCSAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpOwoJICB9CgoJICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpOwoJICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7CgoJICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpOwoJICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoOwoJICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CgkgICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkgewoJICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTsKCSAgICAgIGJyZWFrOwoJICAgIH0KCSAgfQoKCSAgdmFyIG91dHB1dFBhcnRzID0gW107CgkgIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHsKCSAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpOwoJICB9CgoJICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpOwoKCSAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTsKCX0KCgl2YXIgc2VwID0gJy8nOwoJdmFyIGRlbGltaXRlciA9ICc6JzsKCglmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHsKCSAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSwKCSAgICAgIHJvb3QgPSByZXN1bHRbMF0sCgkgICAgICBkaXIgPSByZXN1bHRbMV07CgoJICBpZiAoIXJvb3QgJiYgIWRpcikgewoJICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlcgoJICAgIHJldHVybiAnLic7CgkgIH0KCgkgIGlmIChkaXIpIHsKCSAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaAoJICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpOwoJICB9CgoJICByZXR1cm4gcm9vdCArIGRpcjsKCX0KCglmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHsKCSAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07CgkgIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz8KCSAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHsKCSAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTsKCSAgfQoJICByZXR1cm4gZjsKCX0KCgoJZnVuY3Rpb24gZXh0bmFtZShwYXRoKSB7CgkgIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107Cgl9Cgl2YXIgcmVxdWlyZSQkMSA9IHsKCSAgZXh0bmFtZTogZXh0bmFtZSwKCSAgYmFzZW5hbWU6IGJhc2VuYW1lLAoJICBkaXJuYW1lOiBkaXJuYW1lLAoJICBzZXA6IHNlcCwKCSAgZGVsaW1pdGVyOiBkZWxpbWl0ZXIsCgkgIHJlbGF0aXZlOiByZWxhdGl2ZSwKCSAgam9pbjogam9pbiwKCSAgaXNBYnNvbHV0ZTogaXNBYnNvbHV0ZSwKCSAgbm9ybWFsaXplOiBub3JtYWxpemUsCgkgIHJlc29sdmU6IHJlc29sdmUKCX07CglmdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7CgkgICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTsKCSAgICB2YXIgcmVzID0gW107CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewoJICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7CgkgICAgfQoJICAgIHJldHVybiByZXM7Cgl9CgoJLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOAoJdmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InID8KCSAgICBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH0gOgoJICAgIGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsKCSAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7CgkgICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pOwoJICAgIH0KCTsKCgkoZnVuY3Rpb24gKG1vZHVsZSkgewoKCXZhciBNb2R1bGUgPSByZXF1aXJlJCQwJDE7Cgl2YXIgcGF0aCA9IHJlcXVpcmUkJDE7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXF1aXJlRnJvbVN0cmluZyhjb2RlLCBmaWxlbmFtZSwgb3B0cykgewoJCWlmICh0eXBlb2YgZmlsZW5hbWUgPT09ICdvYmplY3QnKSB7CgkJCW9wdHMgPSBmaWxlbmFtZTsKCQkJZmlsZW5hbWUgPSB1bmRlZmluZWQ7CgkJfQoKCQlvcHRzID0gb3B0cyB8fCB7fTsKCQlmaWxlbmFtZSA9IGZpbGVuYW1lIHx8ICcnOwoKCQlvcHRzLmFwcGVuZFBhdGhzID0gb3B0cy5hcHBlbmRQYXRocyB8fCBbXTsKCQlvcHRzLnByZXBlbmRQYXRocyA9IG9wdHMucHJlcGVuZFBhdGhzIHx8IFtdOwoKCQlpZiAodHlwZW9mIGNvZGUgIT09ICdzdHJpbmcnKSB7CgkJCXRocm93IG5ldyBFcnJvcignY29kZSBtdXN0IGJlIGEgc3RyaW5nLCBub3QgJyArIHR5cGVvZiBjb2RlKTsKCQl9CgoJCXZhciBwYXRocyA9IE1vZHVsZS5fbm9kZU1vZHVsZVBhdGhzKHBhdGguZGlybmFtZShmaWxlbmFtZSkpOwoKCQl2YXIgcGFyZW50ID0gbW9kdWxlLnBhcmVudDsKCQl2YXIgbSA9IG5ldyBNb2R1bGUoZmlsZW5hbWUsIHBhcmVudCk7CgkJbS5maWxlbmFtZSA9IGZpbGVuYW1lOwoJCW0ucGF0aHMgPSBbXS5jb25jYXQob3B0cy5wcmVwZW5kUGF0aHMpLmNvbmNhdChwYXRocykuY29uY2F0KG9wdHMuYXBwZW5kUGF0aHMpOwoJCW0uX2NvbXBpbGUoY29kZSwgZmlsZW5hbWUpOwoKCQl2YXIgZXhwb3J0cyA9IG0uZXhwb3J0czsKCQlwYXJlbnQgJiYgcGFyZW50LmNoaWxkcmVuICYmIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmNoaWxkcmVuLmluZGV4T2YobSksIDEpOwoKCQlyZXR1cm4gZXhwb3J0czsKCX07Cgl9KHJlcXVpcmVGcm9tU3RyaW5nJDEpKTsKCgl2YXIgZm9sbG93UmVkaXJlY3RzID0ge2V4cG9ydHM6IHt9fTsKCgl2YXIgcHVueWNvZGUgPSB7ZXhwb3J0czoge319OwoKCS8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovCgoJKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKCShmdW5jdGlvbihyb290KSB7CgoJCS8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi8KCQl2YXIgZnJlZUV4cG9ydHMgPSBleHBvcnRzICYmCgkJCSFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7CgkJdmFyIGZyZWVNb2R1bGUgPSBtb2R1bGUgJiYKCQkJIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7CgkJdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgY29tbW9uanNHbG9iYWwgPT0gJ29iamVjdCcgJiYgY29tbW9uanNHbG9iYWw7CgkJaWYgKAoJCQlmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fAoJCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCQlmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWwKCQkpIHsKCQkJcm9vdCA9IGZyZWVHbG9iYWw7CgkJfQoKCQkvKioKCQkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkJICogQG5hbWUgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQl2YXIgcHVueWNvZGUsCgoJCS8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi8KCQltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJCS8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi8KCQliYXNlID0gMzYsCgkJdE1pbiA9IDEsCgkJdE1heCA9IDI2LAoJCXNrZXcgPSAzOCwKCQlkYW1wID0gNzAwLAoJCWluaXRpYWxCaWFzID0gNzIsCgkJaW5pdGlhbE4gPSAxMjgsIC8vIDB4ODAKCQlkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCQkvKiogUmVndWxhciBleHByZXNzaW9ucyAqLwoJCXJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLAoJCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCQlyZWdleFNlcGFyYXRvcnMgPSAvW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnMKCgkJLyoqIEVycm9yIG1lc3NhZ2VzICovCgkJZXJyb3JzID0gewoJCQknb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLAoJCQknbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLAoJCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJCX0sCgoJCS8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi8KCQliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCgkJZmxvb3IgPSBNYXRoLmZsb29yLAoJCXN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsCgoJCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCQlrZXk7CgoJCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCQkvKioKCQkgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi4KCQkgKiBAcHJpdmF0ZQoJCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJCSAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS4KCQkgKi8KCQlmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJCXRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7CgkJfQoKCQkvKioKCQkgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi4KCQkgKiBAcHJpdmF0ZQoJCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkJICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5CgkJICogaXRlbS4KCQkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkJICovCgkJZnVuY3Rpb24gbWFwKGFycmF5LCBmbikgewoJCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCQl2YXIgcmVzdWx0ID0gW107CgkJCXdoaWxlIChsZW5ndGgtLSkgewoJCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQkJfQoJCQlyZXR1cm4gcmVzdWx0OwoJCX0KCgkJLyoqCgkJICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCgkJICogYWRkcmVzc2VzLgoJCSAqIEBwcml2YXRlCgkJICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KCQkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCQkgKiBjaGFyYWN0ZXIuCgkJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKCQkgKiBmdW5jdGlvbi4KCQkgKi8KCQlmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikgewoJCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQkJdmFyIHJlc3VsdCA9ICcnOwoJCQlpZiAocGFydHMubGVuZ3RoID4gMSkgewoJCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkJLy8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC4KCQkJCXJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwoJCQkJc3RyaW5nID0gcGFydHNbMV07CgkJCX0KCQkJLy8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LgoJCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJCXZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTsKCQkJdmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpOwoJCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCQl9CgoJCS8qKgoJCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCQkgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksCgkJICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2gKCQkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCQkgKiBtYXRjaGluZyBVVEYtMTYuCgkJICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgCgkJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCQkgKiBAbmFtZSBkZWNvZGUKCQkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJCSAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy4KCQkgKi8KCQlmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCQl2YXIgb3V0cHV0ID0gW10sCgkJCSAgICBjb3VudGVyID0gMCwKCQkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJCSAgICB2YWx1ZSwKCQkJICAgIGV4dHJhOwoJCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQkJdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkgewoJCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJCWV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJCQlpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZQoJCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0CgkJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCQkJCWNvdW50ZXItLTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gb3V0cHV0OwoJCX0KCgkJLyoqCgkJICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkJICogQG5hbWUgZW5jb2RlCgkJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCQkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuCgkJICovCgkJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCQlyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkgewoJCQkJdmFyIG91dHB1dCA9ICcnOwoJCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQkJdmFsdWUgLT0gMHgxMDAwMDsKCQkJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTsKCQkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCQl9CgkJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTsKCQkJCXJldHVybiBvdXRwdXQ7CgkJCX0pLmpvaW4oJycpOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLgoJCSAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYAoJCSAqIEBwcml2YXRlCgkJICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLgoJCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpbgoJCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCQkgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4KCQkgKi8KCQlmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJCWlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CgkJCQlyZXR1cm4gY29kZVBvaW50IC0gMjI7CgkJCX0KCQkJaWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHsKCQkJCXJldHVybiBjb2RlUG9pbnQgLSA2NTsKCQkJfQoJCQlpZiAoY29kZVBvaW50IC0gOTcgPCAyNikgewoJCQkJcmV0dXJuIGNvZGVQb2ludCAtIDk3OwoJCQl9CgkJCXJldHVybiBiYXNlOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LgoJCSAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYAoJCSAqIEBwcml2YXRlCgkJICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC4KCQkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvcgoJCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkJICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzCgkJICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQKCQkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJCSAqLwoJCWZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykgewoJCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCQkvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkKCQkJcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTsKCQl9CgoJCS8qKgoJCSAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCgkJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCQkgKiBAcHJpdmF0ZQoJCSAqLwoJCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCQl2YXIgayA9IDA7CgkJCWRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7CgkJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQkJZm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHsKCQkJCWRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTsKCQkJfQoJCQlyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTsKCQl9CgoJCS8qKgoJCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlCgkJICogc3ltYm9scy4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJCSAqLwoJCWZ1bmN0aW9uIGRlY29kZShpbnB1dCkgewoJCQkvLyBEb24ndCB1c2UgVUNTLTIKCQkJdmFyIG91dHB1dCA9IFtdLAoJCQkgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsCgkJCSAgICBvdXQsCgkJCSAgICBpID0gMCwKCQkJICAgIG4gPSBpbml0aWFsTiwKCQkJICAgIGJpYXMgPSBpbml0aWFsQmlhcywKCQkJICAgIGJhc2ljLAoJCQkgICAgaiwKCQkJICAgIGluZGV4LAoJCQkgICAgb2xkaSwKCQkJICAgIHcsCgkJCSAgICBrLAoJCQkgICAgZGlnaXQsCgkJCSAgICB0LAoJCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJCSAgICBiYXNlTWludXNUOwoKCQkJLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlCgkJCS8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5CgkJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQkJYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpOwoJCQlpZiAoYmFzaWMgPCAwKSB7CgkJCQliYXNpYyA9IDA7CgkJCX0KCgkJCWZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7CgkJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJCWlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHsKCQkJCQllcnJvcignbm90LWJhc2ljJyk7CgkJCQl9CgkJCQlvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTsKCQkJfQoKCQkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCQkvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLgoKCQkJZm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHsKCgkJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCQkvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsCgkJCQkvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llcgoJCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJCS8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuCgkJCQlmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgoJCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCQllcnJvcignaW52YWxpZC1pbnB1dCcpOwoJCQkJCX0KCgkJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJCWlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHsKCQkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQkJfQoKCQkJCQlpICs9IGRpZ2l0ICogdzsKCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCgkJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQlpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7CgkJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJCX0KCgkJCQkJdyAqPSBiYXNlTWludXNUOwoKCQkJCX0KCgkJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJCWJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApOwoKCQkJCS8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsCgkJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQkJaWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCW4gKz0gZmxvb3IoaSAvIG91dCk7CgkJCQlpICU9IG91dDsKCgkJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCQlvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7CgoJCQl9CgoJCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCQkgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCQkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkJICovCgkJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJCXZhciBuLAoJCQkgICAgZGVsdGEsCgkJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkJICAgIGJhc2ljTGVuZ3RoLAoJCQkgICAgYmlhcywKCQkJICAgIGosCgkJCSAgICBtLAoJCQkgICAgcSwKCQkJICAgIGssCgkJCSAgICB0LAoJCQkgICAgY3VycmVudFZhbHVlLAoJCQkgICAgb3V0cHV0ID0gW10sCgkJCSAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqLwoJCQkgICAgaW5wdXRMZW5ndGgsCgkJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkJICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSwKCQkJICAgIGJhc2VNaW51c1QsCgkJCSAgICBxTWludXNUOwoKCQkJLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZQoJCQlpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpOwoKCQkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCQlpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDsKCgkJCS8vIEluaXRpYWxpemUgdGhlIHN0YXRlCgkJCW4gPSBpbml0aWFsTjsKCQkJZGVsdGEgPSAwOwoJCQliaWFzID0gaW5pdGlhbEJpYXM7CgoJCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQkJb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpOwoJCQkJfQoJCQl9CgoJCQloYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDsKCgkJCS8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwoJCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCQkvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXIKCQkJaWYgKGJhc2ljTGVuZ3RoKSB7CgkJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCQl9CgoJCQkvLyBNYWluIGVuY29kaW5nIGxvb3A6CgkJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkJLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAoJCQkJLy8gbGFyZ2VyIG9uZToKCQkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCQkJaWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHsKCQkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkJLy8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3cKCQkJCWhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTsKCQkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJCW4gPSBtOwoKCQkJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJCWlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHsKCQkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQkJfQoKCQkJCQlpZiAoY3VycmVudFZhbHVlID09IG4pIHsKCQkJCQkJLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIKCQkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgkJCQkJCQlpZiAocSA8IHQpIHsKCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCQkJCQkJCXFNaW51c1QgPSBxIC0gdDsKCQkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJCW91dHB1dC5wdXNoKAoJCQkJCQkJCXN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkKCQkJCQkJCSk7CgkJCQkJCQlxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpOwoJCQkJCQl9CgoJCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJCWJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7CgkJCQkJCWRlbHRhID0gMDsKCQkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCQl9CgkJCQl9CgoJCQkJKytkZWx0YTsKCQkJCSsrbjsKCgkJCX0KCQkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCQl9CgoJCS8qKgoJCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCQkgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuCgkJICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuCgkJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0bwoJCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCQkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGUKCQkgKiBzdHJpbmcuCgkJICovCgkJZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7CgkJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQkJPyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpCgkJCQkJOiBzdHJpbmc7CgkJCX0pOwoJCX0KCgkJLyoqCgkJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkJICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsCgkJICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCgkJICogQVNDSUkuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKCQkgKiBVbmljb2RlIHN0cmluZy4KCQkgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yCgkJICogZW1haWwgYWRkcmVzcy4KCQkgKi8KCQlmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7CgkJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQkJPyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKQoJCQkJCTogc3RyaW5nOwoJCQl9KTsKCQl9CgoJCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCQkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCgkJcHVueWNvZGUgPSB7CgkJCS8qKgoJCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCQkgKiBAdHlwZSBTdHJpbmcKCQkJICovCgkJCSd2ZXJzaW9uJzogJzEuNC4xJywKCQkJLyoqCgkJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJCSAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suCgkJCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkJICogQHR5cGUgT2JqZWN0CgkJCSAqLwoJCQkndWNzMic6IHsKCQkJCSdkZWNvZGUnOiB1Y3MyZGVjb2RlLAoJCQkJJ2VuY29kZSc6IHVjczJlbmNvZGUKCQkJfSwKCQkJJ2RlY29kZSc6IGRlY29kZSwKCQkJJ2VuY29kZSc6IGVuY29kZSwKCQkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCQkndG9Vbmljb2RlJzogdG9Vbmljb2RlCgkJfTsKCgkJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkJLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zCgkJLy8gbGlrZSB0aGUgZm9sbG93aW5nOgoJCWlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJCWlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgewoJCQkJLy8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wKwoJCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJCX0gZWxzZSB7CgkJCQkvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLQoJCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCQlwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7CgkJCQl9CgkJCX0KCQl9IGVsc2UgewoJCQkvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyCgkJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCQl9CgoJfShjb21tb25qc0dsb2JhbCkpOwoJfShwdW55Y29kZSwgcHVueWNvZGUuZXhwb3J0cykpOwoKCS8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLgoJLy8KCS8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCgkvLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCgkvLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCgkvLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCgkvLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0CgkvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUKCS8vIGZvbGxvd2luZyBjb25kaXRpb25zOgoJLy8KCS8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkCgkvLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KCS8vCgkvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwoJLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgoJLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTgoJLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sCgkvLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IKCS8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUKCS8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCgoKCS8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmcKCS8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLgoJLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDcKCWZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkgewoJICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7Cgl9Cgl2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7CgkgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nOwoJfTsKCWZ1bmN0aW9uIHN0cmluZ2lmeVByaW1pdGl2ZSh2KSB7CgkgIHN3aXRjaCAodHlwZW9mIHYpIHsKCSAgICBjYXNlICdzdHJpbmcnOgoJICAgICAgcmV0dXJuIHY7CgoJICAgIGNhc2UgJ2Jvb2xlYW4nOgoJICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnOwoKCSAgICBjYXNlICdudW1iZXInOgoJICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnOwoKCSAgICBkZWZhdWx0OgoJICAgICAgcmV0dXJuICcnOwoJICB9Cgl9CgoJZnVuY3Rpb24gc3RyaW5naWZ5IChvYmosIHNlcCwgZXEsIG5hbWUpIHsKCSAgc2VwID0gc2VwIHx8ICcmJzsKCSAgZXEgPSBlcSB8fCAnPSc7CgkgIGlmIChvYmogPT09IG51bGwpIHsKCSAgICBvYmogPSB1bmRlZmluZWQ7CgkgIH0KCgkgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JykgewoJICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7CgkgICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxOwoJICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkgewoJICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikgewoJICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpOwoJICAgICAgICB9KS5qb2luKHNlcCk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpOwoJICAgICAgfQoJICAgIH0pLmpvaW4oc2VwKTsKCgkgIH0KCgkgIGlmICghbmFtZSkgcmV0dXJuICcnOwoJICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArCgkgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpOwoJfQoJZnVuY3Rpb24gbWFwICh4cywgZikgewoJICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpOwoJICB2YXIgcmVzID0gW107CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHsKCSAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7CgkgIH0KCSAgcmV0dXJuIHJlczsKCX0KCgl2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHsKCSAgdmFyIHJlcyA9IFtdOwoJICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CgkgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7CgkgIH0KCSAgcmV0dXJuIHJlczsKCX07CgoJZnVuY3Rpb24gcGFyc2UkMShxcywgc2VwLCBlcSwgb3B0aW9ucykgewoJICBzZXAgPSBzZXAgfHwgJyYnOwoJICBlcSA9IGVxIHx8ICc9JzsKCSAgdmFyIG9iaiA9IHt9OwoKCSAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7CgkgICAgcmV0dXJuIG9iajsKCSAgfQoKCSAgdmFyIHJlZ2V4cCA9IC9cKy9nOwoJICBxcyA9IHFzLnNwbGl0KHNlcCk7CgoJICB2YXIgbWF4S2V5cyA9IDEwMDA7CgkgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7CgkgICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5czsKCSAgfQoKCSAgdmFyIGxlbiA9IHFzLmxlbmd0aDsKCSAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50CgkgIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7CgkgICAgbGVuID0gbWF4S2V5czsKCSAgfQoKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkgewoJICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSwKCSAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSwKCSAgICAgICAga3N0ciwgdnN0ciwgaywgdjsKCgkgICAgaWYgKGlkeCA+PSAwKSB7CgkgICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTsKCSAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTsKCSAgICB9IGVsc2UgewoJICAgICAga3N0ciA9IHg7CgkgICAgICB2c3RyID0gJyc7CgkgICAgfQoKCSAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpOwoJICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7CgoJICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkgewoJICAgICAgb2JqW2tdID0gdjsKCSAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkgewoJICAgICAgb2JqW2tdLnB1c2godik7CgkgICAgfSBlbHNlIHsKCSAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdOwoJICAgIH0KCSAgfQoKCSAgcmV0dXJuIG9iajsKCX0KCgkvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy4KCXZhciByZXF1aXJlJCQwID0gewoJICBwYXJzZTogdXJsUGFyc2UsCgkgIHJlc29sdmU6IHVybFJlc29sdmUsCgkgIHJlc29sdmVPYmplY3Q6IHVybFJlc29sdmVPYmplY3QsCgkgIGZvcm1hdDogdXJsRm9ybWF0LAoJICBVcmw6IFVybAoJfTsKCWZ1bmN0aW9uIFVybCgpIHsKCSAgdGhpcy5wcm90b2NvbCA9IG51bGw7CgkgIHRoaXMuc2xhc2hlcyA9IG51bGw7CgkgIHRoaXMuYXV0aCA9IG51bGw7CgkgIHRoaXMuaG9zdCA9IG51bGw7CgkgIHRoaXMucG9ydCA9IG51bGw7CgkgIHRoaXMuaG9zdG5hbWUgPSBudWxsOwoJICB0aGlzLmhhc2ggPSBudWxsOwoJICB0aGlzLnNlYXJjaCA9IG51bGw7CgkgIHRoaXMucXVlcnkgPSBudWxsOwoJICB0aGlzLnBhdGhuYW1lID0gbnVsbDsKCSAgdGhpcy5wYXRoID0gbnVsbDsKCSAgdGhpcy5ocmVmID0gbnVsbDsKCX0KCgkvLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTYKCgkvLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZQoJLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuCgl2YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSwKCSAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLAoKCSAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTAoJICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFwvXC8/KD8hXC8pW15cP1xzXSopKFw/W15cc10qKT8kLywKCgkgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuCgkgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuCgkgIGRlbGltcyA9IFsnPCcsICc+JywgJyInLCAnYCcsICcgJywgJ1xyJywgJ1xuJywgJ1x0J10sCgoJICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLgoJICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLAoKCSAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLgoJICBhdXRvRXNjYXBlID0gWydcJyddLmNvbmNhdCh1bndpc2UpLAoJICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLgoJICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlCgkgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aAoJICAvLyB0aGVtLgoJICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSwKCSAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLAoJICBob3N0bmFtZU1heExlbiA9IDI1NSwKCSAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLywKCSAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sCgkgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyAidW5zYWZlIiBhbmQgInVud2lzZSIgY2hhcnMuCgkgIHVuc2FmZVByb3RvY29sID0gewoJICAgICdqYXZhc2NyaXB0JzogdHJ1ZSwKCSAgICAnamF2YXNjcmlwdDonOiB0cnVlCgkgIH0sCgkgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS4KCSAgaG9zdGxlc3NQcm90b2NvbCA9IHsKCSAgICAnamF2YXNjcmlwdCc6IHRydWUsCgkgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZQoJICB9LAoJICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC4KCSAgc2xhc2hlZFByb3RvY29sID0gewoJICAgICdodHRwJzogdHJ1ZSwKCSAgICAnaHR0cHMnOiB0cnVlLAoJICAgICdmdHAnOiB0cnVlLAoJICAgICdnb3BoZXInOiB0cnVlLAoJICAgICdmaWxlJzogdHJ1ZSwKCSAgICAnaHR0cDonOiB0cnVlLAoJICAgICdodHRwczonOiB0cnVlLAoJICAgICdmdHA6JzogdHJ1ZSwKCSAgICAnZ29waGVyOic6IHRydWUsCgkgICAgJ2ZpbGU6JzogdHJ1ZQoJICB9OwoKCWZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHsKCSAgaWYgKHVybCAmJiBpc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDsKCgkgIHZhciB1ID0gbmV3IFVybDsKCSAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTsKCSAgcmV0dXJuIHU7Cgl9CglVcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkgewoJICByZXR1cm4gcGFyc2UodGhpcywgdXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7Cgl9OwoKCWZ1bmN0aW9uIHBhcnNlKHNlbGYsIHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHsKCSAgaWYgKCFpc1N0cmluZyh1cmwpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIFwndXJsXCcgbXVzdCBiZSBhIHN0cmluZywgbm90ICcgKyB0eXBlb2YgdXJsKTsKCSAgfQoKCSAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCgkgIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlcwoJICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNgoJICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksCgkgICAgc3BsaXR0ZXIgPQoJICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsCgkgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSwKCSAgICBzbGFzaFJlZ2V4ID0gL1xcL2c7CgkgIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7CgkgIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTsKCgkgIHZhciByZXN0ID0gdXJsOwoKCSAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy4KCSAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgIiAgaHR0cDovL2Zvby5jb20gIFxuIgoJICByZXN0ID0gcmVzdC50cmltKCk7CgoJICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkgewoJICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwCgkgICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpOwoJICAgIGlmIChzaW1wbGVQYXRoKSB7CgkgICAgICBzZWxmLnBhdGggPSByZXN0OwoJICAgICAgc2VsZi5ocmVmID0gcmVzdDsKCSAgICAgIHNlbGYucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdOwoJICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHsKCSAgICAgICAgc2VsZi5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdOwoJICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykgewoJICAgICAgICAgIHNlbGYucXVlcnkgPSBwYXJzZSQxKHNlbGYuc2VhcmNoLnN1YnN0cigxKSk7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgc2VsZi5xdWVyeSA9IHNlbGYuc2VhcmNoLnN1YnN0cigxKTsKCSAgICAgICAgfQoJICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7CgkgICAgICAgIHNlbGYuc2VhcmNoID0gJyc7CgkgICAgICAgIHNlbGYucXVlcnkgPSB7fTsKCSAgICAgIH0KCSAgICAgIHJldHVybiBzZWxmOwoJICAgIH0KCSAgfQoKCSAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7CgkgIGlmIChwcm90bykgewoJICAgIHByb3RvID0gcHJvdG9bMF07CgkgICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpOwoJICAgIHNlbGYucHJvdG9jb2wgPSBsb3dlclByb3RvOwoJICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpOwoJICB9CgoJICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdAoJICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsCgkgIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3MKCSAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuCgkgIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXC9cL1teQFwvXStAW15AXC9dKy8pKSB7CgkgICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJzsKCSAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkgewoJICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpOwoJICAgICAgc2VsZi5zbGFzaGVzID0gdHJ1ZTsKCSAgICB9CgkgIH0KCSAgdmFyIGksIGhlYywgbCwgcDsKCSAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJgoJICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7CgoJICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS4KCSAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LgoJICAgIC8vCgkgICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZAoJICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyCgkgICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi4KCSAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuCgkgICAgLy8KCSAgICAvLyBleDoKCSAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6YwoJICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGMKCgkgICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLgoJICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuCgoJICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnMKCSAgICB2YXIgaG9zdEVuZCA9IC0xOwoJICAgIGZvciAoaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHsKCSAgICAgIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pOwoJICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKQoJICAgICAgICBob3N0RW5kID0gaGVjOwoJICAgIH0KCgkgICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlCgkgICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuCgkgICAgdmFyIGF1dGgsIGF0U2lnbjsKCSAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHsKCSAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuCgkgICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi4KCSAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkCgkgICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7CgkgICAgfQoKCSAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC4KCSAgICAvLyBQdWxsIHRoYXQgb2ZmLgoJICAgIGlmIChhdFNpZ24gIT09IC0xKSB7CgkgICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pOwoJICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7CgkgICAgICBzZWxmLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7CgkgICAgfQoKCSAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyCgkgICAgaG9zdEVuZCA9IC0xOwoJICAgIGZvciAoaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHsKCSAgICAgIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pOwoJICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKQoJICAgICAgICBob3N0RW5kID0gaGVjOwoJICAgIH0KCSAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuCgkgICAgaWYgKGhvc3RFbmQgPT09IC0xKQoJICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoOwoKCSAgICBzZWxmLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpOwoJICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpOwoKCSAgICAvLyBwdWxsIG91dCBwb3J0LgoJICAgIHBhcnNlSG9zdChzZWxmKTsKCgkgICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSwKCSAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LgoJICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lIHx8ICcnOwoKCSAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXQoJICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLgoJICAgIHZhciBpcHY2SG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lWzBdID09PSAnWycgJiYKCSAgICAgIHNlbGYuaG9zdG5hbWVbc2VsZi5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nOwoKCSAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS4KCSAgICBpZiAoIWlwdjZIb3N0bmFtZSkgewoJICAgICAgdmFyIGhvc3RwYXJ0cyA9IHNlbGYuaG9zdG5hbWUuc3BsaXQoL1wuLyk7CgkgICAgICBmb3IgKGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewoJICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTsKCSAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTsKCSAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7CgkgICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJzsKCSAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7CgkgICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7CgkgICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlcgoJICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90CgkgICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmcKCSAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7CgkgICAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07CgkgICAgICAgICAgICB9CgkgICAgICAgICAgfQoJICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHkKCSAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHsKCSAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpOwoJICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpOwoJICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpOwoJICAgICAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTsKCSAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHsKCSAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHNlbGYuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTsKCSAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCgkgICAgaWYgKHNlbGYuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHsKCSAgICAgIHNlbGYuaG9zdG5hbWUgPSAnJzsKCSAgICB9IGVsc2UgewoJICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS4KCSAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CgkgICAgfQoKCSAgICBpZiAoIWlwdjZIb3N0bmFtZSkgewoJICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mICJkb21haW4iLgoJICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdAoJICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZgoJICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS4KCSAgICAgIHNlbGYuaG9zdG5hbWUgPSBwdW55Y29kZS5leHBvcnRzLnRvQVNDSUkoc2VsZi5ob3N0bmFtZSk7CgkgICAgfQoKCSAgICBwID0gc2VsZi5wb3J0ID8gJzonICsgc2VsZi5wb3J0IDogJyc7CgkgICAgdmFyIGggPSBzZWxmLmhvc3RuYW1lIHx8ICcnOwoJICAgIHNlbGYuaG9zdCA9IGggKyBwOwoJICAgIHNlbGYuaHJlZiArPSBzZWxmLmhvc3Q7CgoJICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWUKCSAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaAoJICAgIGlmIChpcHY2SG9zdG5hbWUpIHsKCSAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnN1YnN0cigxLCBzZWxmLmhvc3RuYW1lLmxlbmd0aCAtIDIpOwoJICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykgewoJICAgICAgICByZXN0ID0gJy8nICsgcmVzdDsKCSAgICAgIH0KCSAgICB9CgkgIH0KCgkgIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLgoJICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuCgkgIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHsKCgkgICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55ICJhdXRvRXNjYXBlIiBjaGFycyBnZXQKCSAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXkKCSAgICAvLyBuZWVkIHRvIGJlLgoJICAgIGZvciAoaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykgewoJICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTsKCSAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSkKCSAgICAgICAgY29udGludWU7CgkgICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTsKCSAgICAgIGlmIChlc2MgPT09IGFlKSB7CgkgICAgICAgIGVzYyA9IGVzY2FwZShhZSk7CgkgICAgICB9CgkgICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpOwoJICAgIH0KCSAgfQoKCgkgIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuCgkgIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7CgkgIGlmIChoYXNoICE9PSAtMSkgewoJICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy4KCSAgICBzZWxmLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTsKCSAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTsKCSAgfQoJICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTsKCSAgaWYgKHFtICE9PSAtMSkgewoJICAgIHNlbGYuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pOwoJICAgIHNlbGYucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpOwoJICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7CgkgICAgICBzZWxmLnF1ZXJ5ID0gcGFyc2UkMShzZWxmLnF1ZXJ5KTsKCSAgICB9CgkgICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pOwoJICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHsKCSAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZAoJICAgIHNlbGYuc2VhcmNoID0gJyc7CgkgICAgc2VsZi5xdWVyeSA9IHt9OwoJICB9CgkgIGlmIChyZXN0KSBzZWxmLnBhdGhuYW1lID0gcmVzdDsKCSAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJgoJICAgIHNlbGYuaG9zdG5hbWUgJiYgIXNlbGYucGF0aG5hbWUpIHsKCSAgICBzZWxmLnBhdGhuYW1lID0gJy8nOwoJICB9CgoJICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0CgkgIGlmIChzZWxmLnBhdGhuYW1lIHx8IHNlbGYuc2VhcmNoKSB7CgkgICAgcCA9IHNlbGYucGF0aG5hbWUgfHwgJyc7CgkgICAgdmFyIHMgPSBzZWxmLnNlYXJjaCB8fCAnJzsKCSAgICBzZWxmLnBhdGggPSBwICsgczsKCSAgfQoKCSAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuCgkgIHNlbGYuaHJlZiA9IGZvcm1hdChzZWxmKTsKCSAgcmV0dXJuIHNlbGY7Cgl9CgoJLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZwoJZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikgewoJICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLgoJICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLgoJICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzCgkgIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuCgkgIGlmIChpc1N0cmluZyhvYmopKSBvYmogPSBwYXJzZSh7fSwgb2JqKTsKCSAgcmV0dXJuIGZvcm1hdChvYmopOwoJfQoKCWZ1bmN0aW9uIGZvcm1hdChzZWxmKSB7CgkgIHZhciBhdXRoID0gc2VsZi5hdXRoIHx8ICcnOwoJICBpZiAoYXV0aCkgewoJICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7CgkgICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7CgkgICAgYXV0aCArPSAnQCc7CgkgIH0KCgkgIHZhciBwcm90b2NvbCA9IHNlbGYucHJvdG9jb2wgfHwgJycsCgkgICAgcGF0aG5hbWUgPSBzZWxmLnBhdGhuYW1lIHx8ICcnLAoJICAgIGhhc2ggPSBzZWxmLmhhc2ggfHwgJycsCgkgICAgaG9zdCA9IGZhbHNlLAoJICAgIHF1ZXJ5ID0gJyc7CgoJICBpZiAoc2VsZi5ob3N0KSB7CgkgICAgaG9zdCA9IGF1dGggKyBzZWxmLmhvc3Q7CgkgIH0gZWxzZSBpZiAoc2VsZi5ob3N0bmFtZSkgewoJICAgIGhvc3QgPSBhdXRoICsgKHNlbGYuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/CgkgICAgICBzZWxmLmhvc3RuYW1lIDoKCSAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpOwoJICAgIGlmIChzZWxmLnBvcnQpIHsKCSAgICAgIGhvc3QgKz0gJzonICsgc2VsZi5wb3J0OwoJICAgIH0KCSAgfQoKCSAgaWYgKHNlbGYucXVlcnkgJiYKCSAgICBpc09iamVjdChzZWxmLnF1ZXJ5KSAmJgoJICAgIE9iamVjdC5rZXlzKHNlbGYucXVlcnkpLmxlbmd0aCkgewoJICAgIHF1ZXJ5ID0gc3RyaW5naWZ5KHNlbGYucXVlcnkpOwoJICB9CgoJICB2YXIgc2VhcmNoID0gc2VsZi5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnOwoKCSAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonOwoKCSAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuCgkgIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguCgkgIGlmIChzZWxmLnNsYXNoZXMgfHwKCSAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7CgkgICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7CgkgICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lOwoJICB9IGVsc2UgaWYgKCFob3N0KSB7CgkgICAgaG9zdCA9ICcnOwoJICB9CgoJICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDsKCSAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDsKCgkgIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkgewoJICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpOwoJICB9KTsKCSAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7CgoJICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoOwoJfQoKCVVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7CgkgIHJldHVybiBmb3JtYXQodGhpcyk7Cgl9OwoKCWZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkgewoJICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7Cgl9CgoJVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHsKCSAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTsKCX07CgoJZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7CgkgIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7CgkgIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTsKCX0KCglVcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkgewoJICBpZiAoaXNTdHJpbmcocmVsYXRpdmUpKSB7CgkgICAgdmFyIHJlbCA9IG5ldyBVcmwoKTsKCSAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTsKCSAgICByZWxhdGl2ZSA9IHJlbDsKCSAgfQoKCSAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTsKCSAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7CgkgIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHsKCSAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTsKCSAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldOwoJICB9CgoJICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC4KCSAgLy8gZXZlbiBocmVmPSIiIHdpbGwgcmVtb3ZlIGl0LgoJICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7CgoJICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuCgkgIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykgewoJICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpOwoJICAgIHJldHVybiByZXN1bHQ7CgkgIH0KCgkgIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLgoJICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHsKCSAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlCgkgICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpOwoJICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHsKCSAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdOwoJICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpCgkgICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldOwoJICAgIH0KCgkgICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb20KCSAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiYKCSAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7CgkgICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJzsKCSAgICB9CgoJICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpOwoJICAgIHJldHVybiByZXN1bHQ7CgkgIH0KCSAgdmFyIHJlbFBhdGg7CgkgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7CgkgICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZwoJICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5ncwoJICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LAoJICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoCgkgICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLgoJICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsCgkgICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuCgkgICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLgoJICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkgewoJICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7CgkgICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHsKCSAgICAgICAgdmFyIGsgPSBrZXlzW3ZdOwoJICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTsKCSAgICAgIH0KCSAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpOwoJICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9CgoJICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sOwoJICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHsKCSAgICAgIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7CgkgICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7CgkgICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJzsKCSAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7CgkgICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7CgkgICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpOwoJICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lOwoJICAgIH0KCSAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoOwoJICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5OwoJICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJzsKCSAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7CgkgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDsKCSAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7CgkgICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3QKCSAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHsKCSAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnOwoJICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnOwoJICAgICAgcmVzdWx0LnBhdGggPSBwICsgczsKCSAgICB9CgkgICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzOwoJICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpOwoJICAgIHJldHVybiByZXN1bHQ7CgkgIH0KCgkgIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSwKCSAgICBpc1JlbEFicyA9ICgKCSAgICAgIHJlbGF0aXZlLmhvc3QgfHwKCSAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nCgkgICAgKSwKCSAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8CgkgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSwKCSAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicywKCSAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLAoJICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07CgkgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdOwoJICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlCgkgIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGUKCSAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLgoJICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LgoJICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC4KCSAgaWYgKHBzeWNob3RpYykgewoJICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnOwoJICAgIHJlc3VsdC5wb3J0ID0gbnVsbDsKCSAgICBpZiAocmVzdWx0Lmhvc3QpIHsKCSAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0OwoJICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpOwoJICAgIH0KCSAgICByZXN1bHQuaG9zdCA9ICcnOwoJICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkgewoJICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsOwoJICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7CgkgICAgICBpZiAocmVsYXRpdmUuaG9zdCkgewoJICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0OwoJICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTsKCSAgICAgIH0KCSAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsOwoJICAgIH0KCSAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpOwoJICB9CgkgIHZhciBhdXRoSW5Ib3N0OwoJICBpZiAoaXNSZWxBYnMpIHsKCSAgICAvLyBpdCdzIGFic29sdXRlLgoJICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID8KCSAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDsKCSAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/CgkgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTsKCSAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoOwoJICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5OwoJICAgIHNyY1BhdGggPSByZWxQYXRoOwoJICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LgoJICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7CgkgICAgLy8gaXQncyByZWxhdGl2ZQoJICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLgoJICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdOwoJICAgIHNyY1BhdGgucG9wKCk7CgkgICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpOwoJICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7CgkgICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7CgkgIH0gZWxzZSBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHsKCSAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guCgkgICAgLy8gbGlrZSBocmVmPSc/Zm9vJy4KCSAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnMKCSAgICBpZiAocHN5Y2hvdGljKSB7CgkgICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTsKCSAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3QKCSAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZQoJICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJykKCSAgICAgIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID8KCSAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlOwoJICAgICAgaWYgKGF1dGhJbkhvc3QpIHsKCSAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7CgkgICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpOwoJICAgICAgfQoJICAgIH0KCSAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoOwoJICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5OwoJICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3QKCSAgICBpZiAoIWlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICFpc051bGwocmVzdWx0LnNlYXJjaCkpIHsKCSAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArCgkgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTsKCSAgICB9CgkgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfQoKCSAgaWYgKCFzcmNQYXRoLmxlbmd0aCkgewoJICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS4KCSAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLgoJICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7CgkgICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdAoJICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7CgkgICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7CgkgICAgfSBlbHNlIHsKCSAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDsKCSAgICB9CgkgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7CgkgICAgcmV0dXJuIHJlc3VsdDsKCSAgfQoKCSAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guCgkgIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LAoJICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLgoJICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdOwoJICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9ICgKCSAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmCgkgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7CgoJICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyCgkgIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwCgkgIHZhciB1cCA9IDA7CgkgIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHsKCSAgICBsYXN0ID0gc3JjUGF0aFtpXTsKCSAgICBpZiAobGFzdCA9PT0gJy4nKSB7CgkgICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTsKCSAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHsKCSAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpOwoJICAgICAgdXArKzsKCSAgICB9IGVsc2UgaWYgKHVwKSB7CgkgICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTsKCSAgICAgIHVwLS07CgkgICAgfQoJICB9CgoJICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zCgkgIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykgewoJICAgIGZvciAoOyB1cC0tOyB1cCkgewoJICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpOwoJICAgIH0KCSAgfQoKCSAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiYKCSAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHsKCSAgICBzcmNQYXRoLnVuc2hpZnQoJycpOwoJICB9CgoJICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkgewoJICAgIHNyY1BhdGgucHVzaCgnJyk7CgkgIH0KCgkgIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHwKCSAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTsKCgkgIC8vIHB1dCB0aGUgaG9zdCBiYWNrCgkgIGlmIChwc3ljaG90aWMpIHsKCSAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6CgkgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnOwoJICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3QKCSAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2UKCSAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKQoJICAgIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID8KCSAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTsKCSAgICBpZiAoYXV0aEluSG9zdCkgewoJICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7CgkgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTsKCSAgICB9CgkgIH0KCgkgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7CgoJICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkgewoJICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7CgkgIH0KCgkgIGlmICghc3JjUGF0aC5sZW5ndGgpIHsKCSAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsOwoJICAgIHJlc3VsdC5wYXRoID0gbnVsbDsKCSAgfSBlbHNlIHsKCSAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTsKCSAgfQoKCSAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cAoJICBpZiAoIWlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICFpc051bGwocmVzdWx0LnNlYXJjaCkpIHsKCSAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgKwoJICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpOwoJICB9CgkgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDsKCSAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzOwoJICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTsKCSAgcmV0dXJuIHJlc3VsdDsKCX07CgoJVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHsKCSAgcmV0dXJuIHBhcnNlSG9zdCh0aGlzKTsKCX07CgoJZnVuY3Rpb24gcGFyc2VIb3N0KHNlbGYpIHsKCSAgdmFyIGhvc3QgPSBzZWxmLmhvc3Q7CgkgIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTsKCSAgaWYgKHBvcnQpIHsKCSAgICBwb3J0ID0gcG9ydFswXTsKCSAgICBpZiAocG9ydCAhPT0gJzonKSB7CgkgICAgICBzZWxmLnBvcnQgPSBwb3J0LnN1YnN0cigxKTsKCSAgICB9CgkgICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpOwoJICB9CgkgIGlmIChob3N0KSBzZWxmLmhvc3RuYW1lID0gaG9zdDsKCX0KCgl2YXIgaGFzRmV0Y2ggPSBpc0Z1bmN0aW9uKGdsb2JhbCQxLmZldGNoKSAmJiBpc0Z1bmN0aW9uKGdsb2JhbCQxLlJlYWRhYmxlU3RyZWFtKTsKCgl2YXIgX2Jsb2JDb25zdHJ1Y3RvcjsKCWZ1bmN0aW9uIGJsb2JDb25zdHJ1Y3RvcigpIHsKCSAgaWYgKHR5cGVvZiBfYmxvYkNvbnN0cnVjdG9yICE9PSAndW5kZWZpbmVkJykgewoJICAgIHJldHVybiBfYmxvYkNvbnN0cnVjdG9yOwoJICB9CgkgIHRyeSB7CgkgICAgbmV3IGdsb2JhbCQxLkJsb2IoW25ldyBBcnJheUJ1ZmZlcigxKV0pOwoJICAgIF9ibG9iQ29uc3RydWN0b3IgPSB0cnVlOwoJICB9IGNhdGNoIChlKSB7CgkgICAgX2Jsb2JDb25zdHJ1Y3RvciA9IGZhbHNlOwoJICB9CgkgIHJldHVybiBfYmxvYkNvbnN0cnVjdG9yCgl9Cgl2YXIgeGhyOwoKCWZ1bmN0aW9uIGNoZWNrVHlwZVN1cHBvcnQodHlwZSkgewoJICBpZiAoIXhocikgewoJICAgIHhociA9IG5ldyBnbG9iYWwkMS5YTUxIdHRwUmVxdWVzdCgpOwoJICAgIC8vIElmIGxvY2F0aW9uLmhvc3QgaXMgZW1wdHksIGUuZy4gaWYgdGhpcyBwYWdlL3dvcmtlciB3YXMgbG9hZGVkCgkgICAgLy8gZnJvbSBhIEJsb2IsIHRoZW4gdXNlIGV4YW1wbGUuY29tIHRvIGF2b2lkIGFuIGVycm9yCgkgICAgeGhyLm9wZW4oJ0dFVCcsIGdsb2JhbCQxLmxvY2F0aW9uLmhvc3QgPyAnLycgOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScpOwoJICB9CgkgIHRyeSB7CgkgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHR5cGU7CgkgICAgcmV0dXJuIHhoci5yZXNwb25zZVR5cGUgPT09IHR5cGUKCSAgfSBjYXRjaCAoZSkgewoJICAgIHJldHVybiBmYWxzZQoJICB9CgoJfQoKCS8vIEZvciBzb21lIHN0cmFuZ2UgcmVhc29uLCBTYWZhcmkgNy4wIHJlcG9ydHMgdHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciA9PT0gJ29iamVjdCcuCgkvLyBTYWZhcmkgNy4xIGFwcGVhcnMgdG8gaGF2ZSBmaXhlZCB0aGlzIGJ1Zy4KCXZhciBoYXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgZ2xvYmFsJDEuQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnOwoJdmFyIGhhdmVTbGljZSA9IGhhdmVBcnJheUJ1ZmZlciAmJiBpc0Z1bmN0aW9uKGdsb2JhbCQxLkFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSk7CgoJdmFyIGFycmF5YnVmZmVyID0gaGF2ZUFycmF5QnVmZmVyICYmIGNoZWNrVHlwZVN1cHBvcnQoJ2FycmF5YnVmZmVyJyk7CgkgIC8vIFRoZXNlIG5leHQgdHdvIHRlc3RzIHVuYXZvaWRhYmx5IHNob3cgd2FybmluZ3MgaW4gQ2hyb21lLiBTaW5jZSBmZXRjaCB3aWxsIGFsd2F5cwoJICAvLyBiZSB1c2VkIGlmIGl0J3MgYXZhaWxhYmxlLCBqdXN0IHJldHVybiBmYWxzZSBmb3IgdGhlc2UgdG8gYXZvaWQgdGhlIHdhcm5pbmdzLgoJdmFyIG1zc3RyZWFtID0gIWhhc0ZldGNoICYmIGhhdmVTbGljZSAmJiBjaGVja1R5cGVTdXBwb3J0KCdtcy1zdHJlYW0nKTsKCXZhciBtb3pjaHVua2VkYXJyYXlidWZmZXIgPSAhaGFzRmV0Y2ggJiYgaGF2ZUFycmF5QnVmZmVyICYmCgkgIGNoZWNrVHlwZVN1cHBvcnQoJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJyk7Cgl2YXIgb3ZlcnJpZGVNaW1lVHlwZSA9IGlzRnVuY3Rpb24oeGhyLm92ZXJyaWRlTWltZVR5cGUpOwoJdmFyIHZiQXJyYXkgPSBpc0Z1bmN0aW9uKGdsb2JhbCQxLlZCQXJyYXkpOwoKCWZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHsKCSAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJwoJfQoKCXhociA9IG51bGw7IC8vIEhlbHAgZ2MKCgl2YXIgZXZlbnRzJDEgPSB7ZXhwb3J0czoge319OwoKCXZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGw7Cgl2YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJwoJICA/IFIuYXBwbHkKCSAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykgewoJICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTsKCSAgfTsKCgl2YXIgUmVmbGVjdE93bktleXM7CglpZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7CgkgIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzOwoJfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CgkgIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7CgkgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCkKCSAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTsKCSAgfTsKCX0gZWxzZSB7CgkgIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7CgkgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7CgkgIH07Cgl9CgoJZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHsKCSAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7Cgl9CgoJdmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7CgkgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7Cgl9OwoKCWZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsKCSAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTsKCX0KCWV2ZW50cyQxLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7CglldmVudHMkMS5leHBvcnRzLm9uY2UgPSBvbmNlOwoKCS8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueAoJRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7CglFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7CglFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7CgoJLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlCgkvLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLgoJdmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDsKCglmdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7CgkgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImxpc3RlbmVyIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7CgkgIH0KCX0KCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHsKCSAgZW51bWVyYWJsZTogdHJ1ZSwKCSAgZ2V0OiBmdW5jdGlvbigpIHsKCSAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVyczsKCSAgfSwKCSAgc2V0OiBmdW5jdGlvbihhcmcpIHsKCSAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7CgkgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJkZWZhdWx0TWF4TGlzdGVuZXJzIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTsKCSAgICB9CgkgICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZzsKCSAgfQoJfSk7CgoJRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHsKCgkgIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fAoJICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykgewoJICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgkgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwOwoJICB9CgoJICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkOwoJfTsKCgkvLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3MKCS8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikgewoJICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7CgkgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiAibiIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpOwoJICB9CgkgIHRoaXMuX21heExpc3RlbmVycyA9IG47CgkgIHJldHVybiB0aGlzOwoJfTsKCglmdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHsKCSAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKQoJICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVyczsKCSAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVyczsKCX0KCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHsKCSAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7Cgl9OwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkgewoJICB2YXIgYXJncyA9IFtdOwoJICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7CgkgIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpOwoKCSAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50czsKCSAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKQoJICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7CgkgIGVsc2UgaWYgKCFkb0Vycm9yKQoJICAgIHJldHVybiBmYWxzZTsKCgkgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy4KCSAgaWYgKGRvRXJyb3IpIHsKCSAgICB2YXIgZXI7CgkgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkKCSAgICAgIGVyID0gYXJnc1swXTsKCSAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikgewoJICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93CgkgICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLgoJICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50CgkgICAgfQoJICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXIKCSAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTsKCSAgICBlcnIuY29udGV4dCA9IGVyOwoJICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnQKCSAgfQoKCSAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07CgoJICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKQoJICAgIHJldHVybiBmYWxzZTsKCgkgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTsKCSAgfSBlbHNlIHsKCSAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7CgkgICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKQoJICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7CgkgIH0KCgkgIHJldHVybiB0cnVlOwoJfTsKCglmdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkgewoJICB2YXIgbTsKCSAgdmFyIGV2ZW50czsKCSAgdmFyIGV4aXN0aW5nOwoKCSAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7CgoJICBldmVudHMgPSB0YXJnZXQuX2V2ZW50czsKCSAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7CgkgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoJICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwOwoJICB9IGVsc2UgewoJICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09ICJuZXdMaXN0ZW5lciIhIEJlZm9yZQoJICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0ICJuZXdMaXN0ZW5lciIuCgkgICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7CgkgICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLAoJICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTsKCgkgICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlCgkgICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0CgkgICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50czsKCSAgICB9CgkgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07CgkgIH0KCgkgIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7CgkgICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuCgkgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjsKCSAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7CgkgIH0gZWxzZSB7CgkgICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuCgkgICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9CgkgICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdOwoJICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLgoJICAgIH0gZWxzZSBpZiAocHJlcGVuZCkgewoJICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7CgkgICAgfSBlbHNlIHsKCSAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpOwoJICAgIH0KCgkgICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWsKCSAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpOwoJICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHsKCSAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7CgkgICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZwoJICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4CgkgICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpOwoJICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7CgkgICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7CgkgICAgICB3LnR5cGUgPSB0eXBlOwoJICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDsKCSAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTsKCSAgICB9CgkgIH0KCgkgIHJldHVybiB0YXJnZXQ7Cgl9CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CgkgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTsKCX07CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPQoJICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewoJICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7CgkgICAgfTsKCglmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHsKCSAgaWYgKCF0aGlzLmZpcmVkKSB7CgkgICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7CgkgICAgdGhpcy5maXJlZCA9IHRydWU7CgkgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApCgkgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTsKCSAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7CgkgIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9OwoJICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpOwoJICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7CgkgIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7CgkgIHJldHVybiB3cmFwcGVkOwoJfQoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHsKCSAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7CgkgIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7CgkgIHJldHVybiB0aGlzOwoJfTsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPQoJICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKCSAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpOwoJICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoKCS8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0KCSAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewoJICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7CgoJICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7CgoJICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzOwoJICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKQoJICAgICAgICByZXR1cm4gdGhpczsKCgkgICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdOwoJICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZCkKCSAgICAgICAgcmV0dXJuIHRoaXM7CgoJICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7CgkgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKQoJICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07CgkgICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcikKCSAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTsKCSAgICAgICAgfQoJICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykgewoJICAgICAgICBwb3NpdGlvbiA9IC0xOwoKCSAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewoJICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikgewoJICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7CgkgICAgICAgICAgICBwb3NpdGlvbiA9IGk7CgkgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCgkgICAgICAgIGlmIChwb3NpdGlvbiA8IDApCgkgICAgICAgICAgcmV0dXJuIHRoaXM7CgoJICAgICAgICBpZiAocG9zaXRpb24gPT09IDApCgkgICAgICAgICAgbGlzdC5zaGlmdCgpOwoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pOwoJICAgICAgICB9CgoJICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpCgkgICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTsKCgkgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZCkKCSAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7CgkgICAgICB9CgoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7CgoJRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPQoJICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7CgkgICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7CgoJICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzOwoJICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKQoJICAgICAgICByZXR1cm4gdGhpczsKCgkgICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0CgkgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoJICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDsKCSAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKQoJICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKCSAgICAgICAgICBlbHNlCgkgICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgfQoKCSAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50cwoJICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpOwoJICAgICAgICB2YXIga2V5OwoJICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkgewoJICAgICAgICAgIGtleSA9IGtleXNbaV07CgkgICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7CgkgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTsKCSAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKCSAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgIH0KCgkgICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07CgoJICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHsKCSAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpOwoJICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAvLyBMSUZPIG9yZGVyCgkgICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewoJICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTsKCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH07CgoJZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkgewoJICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7CgoJICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpCgkgICAgcmV0dXJuIFtdOwoKCSAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07CgkgIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpCgkgICAgcmV0dXJuIFtdOwoKCSAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKQoJICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTsKCgkgIHJldHVybiB1bndyYXAgPwoJICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpOwoJfQoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHsKCSAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7Cgl9OwoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHsKCSAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpOwoJfTsKCglFdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHsKCSAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHsKCSAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOwoJICB9IGVsc2UgewoJICAgIHJldHVybiBsaXN0ZW5lckNvdW50JDEuY2FsbChlbWl0dGVyLCB0eXBlKTsKCSAgfQoJfTsKCglFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50JDE7CglmdW5jdGlvbiBsaXN0ZW5lckNvdW50JDEodHlwZSkgewoJICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzOwoKCSAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7CgkgICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07CgoJICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgcmV0dXJuIDE7CgkgICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHsKCSAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDsKCSAgICB9CgkgIH0KCgkgIHJldHVybiAwOwoJfQoKCUV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7CgkgIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107Cgl9OwoKCWZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7CgkgIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pOwoJICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkKCSAgICBjb3B5W2ldID0gYXJyW2ldOwoJICByZXR1cm4gY29weTsKCX0KCglmdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHsKCSAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKQoJICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdOwoJICBsaXN0LnBvcCgpOwoJfQoKCWZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHsKCSAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHsKCSAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldOwoJICB9CgkgIHJldHVybiByZXQ7Cgl9CgoJZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7CgkgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkgICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHsKCSAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpOwoJICAgICAgcmVqZWN0KGVycik7CgkgICAgfQoKCSAgICBmdW5jdGlvbiByZXNvbHZlcigpIHsKCSAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpOwoJICAgICAgfQoJICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpOwoJICAgIH0KCSAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTsKCSAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykgewoJICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pOwoJICAgIH0KCSAgfSk7Cgl9CgoJZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHsKCSAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7CgkgICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHsKCSAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7CgkgICAgaWYgKGZsYWdzLm9uY2UpIHsKCSAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7CgkgICAgfSBlbHNlIHsKCSAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpOwoJICAgIH0KCSAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7CgkgICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGUKCSAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLgoJICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7CgkgICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlCgkgICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LgoJICAgICAgaWYgKGZsYWdzLm9uY2UpIHsKCSAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7CgkgICAgICB9CgkgICAgICBsaXN0ZW5lcihhcmcpOwoJICAgIH0pOwoJICB9IGVsc2UgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAiZW1pdHRlciIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpOwoJICB9Cgl9CgoJdmFyIEVFID0gZXZlbnRzJDEuZXhwb3J0czsKCglmdW5jdGlvbiBCdWZmZXJMaXN0KCkgewoJICB0aGlzLmhlYWQgPSBudWxsOwoJICB0aGlzLnRhaWwgPSBudWxsOwoJICB0aGlzLmxlbmd0aCA9IDA7Cgl9CgoJQnVmZmVyTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh2KSB7CgkgIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogbnVsbCB9OwoJICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7CgkgIHRoaXMudGFpbCA9IGVudHJ5OwoJICArK3RoaXMubGVuZ3RoOwoJfTsKCglCdWZmZXJMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKHYpIHsKCSAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiB0aGlzLmhlYWQgfTsKCSAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB0aGlzLnRhaWwgPSBlbnRyeTsKCSAgdGhpcy5oZWFkID0gZW50cnk7CgkgICsrdGhpcy5sZW5ndGg7Cgl9OwoKCUJ1ZmZlckxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkgewoJICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybjsKCSAgdmFyIHJldCA9IHRoaXMuaGVhZC5kYXRhOwoJICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7ZWxzZSB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDsKCSAgLS10aGlzLmxlbmd0aDsKCSAgcmV0dXJuIHJldDsKCX07CgoJQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CgkgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7CgkgIHRoaXMubGVuZ3RoID0gMDsKCX07CgoJQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIChzKSB7CgkgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnOwoJICB2YXIgcCA9IHRoaXMuaGVhZDsKCSAgdmFyIHJldCA9ICcnICsgcC5kYXRhOwoJICB3aGlsZSAocCA9IHAubmV4dCkgewoJICAgIHJldCArPSBzICsgcC5kYXRhOwoJICB9cmV0dXJuIHJldDsKCX07CgoJQnVmZmVyTGlzdC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gKG4pIHsKCSAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gYnVmZmVyLkJ1ZmZlci5hbGxvYygwKTsKCSAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSByZXR1cm4gdGhpcy5oZWFkLmRhdGE7CgkgIHZhciByZXQgPSBidWZmZXIuQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApOwoJICB2YXIgcCA9IHRoaXMuaGVhZDsKCSAgdmFyIGkgPSAwOwoJICB3aGlsZSAocCkgewoJICAgIHAuZGF0YS5jb3B5KHJldCwgaSk7CgkgICAgaSArPSBwLmRhdGEubGVuZ3RoOwoJICAgIHAgPSBwLm5leHQ7CgkgIH0KCSAgcmV0dXJuIHJldDsKCX07CgoJdmFyIHN0cmluZ19kZWNvZGVyID0ge307CgoJdmFyIHNhZmVCdWZmZXIgPSB7ZXhwb3J0czoge319OwoKCS8qIGVzbGludC1kaXNhYmxlIG5vZGUvbm8tZGVwcmVjYXRlZC1hcGkgKi8KCgkoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewoJdmFyIGJ1ZmZlciQxID0gYnVmZmVyOwoJdmFyIEJ1ZmZlciA9IGJ1ZmZlciQxLkJ1ZmZlcjsKCgkvLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzCglmdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7CgkgIGZvciAodmFyIGtleSBpbiBzcmMpIHsKCSAgICBkc3Rba2V5XSA9IHNyY1trZXldOwoJICB9Cgl9CglpZiAoQnVmZmVyLmZyb20gJiYgQnVmZmVyLmFsbG9jICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZSAmJiBCdWZmZXIuYWxsb2NVbnNhZmVTbG93KSB7CgkgIG1vZHVsZS5leHBvcnRzID0gYnVmZmVyJDE7Cgl9IGVsc2UgewoJICAvLyBDb3B5IHByb3BlcnRpZXMgZnJvbSByZXF1aXJlKCdidWZmZXInKQoJICBjb3B5UHJvcHMoYnVmZmVyJDEsIGV4cG9ydHMpOwoJICBleHBvcnRzLkJ1ZmZlciA9IFNhZmVCdWZmZXI7Cgl9CgoJZnVuY3Rpb24gU2FmZUJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHsKCSAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkKCX0KCgkvLyBDb3B5IHN0YXRpYyBtZXRob2RzIGZyb20gQnVmZmVyCgljb3B5UHJvcHMoQnVmZmVyLCBTYWZlQnVmZmVyKTsKCglTYWZlQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHsKCSAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKQoJICB9CgkgIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpCgl9OwoKCVNhZmVCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHsKCSAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKQoJICB9CgkgIHZhciBidWYgPSBCdWZmZXIoc2l6ZSk7CgkgIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHsKCSAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgewoJICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpOwoJICAgIH0gZWxzZSB7CgkgICAgICBidWYuZmlsbChmaWxsKTsKCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgYnVmLmZpbGwoMCk7CgkgIH0KCSAgcmV0dXJuIGJ1ZgoJfTsKCglTYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHsKCSAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKQoJICB9CgkgIHJldHVybiBCdWZmZXIoc2l6ZSkKCX07CgoJU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkgewoJICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpCgkgIH0KCSAgcmV0dXJuIGJ1ZmZlciQxLlNsb3dCdWZmZXIoc2l6ZSkKCX07Cgl9KHNhZmVCdWZmZXIsIHNhZmVCdWZmZXIuZXhwb3J0cykpOwoKCS8qPHJlcGxhY2VtZW50PiovCgoJdmFyIEJ1ZmZlciA9IHNhZmVCdWZmZXIuZXhwb3J0cy5CdWZmZXI7CgkvKjwvcmVwbGFjZW1lbnQ+Ki8KCgl2YXIgaXNFbmNvZGluZyA9IEJ1ZmZlci5pc0VuY29kaW5nIHx8IGZ1bmN0aW9uIChlbmNvZGluZykgewoJICBlbmNvZGluZyA9ICcnICsgZW5jb2Rpbmc7CgkgIHN3aXRjaCAoZW5jb2RpbmcgJiYgZW5jb2RpbmcudG9Mb3dlckNhc2UoKSkgewoJICAgIGNhc2UgJ2hleCc6Y2FzZSAndXRmOCc6Y2FzZSAndXRmLTgnOmNhc2UgJ2FzY2lpJzpjYXNlICdiaW5hcnknOmNhc2UgJ2Jhc2U2NCc6Y2FzZSAndWNzMic6Y2FzZSAndWNzLTInOmNhc2UgJ3V0ZjE2bGUnOmNhc2UgJ3V0Zi0xNmxlJzpjYXNlICdyYXcnOgoJICAgICAgcmV0dXJuIHRydWU7CgkgICAgZGVmYXVsdDoKCSAgICAgIHJldHVybiBmYWxzZTsKCSAgfQoJfTsKCglmdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7CgkgIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnOwoJICB2YXIgcmV0cmllZDsKCSAgd2hpbGUgKHRydWUpIHsKCSAgICBzd2l0Y2ggKGVuYykgewoJICAgICAgY2FzZSAndXRmOCc6CgkgICAgICBjYXNlICd1dGYtOCc6CgkgICAgICAgIHJldHVybiAndXRmOCc7CgkgICAgICBjYXNlICd1Y3MyJzoKCSAgICAgIGNhc2UgJ3Vjcy0yJzoKCSAgICAgIGNhc2UgJ3V0ZjE2bGUnOgoJICAgICAgY2FzZSAndXRmLTE2bGUnOgoJICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnOwoJICAgICAgY2FzZSAnbGF0aW4xJzoKCSAgICAgIGNhc2UgJ2JpbmFyeSc6CgkgICAgICAgIHJldHVybiAnbGF0aW4xJzsKCSAgICAgIGNhc2UgJ2Jhc2U2NCc6CgkgICAgICBjYXNlICdhc2NpaSc6CgkgICAgICBjYXNlICdoZXgnOgoJICAgICAgICByZXR1cm4gZW5jOwoJICAgICAgZGVmYXVsdDoKCSAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkCgkgICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTsKCSAgICAgICAgcmV0cmllZCA9IHRydWU7CgkgICAgfQoJICB9Cgl9CgkvLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWUKCS8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3MKCWZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykgewoJICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpOwoJICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTsKCSAgcmV0dXJuIG5lbmMgfHwgZW5jOwoJfQoKCS8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2YKCS8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZQoJLy8gY2hhcmFjdGVycy4KCXZhciBTdHJpbmdEZWNvZGVyXzEgPSBzdHJpbmdfZGVjb2Rlci5TdHJpbmdEZWNvZGVyID0gU3RyaW5nRGVjb2RlciQxOwoJZnVuY3Rpb24gU3RyaW5nRGVjb2RlciQxKGVuY29kaW5nKSB7CgkgIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7CgkgIHZhciBuYjsKCSAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7CgkgICAgY2FzZSAndXRmMTZsZSc6CgkgICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7CgkgICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kOwoJICAgICAgbmIgPSA0OwoJICAgICAgYnJlYWs7CgkgICAgY2FzZSAndXRmOCc6CgkgICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0OwoJICAgICAgbmIgPSA0OwoJICAgICAgYnJlYWs7CgkgICAgY2FzZSAnYmFzZTY0JzoKCSAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7CgkgICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDsKCSAgICAgIG5iID0gMzsKCSAgICAgIGJyZWFrOwoJICAgIGRlZmF1bHQ6CgkgICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7CgkgICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDsKCSAgICAgIHJldHVybjsKCSAgfQoJICB0aGlzLmxhc3ROZWVkID0gMDsKCSAgdGhpcy5sYXN0VG90YWwgPSAwOwoJICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTsKCX0KCglTdHJpbmdEZWNvZGVyJDEucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1ZikgewoJICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnOwoJICB2YXIgcjsKCSAgdmFyIGk7CgkgIGlmICh0aGlzLmxhc3ROZWVkKSB7CgkgICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTsKCSAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7CgkgICAgaSA9IHRoaXMubGFzdE5lZWQ7CgkgICAgdGhpcy5sYXN0TmVlZCA9IDA7CgkgIH0gZWxzZSB7CgkgICAgaSA9IDA7CgkgIH0KCSAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpOwoJICByZXR1cm4gciB8fCAnJzsKCX07CgoJU3RyaW5nRGVjb2RlciQxLnByb3RvdHlwZS5lbmQgPSB1dGY4RW5kOwoKCS8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyCglTdHJpbmdEZWNvZGVyJDEucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDsKCgkvLyBBdHRlbXB0cyB0byBjb21wbGV0ZSBhIHBhcnRpYWwgbm9uLVVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyCglTdHJpbmdEZWNvZGVyJDEucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1ZikgewoJICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7CgkgICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTsKCSAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7CgkgIH0KCSAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTsKCSAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoOwoJfTsKCgkvLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhCgkvLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC4KCWZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkgewoJICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDsKCSAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7Cgl9CgoJLy8gQ2hlY2tzIGF0IG1vc3QgMyBieXRlcyBhdCB0aGUgZW5kIG9mIGEgQnVmZmVyIGluIG9yZGVyIHRvIGRldGVjdCBhbgoJLy8gaW5jb21wbGV0ZSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3Rlci4gVGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyAoMiwgMywgb3IgNCkKCS8vIG5lZWRlZCB0byBjb21wbGV0ZSB0aGUgVVRGLTggY2hhcmFjdGVyIChpZiBhcHBsaWNhYmxlKSBhcmUgcmV0dXJuZWQuCglmdW5jdGlvbiB1dGY4Q2hlY2tJbmNvbXBsZXRlKHNlbGYsIGJ1ZiwgaSkgewoJICB2YXIgaiA9IGJ1Zi5sZW5ndGggLSAxOwoJICBpZiAoaiA8IGkpIHJldHVybiAwOwoJICB2YXIgbmIgPSB1dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7CgkgIGlmIChuYiA+PSAwKSB7CgkgICAgaWYgKG5iID4gMCkgc2VsZi5sYXN0TmVlZCA9IG5iIC0gMTsKCSAgICByZXR1cm4gbmI7CgkgIH0KCSAgaWYgKC0taiA8IGkgfHwgbmIgPT09IC0yKSByZXR1cm4gMDsKCSAgbmIgPSB1dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7CgkgIGlmIChuYiA+PSAwKSB7CgkgICAgaWYgKG5iID4gMCkgc2VsZi5sYXN0TmVlZCA9IG5iIC0gMjsKCSAgICByZXR1cm4gbmI7CgkgIH0KCSAgaWYgKC0taiA8IGkgfHwgbmIgPT09IC0yKSByZXR1cm4gMDsKCSAgbmIgPSB1dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7CgkgIGlmIChuYiA+PSAwKSB7CgkgICAgaWYgKG5iID4gMCkgewoJICAgICAgaWYgKG5iID09PSAyKSBuYiA9IDA7ZWxzZSBzZWxmLmxhc3ROZWVkID0gbmIgLSAzOwoJICAgIH0KCSAgICByZXR1cm4gbmI7CgkgIH0KCSAgcmV0dXJuIDA7Cgl9CgoJLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzCgkvLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdAoJLy8gb25lLCB3ZSAicmVwbGFjZSIgdGhlIHZhbGlkYXRlZCBjb250aW51YXRpb24gYnl0ZXMgd2UndmUgc2VlbiBzbyBmYXIgd2l0aAoJLy8gYSBzaW5nbGUgVVRGLTggcmVwbGFjZW1lbnQgY2hhcmFjdGVyICgnXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2RpbmcKCS8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2UKCS8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuCgkvLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhCgkvLyBsb29wLgoJZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHsKCSAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkgewoJICAgIHNlbGYubGFzdE5lZWQgPSAwOwoJICAgIHJldHVybiAnXHVmZmZkJzsKCSAgfQoJICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHsKCSAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7CgkgICAgICBzZWxmLmxhc3ROZWVkID0gMTsKCSAgICAgIHJldHVybiAnXHVmZmZkJzsKCSAgICB9CgkgICAgaWYgKHNlbGYubGFzdE5lZWQgPiAyICYmIGJ1Zi5sZW5ndGggPiAyKSB7CgkgICAgICBpZiAoKGJ1ZlsyXSAmIDB4QzApICE9PSAweDgwKSB7CgkgICAgICAgIHNlbGYubGFzdE5lZWQgPSAyOwoJICAgICAgICByZXR1cm4gJ1x1ZmZmZCc7CgkgICAgICB9CgkgICAgfQoJICB9Cgl9CgoJLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLgoJZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1ZikgewoJICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDsKCSAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1Zik7CgkgIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByOwoJICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7CgkgICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7CgkgICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpOwoJICB9CgkgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpOwoJICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7Cgl9CgoJLy8gUmV0dXJucyBhbGwgY29tcGxldGUgVVRGLTggY2hhcmFjdGVycyBpbiBhIEJ1ZmZlci4gSWYgdGhlIEJ1ZmZlciBlbmRlZCBvbiBhCgkvLyBwYXJ0aWFsIGNoYXJhY3RlciwgdGhlIGNoYXJhY3RlcidzIGJ5dGVzIGFyZSBidWZmZXJlZCB1bnRpbCB0aGUgcmVxdWlyZWQKCS8vIG51bWJlciBvZiBieXRlcyBhcmUgYXZhaWxhYmxlLgoJZnVuY3Rpb24gdXRmOFRleHQoYnVmLCBpKSB7CgkgIHZhciB0b3RhbCA9IHV0ZjhDaGVja0luY29tcGxldGUodGhpcywgYnVmLCBpKTsKCSAgaWYgKCF0aGlzLmxhc3ROZWVkKSByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSk7CgkgIHRoaXMubGFzdFRvdGFsID0gdG90YWw7CgkgIHZhciBlbmQgPSBidWYubGVuZ3RoIC0gKHRvdGFsIC0gdGhpcy5sYXN0TmVlZCk7CgkgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIDAsIGVuZCk7CgkgIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpLCBlbmQpOwoJfQoKCS8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsCgkvLyBjaGFyYWN0ZXIuCglmdW5jdGlvbiB1dGY4RW5kKGJ1ZikgewoJICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7CgkgIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcdWZmZmQnOwoJICByZXR1cm4gcjsKCX0KCgkvLyBVVEYtMTZMRSB0eXBpY2FsbHkgbmVlZHMgdHdvIGJ5dGVzIHBlciBjaGFyYWN0ZXIsIGJ1dCBldmVuIGlmIHdlIGhhdmUgYW4gZXZlbgoJLy8gbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZSwgd2UgbmVlZCB0byBjaGVjayBpZiB3ZSBlbmQgb24gYSBsZWFkaW5nL2hpZ2gKCS8vIHN1cnJvZ2F0ZS4gSW4gdGhhdCBjYXNlLCB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBuZXh0IHR3byBieXRlcyBpbiBvcmRlciB0bwoJLy8gZGVjb2RlIHRoZSBsYXN0IGNoYXJhY3RlciBwcm9wZXJseS4KCWZ1bmN0aW9uIHV0ZjE2VGV4dChidWYsIGkpIHsKCSAgaWYgKChidWYubGVuZ3RoIC0gaSkgJSAyID09PSAwKSB7CgkgICAgdmFyIHIgPSBidWYudG9TdHJpbmcoJ3V0ZjE2bGUnLCBpKTsKCSAgICBpZiAocikgewoJICAgICAgdmFyIGMgPSByLmNoYXJDb2RlQXQoci5sZW5ndGggLSAxKTsKCSAgICAgIGlmIChjID49IDB4RDgwMCAmJiBjIDw9IDB4REJGRikgewoJICAgICAgICB0aGlzLmxhc3ROZWVkID0gMjsKCSAgICAgICAgdGhpcy5sYXN0VG90YWwgPSA0OwoJICAgICAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTsKCSAgICAgICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07CgkgICAgICAgIHJldHVybiByLnNsaWNlKDAsIC0xKTsKCSAgICAgIH0KCSAgICB9CgkgICAgcmV0dXJuIHI7CgkgIH0KCSAgdGhpcy5sYXN0TmVlZCA9IDE7CgkgIHRoaXMubGFzdFRvdGFsID0gMjsKCSAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07CgkgIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjE2bGUnLCBpLCBidWYubGVuZ3RoIC0gMSk7Cgl9CgoJLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2UKCS8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LgoJZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7CgkgIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJzsKCSAgaWYgKHRoaXMubGFzdE5lZWQpIHsKCSAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkOwoJICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7CgkgIH0KCSAgcmV0dXJuIHI7Cgl9CgoJZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHsKCSAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMzsKCSAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpOwoJICB0aGlzLmxhc3ROZWVkID0gMyAtIG47CgkgIHRoaXMubGFzdFRvdGFsID0gMzsKCSAgaWYgKG4gPT09IDEpIHsKCSAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTsKCSAgfSBlbHNlIHsKCSAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTsKCSAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTsKCSAgfQoJICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7Cgl9CgoJZnVuY3Rpb24gYmFzZTY0RW5kKGJ1ZikgewoJICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7CgkgIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArIHRoaXMubGFzdENoYXIudG9TdHJpbmcoJ2Jhc2U2NCcsIDAsIDMgLSB0aGlzLmxhc3ROZWVkKTsKCSAgcmV0dXJuIHI7Cgl9CgoJLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KQoJZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7CgkgIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7Cgl9CgoJZnVuY3Rpb24gc2ltcGxlRW5kKGJ1ZikgewoJICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJzsKCX0KCglSZWFkYWJsZS5SZWFkYWJsZVN0YXRlID0gUmVhZGFibGVTdGF0ZTsKCgl2YXIgZGVidWckMiA9IGRlYnVnbG9nKCdzdHJlYW0nKTsKCWluaGVyaXRzJDEoUmVhZGFibGUsIEVFKTsKCglmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuKSB7CgkgIC8vIFNhZGx5IHRoaXMgaXMgbm90IGNhY2hlYWJsZSBhcyBzb21lIGxpYnJhcmllcyBidW5kbGUgdGhlaXIgb3duCgkgIC8vIGV2ZW50IGVtaXR0ZXIgaW1wbGVtZW50YXRpb24gd2l0aCB0aGVtLgoJICBpZiAodHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7CgkgICAgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7CgkgIH0gZWxzZSB7CgkgICAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIGFueQoJICAgIC8vIHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLiBUaGlzIGlzIGhlcmUgb25seSBiZWNhdXNlIHRoaXMgY29kZSBuZWVkcwoJICAgIC8vIHRvIGNvbnRpbnVlIHRvIHdvcmsgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBOb2RlLmpzIHRoYXQgZG8gbm90IGluY2x1ZGUKCSAgICAvLyB0aGUgcHJlcGVuZExpc3RlbmVyKCkgbWV0aG9kLiBUaGUgZ29hbCBpcyB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGhhY2suCgkgICAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pCgkgICAgICBlbWl0dGVyLm9uKGV2ZW50LCBmbik7CgkgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkKCSAgICAgIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0udW5zaGlmdChmbik7CgkgICAgZWxzZQoJICAgICAgZW1pdHRlci5fZXZlbnRzW2V2ZW50XSA9IFtmbiwgZW1pdHRlci5fZXZlbnRzW2V2ZW50XV07CgkgIH0KCX0KCWZ1bmN0aW9uIGxpc3RlbmVyQ291bnQgKGVtaXR0ZXIsIHR5cGUpIHsKCSAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDsKCX0KCWZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7CgoJICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCgkgIC8vIG9iamVjdCBzdHJlYW0gZmxhZy4gVXNlZCB0byBtYWtlIHJlYWQobikgaWdub3JlIG4gYW5kIHRvCgkgIC8vIG1ha2UgYWxsIHRoZSBidWZmZXIgbWVyZ2luZyBhbmQgbGVuZ3RoIGNoZWNrcyBnbyBhd2F5CgkgIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlOwoKCSAgaWYgKHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGU7CgoJICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlcgoJICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zICJkb24ndCBjYWxsIF9yZWFkIHByZWVtcHRpdmVseSBldmVyIgoJICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrOwoJICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0OwoJICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod20gfHwgaHdtID09PSAwID8gaHdtIDogZGVmYXVsdEh3bTsKCgkgIC8vIGNhc3QgdG8gaW50cy4KCSAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrOwoKCSAgLy8gQSBsaW5rZWQgbGlzdCBpcyB1c2VkIHRvIHN0b3JlIGRhdGEgY2h1bmtzIGluc3RlYWQgb2YgYW4gYXJyYXkgYmVjYXVzZSB0aGUKCSAgLy8gbGlua2VkIGxpc3QgY2FuIHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBiZWdpbm5pbmcgZmFzdGVyIHRoYW4KCSAgLy8gYXJyYXkuc2hpZnQoKQoJICB0aGlzLmJ1ZmZlciA9IG5ldyBCdWZmZXJMaXN0KCk7CgkgIHRoaXMubGVuZ3RoID0gMDsKCSAgdGhpcy5waXBlcyA9IG51bGw7CgkgIHRoaXMucGlwZXNDb3VudCA9IDA7CgkgIHRoaXMuZmxvd2luZyA9IG51bGw7CgkgIHRoaXMuZW5kZWQgPSBmYWxzZTsKCSAgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2U7CgkgIHRoaXMucmVhZGluZyA9IGZhbHNlOwoKCSAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksCgkgIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55CgkgIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsICJsYXRlciIgc2hvdWxkIGdlbmVyYWxseSBhbHNvCgkgIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLgoJICB0aGlzLnN5bmMgPSB0cnVlOwoKCSAgLy8gd2hlbmV2ZXIgd2UgcmV0dXJuIG51bGwsIHRoZW4gd2Ugc2V0IGEgZmxhZyB0byBzYXkKCSAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uCgkgIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7CgkgIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7CgkgIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTsKCSAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTsKCgkgIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmcKCSAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLgoJICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guCgkgIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnOwoKCSAgLy8gd2hlbiBwaXBpbmcsIHdlIG9ubHkgY2FyZSBhYm91dCAncmVhZGFibGUnIGV2ZW50cyB0aGF0IGhhcHBlbgoJICAvLyBhZnRlciByZWFkKClpbmcgYWxsIHRoZSBieXRlcyBhbmQgbm90IGdldHRpbmcgYW55IHB1c2hiYWNrLgoJICB0aGlzLnJhbk91dCA9IGZhbHNlOwoKCSAgLy8gdGhlIG51bWJlciBvZiB3cml0ZXJzIHRoYXQgYXJlIGF3YWl0aW5nIGEgZHJhaW4gZXZlbnQgaW4gLnBpcGUoKXMKCSAgdGhpcy5hd2FpdERyYWluID0gMDsKCgkgIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWQKCSAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlOwoKCSAgdGhpcy5kZWNvZGVyID0gbnVsbDsKCSAgdGhpcy5lbmNvZGluZyA9IG51bGw7CgkgIGlmIChvcHRpb25zLmVuY29kaW5nKSB7CgkgICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXJfMShvcHRpb25zLmVuY29kaW5nKTsKCSAgICB0aGlzLmVuY29kaW5nID0gb3B0aW9ucy5lbmNvZGluZzsKCSAgfQoJfQoJZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykgewoKCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSkgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTsKCgkgIHRoaXMuX3JlYWRhYmxlU3RhdGUgPSBuZXcgUmVhZGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTsKCgkgIC8vIGxlZ2FjeQoJICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTsKCgkgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpIHRoaXMuX3JlYWQgPSBvcHRpb25zLnJlYWQ7CgoJICBFRS5jYWxsKHRoaXMpOwoJfQoKCS8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLgoJLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsCgkvLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkCgkvLyB3cml0ZSgpIHNvbWUgbW9yZS4KCVJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykgewoJICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoKCSAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHsKCSAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZzsKCSAgICBpZiAoZW5jb2RpbmcgIT09IHN0YXRlLmVuY29kaW5nKSB7CgkgICAgICBjaHVuayA9IGJ1ZmZlci5CdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpOwoJICAgICAgZW5jb2RpbmcgPSAnJzsKCSAgICB9CgkgIH0KCgkgIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlKTsKCX07CgoJLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKCkKCVJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGNodW5rKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgkgIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgJycsIHRydWUpOwoJfTsKCglSZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbiAoKSB7CgkgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlOwoJfTsKCglmdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgYWRkVG9Gcm9udCkgewoJICB2YXIgZXIgPSBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKTsKCSAgaWYgKGVyKSB7CgkgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpOwoJICB9IGVsc2UgaWYgKGNodW5rID09PSBudWxsKSB7CgkgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlOwoJICAgIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSk7CgkgIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuayAmJiBjaHVuay5sZW5ndGggPiAwKSB7CgkgICAgaWYgKHN0YXRlLmVuZGVkICYmICFhZGRUb0Zyb250KSB7CgkgICAgICB2YXIgZSA9IG5ldyBFcnJvcignc3RyZWFtLnB1c2goKSBhZnRlciBFT0YnKTsKCSAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGUpOwoJICAgIH0gZWxzZSBpZiAoc3RhdGUuZW5kRW1pdHRlZCAmJiBhZGRUb0Zyb250KSB7CgkgICAgICB2YXIgX2UgPSBuZXcgRXJyb3IoJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Jyk7CgkgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBfZSk7CgkgICAgfSBlbHNlIHsKCSAgICAgIHZhciBza2lwQWRkOwoJICAgICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIWFkZFRvRnJvbnQgJiYgIWVuY29kaW5nKSB7CgkgICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7CgkgICAgICAgIHNraXBBZGQgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBjaHVuay5sZW5ndGggPT09IDA7CgkgICAgICB9CgoJICAgICAgaWYgKCFhZGRUb0Zyb250KSBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7CgoJICAgICAgLy8gRG9uJ3QgYWRkIHRvIHRoZSBidWZmZXIgaWYgd2UndmUgZGVjb2RlZCB0byBhbiBlbXB0eSBzdHJpbmcgY2h1bmsgYW5kCgkgICAgICAvLyB3ZSdyZSBub3QgaW4gb2JqZWN0IG1vZGUKCSAgICAgIGlmICghc2tpcEFkZCkgewoJICAgICAgICAvLyBpZiB3ZSB3YW50IHRoZSBkYXRhIG5vdywganVzdCBlbWl0IGl0LgoJICAgICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHsKCSAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTsKCSAgICAgICAgICBzdHJlYW0ucmVhZCgwKTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLgoJICAgICAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDsKCSAgICAgICAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspOwoKCSAgICAgICAgICBpZiAoc3RhdGUubmVlZFJlYWRhYmxlKSBlbWl0UmVhZGFibGUoc3RyZWFtKTsKCSAgICAgICAgfQoJICAgICAgfQoKCSAgICAgIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7CgkgICAgfQoJICB9IGVsc2UgaWYgKCFhZGRUb0Zyb250KSB7CgkgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlOwoJICB9CgoJICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTsKCX0KCgkvLyBpZiBpdCdzIHBhc3QgdGhlIGhpZ2ggd2F0ZXIgbWFyaywgd2UgY2FuIHB1c2ggaW4gc29tZSBtb3JlLgoJLy8gQWxzbywgaWYgd2UgaGF2ZSBubyBkYXRhIHlldCwgd2UgY2FuIHN0YW5kIHNvbWUKCS8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLAoJLy8gc3VjaCBhcyB0aGUgcmVwbC4gIEFsc28sIGlmIHRoZSBwdXNoKCkgdHJpZ2dlcmVkIGEKCS8vIHJlYWRhYmxlIGV2ZW50LCBhbmQgdGhlIHVzZXIgY2FsbGVkIHJlYWQobGFyZ2VOdW1iZXIpIHN1Y2ggdGhhdAoJLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXIKCS8vICdyZWFkYWJsZScgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQuCglmdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpIHsKCSAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubmVlZFJlYWRhYmxlIHx8IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTsKCX0KCgkvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4KCVJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIChlbmMpIHsKCSAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXJfMShlbmMpOwoJICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jOwoJICByZXR1cm4gdGhpczsKCX07CgoJLy8gRG9uJ3QgcmFpc2UgdGhlIGh3bSA+IDhNQgoJdmFyIE1BWF9IV00gPSAweDgwMDAwMDsKCWZ1bmN0aW9uIGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pIHsKCSAgaWYgKG4gPj0gTUFYX0hXTSkgewoJICAgIG4gPSBNQVhfSFdNOwoJICB9IGVsc2UgewoJICAgIC8vIEdldCB0aGUgbmV4dCBoaWdoZXN0IHBvd2VyIG9mIDIgdG8gcHJldmVudCBpbmNyZWFzaW5nIGh3bSBleGNlc3NpdmVseSBpbgoJICAgIC8vIHRpbnkgYW1vdW50cwoJICAgIG4tLTsKCSAgICBuIHw9IG4gPj4+IDE7CgkgICAgbiB8PSBuID4+PiAyOwoJICAgIG4gfD0gbiA+Pj4gNDsKCSAgICBuIHw9IG4gPj4+IDg7CgkgICAgbiB8PSBuID4+PiAxNjsKCSAgICBuKys7CgkgIH0KCSAgcmV0dXJuIG47Cgl9CgoJLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmcKCS8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuCglmdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKSB7CgkgIGlmIChuIDw9IDAgfHwgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSByZXR1cm4gMDsKCSAgaWYgKHN0YXRlLm9iamVjdE1vZGUpIHJldHVybiAxOwoJICBpZiAobiAhPT0gbikgewoJICAgIC8vIE9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZQoJICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoO2Vsc2UgcmV0dXJuIHN0YXRlLmxlbmd0aDsKCSAgfQoJICAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgY3VycmVudCBod20sIHRoZW4gcmFpc2UgdGhlIGh3bS4KCSAgaWYgKG4gPiBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobik7CgkgIGlmIChuIDw9IHN0YXRlLmxlbmd0aCkgcmV0dXJuIG47CgkgIC8vIERvbid0IGhhdmUgZW5vdWdoCgkgIGlmICghc3RhdGUuZW5kZWQpIHsKCSAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwoJICAgIHJldHVybiAwOwoJICB9CgkgIHJldHVybiBzdGF0ZS5sZW5ndGg7Cgl9CgoJLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy4KCVJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHsKCSAgZGVidWckMigncmVhZCcsIG4pOwoJICBuID0gcGFyc2VJbnQobiwgMTApOwoJICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoJICB2YXIgbk9yaWcgPSBuOwoKCSAgaWYgKG4gIT09IDApIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlOwoKCSAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZQoJICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyCgkgIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLgoJICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkgewoJICAgIGRlYnVnJDIoJ3JlYWQ6IGVtaXRSZWFkYWJsZScsIHN0YXRlLmxlbmd0aCwgc3RhdGUuZW5kZWQpOwoJICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIGVuZFJlYWRhYmxlKHRoaXMpO2Vsc2UgZW1pdFJlYWRhYmxlKHRoaXMpOwoJICAgIHJldHVybiBudWxsOwoJICB9CgoJICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7CgoJICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuCgkgIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7CgkgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7CgkgICAgcmV0dXJuIG51bGw7CgkgIH0KCgkgIC8vIEFsbCB0aGUgYWN0dWFsIGNodW5rIGdlbmVyYXRpb24gbG9naWMgbmVlZHMgdG8gYmUKCSAgLy8gKmJlbG93KiB0aGUgY2FsbCB0byBfcmVhZC4gIFRoZSByZWFzb24gaXMgdGhhdCBpbiBjZXJ0YWluCgkgIC8vIHN5bnRoZXRpYyBzdHJlYW0gY2FzZXMsIHN1Y2ggYXMgcGFzc3Rocm91Z2ggc3RyZWFtcywgX3JlYWQKCSAgLy8gbWF5IGJlIGEgY29tcGxldGVseSBzeW5jaHJvbm91cyBvcGVyYXRpb24gd2hpY2ggbWF5IGNoYW5nZQoJICAvLyB0aGUgc3RhdGUgb2YgdGhlIHJlYWQgYnVmZmVyLCBwcm92aWRpbmcgZW5vdWdoIGRhdGEgd2hlbgoJICAvLyBiZWZvcmUgdGhlcmUgd2FzICpub3QqIGVub3VnaC4KCSAgLy8KCSAgLy8gU28sIHRoZSBzdGVwcyBhcmU6CgkgIC8vIDEuIEZpZ3VyZSBvdXQgd2hhdCB0aGUgc3RhdGUgb2YgdGhpbmdzIHdpbGwgYmUgYWZ0ZXIgd2UgZG8KCSAgLy8gYSByZWFkIGZyb20gdGhlIGJ1ZmZlci4KCSAgLy8KCSAgLy8gMi4gSWYgdGhhdCByZXN1bHRpbmcgc3RhdGUgd2lsbCB0cmlnZ2VyIGEgX3JlYWQsIHRoZW4gY2FsbCBfcmVhZC4KCSAgLy8gTm90ZSB0aGF0IHRoaXMgbWF5IGJlIGFzeW5jaHJvbm91cywgb3Igc3luY2hyb25vdXMuICBZZXMsIGl0IGlzCgkgIC8vIGRlZXBseSB1Z2x5IHRvIHdyaXRlIEFQSXMgdGhpcyB3YXksIGJ1dCB0aGF0IHN0aWxsIGRvZXNuJ3QgbWVhbgoJICAvLyB0aGF0IHRoZSBSZWFkYWJsZSBjbGFzcyBzaG91bGQgYmVoYXZlIGltcHJvcGVybHksIGFzIHN0cmVhbXMgYXJlCgkgIC8vIGRlc2lnbmVkIHRvIGJlIHN5bmMvYXN5bmMgYWdub3N0aWMuCgkgIC8vIFRha2Ugbm90ZSBpZiB0aGUgX3JlYWQgY2FsbCBpcyBzeW5jIG9yIGFzeW5jIChpZSwgaWYgdGhlIHJlYWQgY2FsbAoJICAvLyBoYXMgcmV0dXJuZWQgeWV0KSwgc28gdGhhdCB3ZSBrbm93IHdoZXRoZXIgb3Igbm90IGl0J3Mgc2FmZSB0byBlbWl0CgkgIC8vICdyZWFkYWJsZScgZXRjLgoJICAvLwoJICAvLyAzLiBBY3R1YWxseSBwdWxsIHRoZSByZXF1ZXN0ZWQgY2h1bmtzIG91dCBvZiB0aGUgYnVmZmVyIGFuZCByZXR1cm4uCgoJICAvLyBpZiB3ZSBuZWVkIGEgcmVhZGFibGUgZXZlbnQsIHRoZW4gd2UgbmVlZCB0byBkbyBzb21lIHJlYWRpbmcuCgkgIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7CgkgIGRlYnVnJDIoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpOwoKCSAgLy8gaWYgd2UgY3VycmVudGx5IGhhdmUgbGVzcyB0aGFuIHRoZSBoaWdoV2F0ZXJNYXJrLCB0aGVuIGFsc28gcmVhZCBzb21lCgkgIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgfHwgc3RhdGUubGVuZ3RoIC0gbiA8IHN0YXRlLmhpZ2hXYXRlck1hcmspIHsKCSAgICBkb1JlYWQgPSB0cnVlOwoJICAgIGRlYnVnJDIoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTsKCSAgfQoKCSAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHkKCSAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LgoJICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykgewoJICAgIGRvUmVhZCA9IGZhbHNlOwoJICAgIGRlYnVnJDIoJ3JlYWRpbmcgb3IgZW5kZWQnLCBkb1JlYWQpOwoJICB9IGVsc2UgaWYgKGRvUmVhZCkgewoJICAgIGRlYnVnJDIoJ2RvIHJlYWQnKTsKCSAgICBzdGF0ZS5yZWFkaW5nID0gdHJ1ZTsKCSAgICBzdGF0ZS5zeW5jID0gdHJ1ZTsKCSAgICAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LgoJICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgkgICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZAoJICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7CgkgICAgc3RhdGUuc3luYyA9IGZhbHNlOwoJICAgIC8vIElmIF9yZWFkIHB1c2hlZCBkYXRhIHN5bmNocm9ub3VzbHksIHRoZW4gYHJlYWRpbmdgIHdpbGwgYmUgZmFsc2UsCgkgICAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLgoJICAgIGlmICghc3RhdGUucmVhZGluZykgbiA9IGhvd011Y2hUb1JlYWQobk9yaWcsIHN0YXRlKTsKCSAgfQoKCSAgdmFyIHJldDsKCSAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsOwoKCSAgaWYgKHJldCA9PT0gbnVsbCkgewoJICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgkgICAgbiA9IDA7CgkgIH0gZWxzZSB7CgkgICAgc3RhdGUubGVuZ3RoIC09IG47CgkgIH0KCgkgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsKCSAgICAvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgaW4gdGhlIGJ1ZmZlciwgdGhlbiB3ZSB3YW50IHRvIGtub3cKCSAgICAvLyBhcyBzb29uIGFzIHdlICpkbyogZ2V0IHNvbWV0aGluZyBpbnRvIHRoZSBidWZmZXIuCgkgICAgaWYgKCFzdGF0ZS5lbmRlZCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTsKCgkgICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLgoJICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7CgkgIH0KCgkgIGlmIChyZXQgIT09IG51bGwpIHRoaXMuZW1pdCgnZGF0YScsIHJldCk7CgoJICByZXR1cm4gcmV0OwoJfTsKCglmdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7CgkgIHZhciBlciA9IG51bGw7CgkgIGlmICghYnVmZmVyLkJ1ZmZlci5pc0J1ZmZlcihjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7CgkgICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7CgkgIH0KCSAgcmV0dXJuIGVyOwoJfQoKCWZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkgewoJICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjsKCSAgaWYgKHN0YXRlLmRlY29kZXIpIHsKCSAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpOwoJICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHsKCSAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTsKCSAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDsKCSAgICB9CgkgIH0KCSAgc3RhdGUuZW5kZWQgPSB0cnVlOwoKCSAgLy8gZW1pdCAncmVhZGFibGUnIG5vdyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBwaWNrZWQgdXAuCgkgIGVtaXRSZWFkYWJsZShzdHJlYW0pOwoJfQoKCS8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlcgoJLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyCgkvLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuCglmdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7CgkgIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTsKCSAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7CgkgIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7CgkgICAgZGVidWckMignZW1pdFJlYWRhYmxlJywgc3RhdGUuZmxvd2luZyk7CgkgICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gdHJ1ZTsKCSAgICBpZiAoc3RhdGUuc3luYykgbmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKSB7CgkgIGRlYnVnJDIoJ2VtaXQgcmVhZGFibGUnKTsKCSAgc3RyZWFtLmVtaXQoJ3JlYWRhYmxlJyk7CgkgIGZsb3coc3RyZWFtKTsKCX0KCgkvLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LAoJLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZAoJLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWYKCS8vIGl0J3MgaW4gcHJvZ3Jlc3MuCgkvLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLAoJLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS4KCWZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkgewoJICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7CgkgICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlOwoJICAgIG5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIG1heWJlUmVhZE1vcmVfKHN0cmVhbSwgc3RhdGUpIHsKCSAgdmFyIGxlbiA9IHN0YXRlLmxlbmd0aDsKCSAgd2hpbGUgKCFzdGF0ZS5yZWFkaW5nICYmICFzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5lbmRlZCAmJiBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7CgkgICAgZGVidWckMignbWF5YmVSZWFkTW9yZSByZWFkIDAnKTsKCSAgICBzdHJlYW0ucmVhZCgwKTsKCSAgICBpZiAobGVuID09PSBzdGF0ZS5sZW5ndGgpCgkgICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBkYXRhLCBzdG9wIHNwaW5uaW5nLgoJICAgICAgYnJlYWs7ZWxzZSBsZW4gPSBzdGF0ZS5sZW5ndGg7CgkgIH0KCSAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTsKCX0KCgkvLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuCgkvLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLgoJLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsICJsZW5ndGgiIGlzIHNvbWV3aGF0CgkvLyBhcmJpdHJhcnksIGFuZCBwZXJoYXBzIG5vdCB2ZXJ5IG1lYW5pbmdmdWwuCglSZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikgewoJICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7Cgl9OwoKCVJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7CgkgIHZhciBzcmMgPSB0aGlzOwoJICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoKCSAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7CgkgICAgY2FzZSAwOgoJICAgICAgc3RhdGUucGlwZXMgPSBkZXN0OwoJICAgICAgYnJlYWs7CgkgICAgY2FzZSAxOgoJICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdOwoJICAgICAgYnJlYWs7CgkgICAgZGVmYXVsdDoKCSAgICAgIHN0YXRlLnBpcGVzLnB1c2goZGVzdCk7CgkgICAgICBicmVhazsKCSAgfQoJICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7CgkgIGRlYnVnJDIoJ3BpcGUgY291bnQ9JWQgb3B0cz0laicsIHN0YXRlLnBpcGVzQ291bnQsIHBpcGVPcHRzKTsKCgkgIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSk7CgoJICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogY2xlYW51cDsKCSAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIG5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7CgoJICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7CgkgIGZ1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlKSB7CgkgICAgZGVidWckMignb251bnBpcGUnKTsKCSAgICBpZiAocmVhZGFibGUgPT09IHNyYykgewoJICAgICAgY2xlYW51cCgpOwoJICAgIH0KCSAgfQoKCSAgZnVuY3Rpb24gb25lbmQoKSB7CgkgICAgZGVidWckMignb25lbmQnKTsKCSAgICBkZXN0LmVuZCgpOwoJICB9CgoJICAvLyB3aGVuIHRoZSBkZXN0IGRyYWlucywgaXQgcmVkdWNlcyB0aGUgYXdhaXREcmFpbiBjb3VudGVyCgkgIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKQoJICAvLyBoYW5kbGVyIGluIGZsb3coKSwgYnV0IGFkZGluZyBhbmQgcmVtb3ZpbmcgcmVwZWF0ZWRseSBpcwoJICAvLyB0b28gc2xvdy4KCSAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpOwoJICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pOwoKCSAgdmFyIGNsZWFuZWRVcCA9IGZhbHNlOwoJICBmdW5jdGlvbiBjbGVhbnVwKCkgewoJICAgIGRlYnVnJDIoJ2NsZWFudXAnKTsKCSAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuCgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTsKCSAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpOwoJICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTsKCSAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTsKCSAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApOwoJICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7CgoJICAgIGNsZWFuZWRVcCA9IHRydWU7CgoJICAgIC8vIGlmIHRoZSByZWFkZXIgaXMgd2FpdGluZyBmb3IgYSBkcmFpbiBldmVudCBmcm9tIHRoaXMKCSAgICAvLyBzcGVjaWZpYyB3cml0ZXIsIHRoZW4gaXQgd291bGQgY2F1c2UgaXQgdG8gbmV2ZXIgc3RhcnQKCSAgICAvLyBmbG93aW5nIGFnYWluLgoJICAgIC8vIFNvLCBpZiB0aGlzIGlzIGF3YWl0aW5nIGEgZHJhaW4sIHRoZW4gd2UganVzdCBjYWxsIGl0IG5vdy4KCSAgICAvLyBJZiB3ZSBkb24ndCBrbm93LCB0aGVuIGFzc3VtZSB0aGF0IHdlIGFyZSB3YWl0aW5nIGZvciBvbmUuCgkgICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4gJiYgKCFkZXN0Ll93cml0YWJsZVN0YXRlIHx8IGRlc3QuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSkgb25kcmFpbigpOwoJICB9CgoJICAvLyBJZiB0aGUgdXNlciBwdXNoZXMgbW9yZSBkYXRhIHdoaWxlIHdlJ3JlIHdyaXRpbmcgdG8gZGVzdCB0aGVuIHdlJ2xsIGVuZCB1cAoJICAvLyBpbiBvbmRhdGEgYWdhaW4uIEhvd2V2ZXIsIHdlIG9ubHkgd2FudCB0byBpbmNyZWFzZSBhd2FpdERyYWluIG9uY2UgYmVjYXVzZQoJICAvLyBkZXN0IHdpbGwgb25seSBlbWl0IG9uZSAnZHJhaW4nIGV2ZW50IGZvciB0aGUgbXVsdGlwbGUgd3JpdGVzLgoJICAvLyA9PiBJbnRyb2R1Y2UgYSBndWFyZCBvbiBpbmNyZWFzaW5nIGF3YWl0RHJhaW4uCgkgIHZhciBpbmNyZWFzZWRBd2FpdERyYWluID0gZmFsc2U7CgkgIHNyYy5vbignZGF0YScsIG9uZGF0YSk7CgkgIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykgewoJICAgIGRlYnVnJDIoJ29uZGF0YScpOwoJICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTsKCSAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7CgkgICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHsKCSAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZQoJICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGUKCSAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuCgkgICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi4KCSAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHsKCSAgICAgICAgZGVidWckMignZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlJywgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pOwoJICAgICAgICBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrOwoJICAgICAgICBpbmNyZWFzZWRBd2FpdERyYWluID0gdHJ1ZTsKCSAgICAgIH0KCSAgICAgIHNyYy5wYXVzZSgpOwoJICAgIH0KCSAgfQoKCSAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuCgkgIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy4KCSAgZnVuY3Rpb24gb25lcnJvcihlcikgewoJICAgIGRlYnVnJDIoJ29uZXJyb3InLCBlcik7CgkgICAgdW5waXBlKCk7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKCSAgICBpZiAobGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTsKCSAgfQoKCSAgLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLgoJICBwcmVwZW5kTGlzdGVuZXIoZGVzdCwgJ2Vycm9yJywgb25lcnJvcik7CgoJICAvLyBCb3RoIGNsb3NlIGFuZCBmaW5pc2ggc2hvdWxkIHRyaWdnZXIgdW5waXBlLCBidXQgb25seSBvbmNlLgoJICBmdW5jdGlvbiBvbmNsb3NlKCkgewoJICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTsKCSAgICB1bnBpcGUoKTsKCSAgfQoJICBkZXN0Lm9uY2UoJ2Nsb3NlJywgb25jbG9zZSk7CgkgIGZ1bmN0aW9uIG9uZmluaXNoKCkgewoJICAgIGRlYnVnJDIoJ29uZmluaXNoJyk7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTsKCSAgICB1bnBpcGUoKTsKCSAgfQoJICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTsKCgkgIGZ1bmN0aW9uIHVucGlwZSgpIHsKCSAgICBkZWJ1ZyQyKCd1bnBpcGUnKTsKCSAgICBzcmMudW5waXBlKGRlc3QpOwoJICB9CgoJICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0bwoJICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpOwoKCSAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LgoJICBpZiAoIXN0YXRlLmZsb3dpbmcpIHsKCSAgICBkZWJ1ZyQyKCdwaXBlIHJlc3VtZScpOwoJICAgIHNyYy5yZXN1bWUoKTsKCSAgfQoKCSAgcmV0dXJuIGRlc3Q7Cgl9OwoKCWZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykgewoJICByZXR1cm4gZnVuY3Rpb24gKCkgewoJICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTsKCSAgICBkZWJ1ZyQyKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pOwoJICAgIGlmIChzdGF0ZS5hd2FpdERyYWluKSBzdGF0ZS5hd2FpdERyYWluLS07CgkgICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4gPT09IDAgJiYgc3JjLmxpc3RlbmVycygnZGF0YScpLmxlbmd0aCkgewoJICAgICAgc3RhdGUuZmxvd2luZyA9IHRydWU7CgkgICAgICBmbG93KHNyYyk7CgkgICAgfQoJICB9OwoJfQoKCVJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkgewoJICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoKCSAgLy8gaWYgd2UncmUgbm90IHBpcGluZyBhbnl3aGVyZSwgdGhlbiBkbyBub3RoaW5nLgoJICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMCkgcmV0dXJuIHRoaXM7CgoJICAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuCgkgIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSB7CgkgICAgLy8gcGFzc2VkIGluIG9uZSwgYnV0IGl0J3Mgbm90IHRoZSByaWdodCBvbmUuCgkgICAgaWYgKGRlc3QgJiYgZGVzdCAhPT0gc3RhdGUucGlwZXMpIHJldHVybiB0aGlzOwoKCSAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlczsKCgkgICAgLy8gZ290IGEgbWF0Y2guCgkgICAgc3RhdGUucGlwZXMgPSBudWxsOwoJICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwOwoJICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTsKCSAgICBpZiAoZGVzdCkgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzKTsKCSAgICByZXR1cm4gdGhpczsKCSAgfQoKCSAgLy8gc2xvdyBjYXNlLiBtdWx0aXBsZSBwaXBlIGRlc3RpbmF0aW9ucy4KCgkgIGlmICghZGVzdCkgewoJICAgIC8vIHJlbW92ZSBhbGwuCgkgICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7CgkgICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7CgkgICAgc3RhdGUucGlwZXMgPSBudWxsOwoJICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwOwoJICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxlbjsgX2krKykgewoJICAgICAgZGVzdHNbX2ldLmVtaXQoJ3VucGlwZScsIHRoaXMpOwoJICAgIH1yZXR1cm4gdGhpczsKCSAgfQoKCSAgLy8gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IG9uZS4KCSAgdmFyIGkgPSBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KTsKCSAgaWYgKGkgPT09IC0xKSByZXR1cm4gdGhpczsKCgkgIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTsKCSAgc3RhdGUucGlwZXNDb3VudCAtPSAxOwoJICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTsKCgkgIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7CgoJICByZXR1cm4gdGhpczsKCX07CgoJLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvcgoJLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmcKCVJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHsKCSAgdmFyIHJlcyA9IEVFLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7CgoJICBpZiAoZXYgPT09ICdkYXRhJykgewoJICAgIC8vIFN0YXJ0IGZsb3dpbmcgb24gbmV4dCB0aWNrIGlmIHN0cmVhbSBpc24ndCBleHBsaWNpdGx5IHBhdXNlZAoJICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgIT09IGZhbHNlKSB0aGlzLnJlc3VtZSgpOwoJICB9IGVsc2UgaWYgKGV2ID09PSAncmVhZGFibGUnKSB7CgkgICAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKCSAgICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7CgkgICAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgkgICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTsKCSAgICAgIGlmICghc3RhdGUucmVhZGluZykgewoJICAgICAgICBuZXh0VGljayhuUmVhZGluZ05leHRUaWNrLCB0aGlzKTsKCSAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGVuZ3RoKSB7CgkgICAgICAgIGVtaXRSZWFkYWJsZSh0aGlzKTsKCSAgICAgIH0KCSAgICB9CgkgIH0KCgkgIHJldHVybiByZXM7Cgl9OwoJUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gUmVhZGFibGUucHJvdG90eXBlLm9uOwoKCWZ1bmN0aW9uIG5SZWFkaW5nTmV4dFRpY2soc2VsZikgewoJICBkZWJ1ZyQyKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTsKCSAgc2VsZi5yZWFkKDApOwoJfQoKCS8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUEkKCS8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS4KCVJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CgkgIGlmICghc3RhdGUuZmxvd2luZykgewoJICAgIGRlYnVnJDIoJ3Jlc3VtZScpOwoJICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlOwoJICAgIHJlc3VtZSh0aGlzLCBzdGF0ZSk7CgkgIH0KCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCWZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7CgkgIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7CgkgICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTsKCSAgICBuZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTsKCSAgfQoJfQoKCWZ1bmN0aW9uIHJlc3VtZV8oc3RyZWFtLCBzdGF0ZSkgewoJICBpZiAoIXN0YXRlLnJlYWRpbmcpIHsKCSAgICBkZWJ1ZyQyKCdyZXN1bWUgcmVhZCAwJyk7CgkgICAgc3RyZWFtLnJlYWQoMCk7CgkgIH0KCgkgIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlOwoJICBzdGF0ZS5hd2FpdERyYWluID0gMDsKCSAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpOwoJICBmbG93KHN0cmVhbSk7CgkgIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTsKCX0KCglSZWFkYWJsZS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7CgkgIGRlYnVnJDIoJ2NhbGwgcGF1c2UgZmxvd2luZz0laicsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7CgkgIGlmIChmYWxzZSAhPT0gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSB7CgkgICAgZGVidWckMigncGF1c2UnKTsKCSAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTsKCSAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7CgkgIH0KCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCWZ1bmN0aW9uIGZsb3coc3RyZWFtKSB7CgkgIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTsKCSAgZGVidWckMignZmxvdycsIHN0YXRlLmZsb3dpbmcpOwoJICB3aGlsZSAoc3RhdGUuZmxvd2luZyAmJiBzdHJlYW0ucmVhZCgpICE9PSBudWxsKSB7fQoJfQoKCS8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuCgkvLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuCgkvLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS4KCVJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkgewoJICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoJICB2YXIgcGF1c2VkID0gZmFsc2U7CgoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24gKCkgewoJICAgIGRlYnVnJDIoJ3dyYXBwZWQgZW5kJyk7CgkgICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7CgkgICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpOwoJICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgc2VsZi5wdXNoKGNodW5rKTsKCSAgICB9CgoJICAgIHNlbGYucHVzaChudWxsKTsKCSAgfSk7CgoJICBzdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKCSAgICBkZWJ1ZyQyKCd3cmFwcGVkIGRhdGEnKTsKCSAgICBpZiAoc3RhdGUuZGVjb2RlcikgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTsKCgkgICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlCgkgICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuOwoKCSAgICB2YXIgcmV0ID0gc2VsZi5wdXNoKGNodW5rKTsKCSAgICBpZiAoIXJldCkgewoJICAgICAgcGF1c2VkID0gdHJ1ZTsKCSAgICAgIHN0cmVhbS5wYXVzZSgpOwoJICAgIH0KCSAgfSk7CgoJICAvLyBwcm94eSBhbGwgdGhlIG90aGVyIG1ldGhvZHMuCgkgIC8vIGltcG9ydGFudCB3aGVuIHdyYXBwaW5nIGZpbHRlcnMgYW5kIGR1cGxleGVzLgoJICBmb3IgKHZhciBpIGluIHN0cmVhbSkgewoJICAgIGlmICh0aGlzW2ldID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0cmVhbVtpXSA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uIChtZXRob2QpIHsKCSAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICByZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLCBhcmd1bWVudHMpOwoJICAgICAgICB9OwoJICAgICAgfShpKTsKCSAgICB9CgkgIH0KCgkgIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy4KCSAgdmFyIGV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTsKCSAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldikgewoJICAgIHN0cmVhbS5vbihldiwgc2VsZi5lbWl0LmJpbmQoc2VsZiwgZXYpKTsKCSAgfSk7CgoJICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlCgkgIC8vIHVuZGVybHlpbmcgc3RyZWFtLgoJICBzZWxmLl9yZWFkID0gZnVuY3Rpb24gKG4pIHsKCSAgICBkZWJ1ZyQyKCd3cmFwcGVkIF9yZWFkJywgbik7CgkgICAgaWYgKHBhdXNlZCkgewoJICAgICAgcGF1c2VkID0gZmFsc2U7CgkgICAgICBzdHJlYW0ucmVzdW1lKCk7CgkgICAgfQoJICB9OwoKCSAgcmV0dXJuIHNlbGY7Cgl9OwoKCS8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS4KCVJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0OwoKCS8vIFBsdWNrIG9mZiBuIGJ5dGVzIGZyb20gYW4gYXJyYXkgb2YgYnVmZmVycy4KCS8vIExlbmd0aCBpcyB0aGUgY29tYmluZWQgbGVuZ3RocyBvZiBhbGwgdGhlIGJ1ZmZlcnMgaW4gdGhlIGxpc3QuCgkvLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZwoJLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS4KCWZ1bmN0aW9uIGZyb21MaXN0KG4sIHN0YXRlKSB7CgkgIC8vIG5vdGhpbmcgYnVmZmVyZWQKCSAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7CgoJICB2YXIgcmV0OwoJICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHsKCSAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3QKCSAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7CgkgICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7CgkgIH0gZWxzZSB7CgkgICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3QKCSAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTsKCSAgfQoKCSAgcmV0dXJuIHJldDsKCX0KCgkvLyBFeHRyYWN0cyBvbmx5IGVub3VnaCBidWZmZXJlZCBkYXRhIHRvIHNhdGlzZnkgdGhlIGFtb3VudCByZXF1ZXN0ZWQuCgkvLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZwoJLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS4KCWZ1bmN0aW9uIGZyb21MaXN0UGFydGlhbChuLCBsaXN0LCBoYXNTdHJpbmdzKSB7CgkgIHZhciByZXQ7CgkgIGlmIChuIDwgbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7CgkgICAgLy8gc2xpY2UgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MKCSAgICByZXQgPSBsaXN0LmhlYWQuZGF0YS5zbGljZSgwLCBuKTsKCSAgICBsaXN0LmhlYWQuZGF0YSA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKG4pOwoJICB9IGVsc2UgaWYgKG4gPT09IGxpc3QuaGVhZC5kYXRhLmxlbmd0aCkgewoJICAgIC8vIGZpcnN0IGNodW5rIGlzIGEgcGVyZmVjdCBtYXRjaAoJICAgIHJldCA9IGxpc3Quc2hpZnQoKTsKCSAgfSBlbHNlIHsKCSAgICAvLyByZXN1bHQgc3BhbnMgbW9yZSB0aGFuIG9uZSBidWZmZXIKCSAgICByZXQgPSBoYXNTdHJpbmdzID8gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkgOiBjb3B5RnJvbUJ1ZmZlcihuLCBsaXN0KTsKCSAgfQoJICByZXR1cm4gcmV0OwoJfQoKCS8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGEKCS8vIGNodW5rcy4KCS8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nCgkvLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LgoJZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkgewoJICB2YXIgcCA9IGxpc3QuaGVhZDsKCSAgdmFyIGMgPSAxOwoJICB2YXIgcmV0ID0gcC5kYXRhOwoJICBuIC09IHJldC5sZW5ndGg7CgkgIHdoaWxlIChwID0gcC5uZXh0KSB7CgkgICAgdmFyIHN0ciA9IHAuZGF0YTsKCSAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuOwoJICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7CgkgICAgbiAtPSBuYjsKCSAgICBpZiAobiA9PT0gMCkgewoJICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7CgkgICAgICAgICsrYzsKCSAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIGxpc3QuaGVhZCA9IHA7CgkgICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7CgkgICAgICB9CgkgICAgICBicmVhazsKCSAgICB9CgkgICAgKytjOwoJICB9CgkgIGxpc3QubGVuZ3RoIC09IGM7CgkgIHJldHVybiByZXQ7Cgl9CgoJLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGEgY2h1bmtzLgoJLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmcKCS8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuCglmdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlcihuLCBsaXN0KSB7CgkgIHZhciByZXQgPSBidWZmZXIuQnVmZmVyLmFsbG9jVW5zYWZlKG4pOwoJICB2YXIgcCA9IGxpc3QuaGVhZDsKCSAgdmFyIGMgPSAxOwoJICBwLmRhdGEuY29weShyZXQpOwoJICBuIC09IHAuZGF0YS5sZW5ndGg7CgkgIHdoaWxlIChwID0gcC5uZXh0KSB7CgkgICAgdmFyIGJ1ZiA9IHAuZGF0YTsKCSAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuOwoJICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTsKCSAgICBuIC09IG5iOwoJICAgIGlmIChuID09PSAwKSB7CgkgICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHsKCSAgICAgICAgKytjOwoJICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgbGlzdC5oZWFkID0gcDsKCSAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTsKCSAgICAgIH0KCSAgICAgIGJyZWFrOwoJICAgIH0KCSAgICArK2M7CgkgIH0KCSAgbGlzdC5sZW5ndGggLT0gYzsKCSAgcmV0dXJuIHJldDsKCX0KCglmdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHsKCSAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlOwoKCSAgLy8gSWYgd2UgZ2V0IGhlcmUgYmVmb3JlIGNvbnN1bWluZyBhbGwgdGhlIGJ5dGVzLCB0aGVuIHRoYXQgaXMgYQoJICAvLyBidWcgaW4gbm9kZS4gIFNob3VsZCBuZXZlciBoYXBwZW4uCgkgIGlmIChzdGF0ZS5sZW5ndGggPiAwKSB0aHJvdyBuZXcgRXJyb3IoJyJlbmRSZWFkYWJsZSgpIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpOwoKCSAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkKSB7CgkgICAgc3RhdGUuZW5kZWQgPSB0cnVlOwoJICAgIG5leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pOwoJICB9Cgl9CgoJZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7CgkgIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LgoJICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7CgkgICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7CgkgICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7CgkgICAgc3RyZWFtLmVtaXQoJ2VuZCcpOwoJICB9Cgl9CgoJZnVuY3Rpb24gZm9yRWFjaCh4cywgZikgewoJICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykgewoJICAgIGYoeHNbaV0sIGkpOwoJICB9Cgl9CgoJZnVuY3Rpb24gaW5kZXhPZih4cywgeCkgewoJICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykgewoJICAgIGlmICh4c1tpXSA9PT0geCkgcmV0dXJuIGk7CgkgIH0KCSAgcmV0dXJuIC0xOwoJfQoKCS8vIEEgYml0IHNpbXBsZXIgdGhhbiByZWFkYWJsZSBzdHJlYW1zLgoJV3JpdGFibGUkMS5Xcml0YWJsZVN0YXRlID0gV3JpdGFibGVTdGF0ZTsKCWluaGVyaXRzJDEoV3JpdGFibGUkMSwgZXZlbnRzJDEuZXhwb3J0cy5FdmVudEVtaXR0ZXIpOwoKCWZ1bmN0aW9uIG5vcCgpIHt9CgoJZnVuY3Rpb24gV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICB0aGlzLmNodW5rID0gY2h1bms7CgkgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZzsKCSAgdGhpcy5jYWxsYmFjayA9IGNiOwoJICB0aGlzLm5leHQgPSBudWxsOwoJfQoKCWZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7CgkgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYnVmZmVyJywgewoJICAgIGdldDogZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKCSAgICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpOwoJICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJykKCSAgfSk7CgkgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKCSAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IHRoaXMgc3RyZWFtCgkgIC8vIGNvbnRhaW5zIGJ1ZmZlcnMgb3Igb2JqZWN0cy4KCSAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7CgoJICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTsKCgkgIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2UKCSAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWYKCSAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKQoJICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrOwoJICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0OwoJICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod20gfHwgaHdtID09PSAwID8gaHdtIDogZGVmYXVsdEh3bTsKCgkgIC8vIGNhc3QgdG8gaW50cy4KCSAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrOwoKCSAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTsKCSAgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKCkKCSAgdGhpcy5lbmRpbmcgPSBmYWxzZTsKCSAgLy8gd2hlbiBlbmQoKSBoYXMgYmVlbiBjYWxsZWQsIGFuZCByZXR1cm5lZAoJICB0aGlzLmVuZGVkID0gZmFsc2U7CgkgIC8vIHdoZW4gJ2ZpbmlzaCcgaXMgZW1pdHRlZAoJICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CgoJICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT8KCSAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nCgkgIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuCgkgIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7CgkgIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTsKCgkgIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmcKCSAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLgoJICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guCgkgIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnOwoKCSAgLy8gbm90IGFuIGFjdHVhbCBidWZmZXIgd2Uga2VlcCB0cmFjayBvZiwgYnV0IGEgbWVhc3VyZW1lbnQKCSAgLy8gb2YgaG93IG11Y2ggd2UncmUgd2FpdGluZyB0byBnZXQgcHVzaGVkIHRvIHNvbWUgdW5kZXJseWluZwoJICAvLyBzb2NrZXQgb3IgZmlsZS4KCSAgdGhpcy5sZW5ndGggPSAwOwoKCSAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS4KCSAgdGhpcy53cml0aW5nID0gZmFsc2U7CgoJICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsCgkgIHRoaXMuY29ya2VkID0gMDsKCgkgIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIG9ud3JpdGUgY2IgaXMgY2FsbGVkIGltbWVkaWF0ZWx5LAoJICAvLyBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlIGFueQoJICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCAibGF0ZXIiIHNob3VsZCBnZW5lcmFsbHkgYWxzbwoJICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC4KCSAgdGhpcy5zeW5jID0gdHJ1ZTsKCgkgIC8vIGEgZmxhZyB0byBrbm93IGlmIHdlJ3JlIHByb2Nlc3NpbmcgcHJldmlvdXNseSBidWZmZXJlZCBpdGVtcywgd2hpY2gKCSAgLy8gbWF5IGNhbGwgdGhlIF93cml0ZSgpIGNhbGxiYWNrIGluIHRoZSBzYW1lIHRpY2ssIHNvIHRoYXQgd2UgZG9uJ3QKCSAgLy8gZW5kIHVwIGluIGFuIG92ZXJsYXBwZWQgb253cml0ZSBzaXR1YXRpb24uCgkgIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOwoKCSAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKQoJICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHsKCSAgICBvbndyaXRlKHN0cmVhbSwgZXIpOwoJICB9OwoKCSAgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpCgkgIHRoaXMud3JpdGVjYiA9IG51bGw7CgoJICAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuCgkgIHRoaXMud3JpdGVsZW4gPSAwOwoKCSAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsOwoJICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsOwoKCSAgLy8gbnVtYmVyIG9mIHBlbmRpbmcgdXNlci1zdXBwbGllZCB3cml0ZSBjYWxsYmFja3MKCSAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkCgkgIHRoaXMucGVuZGluZ2NiID0gMDsKCgkgIC8vIGVtaXQgcHJlZmluaXNoIGlmIHRoZSBvbmx5IHRoaW5nIHdlJ3JlIHdhaXRpbmcgZm9yIGlzIF93cml0ZSBjYnMKCSAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXMKCSAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlOwoKCSAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW4KCSAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTsKCgkgIC8vIGNvdW50IGJ1ZmZlcmVkIHJlcXVlc3RzCgkgIHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwOwoKCSAgLy8gYWxsb2NhdGUgdGhlIGZpcnN0IENvcmtlZFJlcXVlc3QsIHRoZXJlIGlzIGFsd2F5cwoJICAvLyBvbmUgYWxsb2NhdGVkIGFuZCBmcmVlIHRvIHVzZSwgYW5kIHdlIG1haW50YWluIGF0IG1vc3QgdHdvCgkgIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7Cgl9CgoJV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gd3JpdGFibGVTdGF0ZUdldEJ1ZmZlcigpIHsKCSAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDsKCSAgdmFyIG91dCA9IFtdOwoJICB3aGlsZSAoY3VycmVudCkgewoJICAgIG91dC5wdXNoKGN1cnJlbnQpOwoJICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7CgkgIH0KCSAgcmV0dXJuIG91dDsKCX07CglmdW5jdGlvbiBXcml0YWJsZSQxKG9wdGlvbnMpIHsKCgkgIC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdGhvdWdoIHRoZXkncmUgbm90CgkgIC8vIGluc3RhbmNlb2YgV3JpdGFibGUsIHRoZXkncmUgaW5zdGFuY2VvZiBSZWFkYWJsZS4KCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFdyaXRhYmxlJDEpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgV3JpdGFibGUkMShvcHRpb25zKTsKCgkgIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTsKCgkgIC8vIGxlZ2FjeS4KCSAgdGhpcy53cml0YWJsZSA9IHRydWU7CgoJICBpZiAob3B0aW9ucykgewoJICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlOwoKCSAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGV2ID09PSAnZnVuY3Rpb24nKSB0aGlzLl93cml0ZXYgPSBvcHRpb25zLndyaXRldjsKCSAgfQoKCSAgZXZlbnRzJDEuZXhwb3J0cy5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTsKCX0KCgkvLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuCglXcml0YWJsZSQxLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkgewoJICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlJykpOwoJfTsKCglmdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHsKCSAgdmFyIGVyID0gbmV3IEVycm9yKCd3cml0ZSBhZnRlciBlbmQnKTsKCSAgLy8gVE9ETzogZGVmZXIgZXJyb3IgZXZlbnRzIGNvbnNpc3RlbnRseSBldmVyeXdoZXJlLCBub3QganVzdCB0aGUgY2IKCSAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpOwoJICBuZXh0VGljayhjYiwgZXIpOwoJfQoKCS8vIElmIHdlIGdldCBzb21ldGhpbmcgdGhhdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgbnVsbCwgb3IgdW5kZWZpbmVkLAoJLy8gYW5kIHdlJ3JlIG5vdCBpbiBvYmplY3RNb2RlLCB0aGVuIHRoYXQncyBhbiBlcnJvci4KCS8vIE90aGVyd2lzZSBzdHJlYW0gY2h1bmtzIGFyZSBhbGwgY29uc2lkZXJlZCB0byBiZSBvZiBsZW5ndGg9MSwgYW5kIHRoZQoJLy8gd2F0ZXJtYXJrcyBkZXRlcm1pbmUgaG93IG1hbnkgb2JqZWN0cyB0byBrZWVwIGluIHRoZSBidWZmZXIsIHJhdGhlciB0aGFuCgkvLyBob3cgbWFueSBieXRlcyBvciBjaGFyYWN0ZXJzLgoJZnVuY3Rpb24gdmFsaWRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgY2IpIHsKCSAgdmFyIHZhbGlkID0gdHJ1ZTsKCSAgdmFyIGVyID0gZmFsc2U7CgkgIC8vIEFsd2F5cyB0aHJvdyBlcnJvciBpZiBhIG51bGwgaXMgd3JpdHRlbgoJICAvLyBpZiB3ZSBhcmUgbm90IGluIG9iamVjdCBtb2RlIHRoZW4gdGhyb3cKCSAgLy8gaWYgaXQgaXMgbm90IGEgYnVmZmVyLCBzdHJpbmcsIG9yIHVuZGVmaW5lZC4KCSAgaWYgKGNodW5rID09PSBudWxsKSB7CgkgICAgZXIgPSBuZXcgVHlwZUVycm9yKCdNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbScpOwoJICB9IGVsc2UgaWYgKCFidWZmZXIuQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHsKCSAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTsKCSAgfQoJICBpZiAoZXIpIHsKCSAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7CgkgICAgbmV4dFRpY2soY2IsIGVyKTsKCSAgICB2YWxpZCA9IGZhbHNlOwoJICB9CgkgIHJldHVybiB2YWxpZDsKCX0KCglXcml0YWJsZSQxLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7CgkgIHZhciByZXQgPSBmYWxzZTsKCgkgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHsKCSAgICBjYiA9IGVuY29kaW5nOwoJICAgIGVuY29kaW5nID0gbnVsbDsKCSAgfQoKCSAgaWYgKGJ1ZmZlci5CdWZmZXIuaXNCdWZmZXIoY2h1bmspKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7CgoJICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSBjYiA9IG5vcDsKCgkgIGlmIChzdGF0ZS5lbmRlZCkgd3JpdGVBZnRlckVuZCh0aGlzLCBjYik7ZWxzZSBpZiAodmFsaWRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGNiKSkgewoJICAgIHN0YXRlLnBlbmRpbmdjYisrOwoJICAgIHJldCA9IHdyaXRlT3JCdWZmZXIodGhpcywgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgY2IpOwoJICB9CgoJICByZXR1cm4gcmV0OwoJfTsKCglXcml0YWJsZSQxLnByb3RvdHlwZS5jb3JrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlOwoKCSAgc3RhdGUuY29ya2VkKys7Cgl9OwoKCVdyaXRhYmxlJDEucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTsKCgkgIGlmIChzdGF0ZS5jb3JrZWQpIHsKCSAgICBzdGF0ZS5jb3JrZWQtLTsKCgkgICAgaWYgKCFzdGF0ZS53cml0aW5nICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpOwoJICB9Cgl9OwoKCVdyaXRhYmxlJDEucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykgewoJICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS4KCSAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTsKCSAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTsKCSAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZzsKCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCWZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHsKCSAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHsKCSAgICBjaHVuayA9IGJ1ZmZlci5CdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpOwoJICB9CgkgIHJldHVybiBjaHVuazsKCX0KCgkvLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXMKCS8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlCgkvLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLgoJZnVuY3Rpb24gd3JpdGVPckJ1ZmZlcihzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIGNodW5rID0gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZyk7CgoJICBpZiAoYnVmZmVyLkJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIGVuY29kaW5nID0gJ2J1ZmZlcic7CgkgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDsKCgkgIHN0YXRlLmxlbmd0aCArPSBsZW47CgoJICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyazsKCSAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuCgkgIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlOwoKCSAgaWYgKHN0YXRlLndyaXRpbmcgfHwgc3RhdGUuY29ya2VkKSB7CgkgICAgdmFyIGxhc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0OwoJICAgIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBuZXcgV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYik7CgkgICAgaWYgKGxhc3QpIHsKCSAgICAgIGxhc3QubmV4dCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7CgkgICAgfSBlbHNlIHsKCSAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7CgkgICAgfQoJICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ICs9IDE7CgkgIH0gZWxzZSB7CgkgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTsKCSAgfQoKCSAgcmV0dXJuIHJldDsKCX0KCglmdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIHN0YXRlLndyaXRlbGVuID0gbGVuOwoJICBzdGF0ZS53cml0ZWNiID0gY2I7CgkgIHN0YXRlLndyaXRpbmcgPSB0cnVlOwoJICBzdGF0ZS5zeW5jID0gdHJ1ZTsKCSAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpOwoJICBzdGF0ZS5zeW5jID0gZmFsc2U7Cgl9CgoJZnVuY3Rpb24gb253cml0ZUVycm9yKHN0cmVhbSwgc3RhdGUsIHN5bmMsIGVyLCBjYikgewoJICAtLXN0YXRlLnBlbmRpbmdjYjsKCSAgaWYgKHN5bmMpIG5leHRUaWNrKGNiLCBlcik7ZWxzZSBjYihlcik7CgoJICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTsKCSAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpOwoJfQoKCWZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkgewoJICBzdGF0ZS53cml0aW5nID0gZmFsc2U7CgkgIHN0YXRlLndyaXRlY2IgPSBudWxsOwoJICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47CgkgIHN0YXRlLndyaXRlbGVuID0gMDsKCX0KCglmdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHsKCSAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlOwoJICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7CgkgIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7CgoJICBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpOwoKCSAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHsKCSAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldAoJICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpOwoKCSAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7CgkgICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTsKCSAgICB9CgoJICAgIGlmIChzeW5jKSB7CgkgICAgICAvKjxyZXBsYWNlbWVudD4qLwoJICAgICAgICBuZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpOwoJICAgICAgLyo8L3JlcGxhY2VtZW50PiovCgkgICAgfSBlbHNlIHsKCSAgICAgICAgYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpOwoJICAgICAgfQoJICB9Cgl9CgoJZnVuY3Rpb24gYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpIHsKCSAgaWYgKCFmaW5pc2hlZCkgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpOwoJICBzdGF0ZS5wZW5kaW5nY2ItLTsKCSAgY2IoKTsKCSAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7Cgl9CgoJLy8gTXVzdCBmb3JjZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgb24gbmV4dFRpY2ssIHNvIHRoYXQgd2UgZG9uJ3QKCS8vIGVtaXQgJ2RyYWluJyBiZWZvcmUgdGhlIHdyaXRlKCkgY29uc3VtZXIgZ2V0cyB0aGUgJ2ZhbHNlJyByZXR1cm4KCS8vIHZhbHVlLCBhbmQgaGFzIGEgY2hhbmNlIHRvIGF0dGFjaCBhICdkcmFpbicgbGlzdGVuZXIuCglmdW5jdGlvbiBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSkgewoJICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikgewoJICAgIHN0YXRlLm5lZWREcmFpbiA9IGZhbHNlOwoJICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpOwoJICB9Cgl9CgoJLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXQKCWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHsKCSAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7CgkgIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDsKCgkgIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7CgkgICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKQoJICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7CgkgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTsKCSAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlOwoJICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5OwoKCSAgICB2YXIgY291bnQgPSAwOwoJICAgIHdoaWxlIChlbnRyeSkgewoJICAgICAgYnVmZmVyW2NvdW50XSA9IGVudHJ5OwoJICAgICAgZW50cnkgPSBlbnRyeS5uZXh0OwoJICAgICAgY291bnQgKz0gMTsKCSAgICB9CgoJICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgdHJ1ZSwgc3RhdGUubGVuZ3RoLCBidWZmZXIsICcnLCBob2xkZXIuZmluaXNoKTsKCgkgICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWUKCSAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGUKCSAgICBzdGF0ZS5wZW5kaW5nY2IrKzsKCSAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDsKCSAgICBpZiAoaG9sZGVyLm5leHQpIHsKCSAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0OwoJICAgICAgaG9sZGVyLm5leHQgPSBudWxsOwoJICAgIH0gZWxzZSB7CgkgICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7CgkgICAgfQoJICB9IGVsc2UgewoJICAgIC8vIFNsb3cgY2FzZSwgd3JpdGUgY2h1bmtzIG9uZS1ieS1vbmUKCSAgICB3aGlsZSAoZW50cnkpIHsKCSAgICAgIHZhciBjaHVuayA9IGVudHJ5LmNodW5rOwoJICAgICAgdmFyIGVuY29kaW5nID0gZW50cnkuZW5jb2Rpbmc7CgkgICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjazsKCSAgICAgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDsKCgkgICAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpOwoJICAgICAgZW50cnkgPSBlbnRyeS5uZXh0OwoJICAgICAgLy8gaWYgd2UgZGlkbid0IGNhbGwgdGhlIG9ud3JpdGUgaW1tZWRpYXRlbHksIHRoZW4KCSAgICAgIC8vIGl0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0IGRvZXMuCgkgICAgICAvLyBhbHNvLCB0aGF0IG1lYW5zIHRoYXQgdGhlIGNodW5rIGFuZCBjYiBhcmUgY3VycmVudGx5CgkgICAgICAvLyBiZWluZyBwcm9jZXNzZWQsIHNvIG1vdmUgdGhlIGJ1ZmZlciBjb3VudGVyIHBhc3QgdGhlbS4KCSAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7CgkgICAgICAgIGJyZWFrOwoJICAgICAgfQoJICAgIH0KCgkgICAgaWYgKGVudHJ5ID09PSBudWxsKSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDsKCSAgfQoKCSAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwOwoJICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTsKCSAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOwoJfQoKCVdyaXRhYmxlJDEucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgIGNiKG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJykpOwoJfTsKCglXcml0YWJsZSQxLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDsKCglXcml0YWJsZSQxLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlOwoKCSAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNiID0gY2h1bms7CgkgICAgY2h1bmsgPSBudWxsOwoJICAgIGVuY29kaW5nID0gbnVsbDsKCSAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHsKCSAgICBjYiA9IGVuY29kaW5nOwoJICAgIGVuY29kaW5nID0gbnVsbDsKCSAgfQoKCSAgaWYgKGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQpIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTsKCgkgIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzCgkgIGlmIChzdGF0ZS5jb3JrZWQpIHsKCSAgICBzdGF0ZS5jb3JrZWQgPSAxOwoJICAgIHRoaXMudW5jb3JrKCk7CgkgIH0KCgkgIC8vIGlnbm9yZSB1bm5lY2Vzc2FyeSBlbmQoKSBjYWxscy4KCSAgaWYgKCFzdGF0ZS5lbmRpbmcgJiYgIXN0YXRlLmZpbmlzaGVkKSBlbmRXcml0YWJsZSh0aGlzLCBzdGF0ZSwgY2IpOwoJfTsKCglmdW5jdGlvbiBuZWVkRmluaXNoKHN0YXRlKSB7CgkgIHJldHVybiBzdGF0ZS5lbmRpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9PT0gbnVsbCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLndyaXRpbmc7Cgl9CgoJZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHsKCSAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCkgewoJICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTsKCSAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7CgkgIH0KCX0KCglmdW5jdGlvbiBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKSB7CgkgIHZhciBuZWVkID0gbmVlZEZpbmlzaChzdGF0ZSk7CgkgIGlmIChuZWVkKSB7CgkgICAgaWYgKHN0YXRlLnBlbmRpbmdjYiA9PT0gMCkgewoJICAgICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpOwoJICAgICAgc3RhdGUuZmluaXNoZWQgPSB0cnVlOwoJICAgICAgc3RyZWFtLmVtaXQoJ2ZpbmlzaCcpOwoJICAgIH0gZWxzZSB7CgkgICAgICBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSk7CgkgICAgfQoJICB9CgkgIHJldHVybiBuZWVkOwoJfQoKCWZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7CgkgIHN0YXRlLmVuZGluZyA9IHRydWU7CgkgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpOwoJICBpZiAoY2IpIHsKCSAgICBpZiAoc3RhdGUuZmluaXNoZWQpIG5leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCdmaW5pc2gnLCBjYik7CgkgIH0KCSAgc3RhdGUuZW5kZWQgPSB0cnVlOwoJICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTsKCX0KCgkvLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3QKCS8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbQoJZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkgewoJICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgdGhpcy5uZXh0ID0gbnVsbDsKCSAgdGhpcy5lbnRyeSA9IG51bGw7CgoJICB0aGlzLmZpbmlzaCA9IGZ1bmN0aW9uIChlcnIpIHsKCSAgICB2YXIgZW50cnkgPSBfdGhpcy5lbnRyeTsKCSAgICBfdGhpcy5lbnRyeSA9IG51bGw7CgkgICAgd2hpbGUgKGVudHJ5KSB7CgkgICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjazsKCSAgICAgIHN0YXRlLnBlbmRpbmdjYi0tOwoJICAgICAgY2IoZXJyKTsKCSAgICAgIGVudHJ5ID0gZW50cnkubmV4dDsKCSAgICB9CgkgICAgaWYgKHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSkgewoJICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBfdGhpczsKCSAgICB9IGVsc2UgewoJICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gX3RoaXM7CgkgICAgfQoJICB9OwoJfQoKCWluaGVyaXRzJDEoRHVwbGV4LCBSZWFkYWJsZSk7CgoJdmFyIGtleXMgPSBPYmplY3Qua2V5cyhXcml0YWJsZSQxLnByb3RvdHlwZSk7Cglmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHsKCSAgdmFyIG1ldGhvZCA9IGtleXNbdl07CgkgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZSQxLnByb3RvdHlwZVttZXRob2RdOwoJfQoJZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpIHsKCSAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpOwoKCSAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTsKCSAgV3JpdGFibGUkMS5jYWxsKHRoaXMsIG9wdGlvbnMpOwoKCSAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTsKCgkgIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7CgoJICB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlOwoJICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTsKCgkgIHRoaXMub25jZSgnZW5kJywgb25lbmQpOwoJfQoKCS8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXIKCWZ1bmN0aW9uIG9uZW5kKCkgewoJICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLAoJICAvLyB0aGVuIHdlJ3JlIG9rLgoJICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjsKCgkgIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi4KCSAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suCgkgIG5leHRUaWNrKG9uRW5kTlQsIHRoaXMpOwoJfQoKCWZ1bmN0aW9uIG9uRW5kTlQoc2VsZikgewoJICBzZWxmLmVuZCgpOwoJfQoKCS8vIGEgdHJhbnNmb3JtIHN0cmVhbSBpcyBhIHJlYWRhYmxlL3dyaXRhYmxlIHN0cmVhbSB3aGVyZSB5b3UgZG8KCWluaGVyaXRzJDEoVHJhbnNmb3JtLCBEdXBsZXgpOwoKCWZ1bmN0aW9uIFRyYW5zZm9ybVN0YXRlKHN0cmVhbSkgewoJICB0aGlzLmFmdGVyVHJhbnNmb3JtID0gZnVuY3Rpb24gKGVyLCBkYXRhKSB7CgkgICAgcmV0dXJuIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSwgZXIsIGRhdGEpOwoJICB9OwoKCSAgdGhpcy5uZWVkVHJhbnNmb3JtID0gZmFsc2U7CgkgIHRoaXMudHJhbnNmb3JtaW5nID0gZmFsc2U7CgkgIHRoaXMud3JpdGVjYiA9IG51bGw7CgkgIHRoaXMud3JpdGVjaHVuayA9IG51bGw7CgkgIHRoaXMud3JpdGVlbmNvZGluZyA9IG51bGw7Cgl9CgoJZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSkgewoJICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlOwoJICB0cy50cmFuc2Zvcm1pbmcgPSBmYWxzZTsKCgkgIHZhciBjYiA9IHRzLndyaXRlY2I7CgoJICBpZiAoIWNiKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcycpKTsKCgkgIHRzLndyaXRlY2h1bmsgPSBudWxsOwoJICB0cy53cml0ZWNiID0gbnVsbDsKCgkgIGlmIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHVuZGVmaW5lZCkgc3RyZWFtLnB1c2goZGF0YSk7CgoJICBjYihlcik7CgoJICB2YXIgcnMgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7CgkgIHJzLnJlYWRpbmcgPSBmYWxzZTsKCSAgaWYgKHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB7CgkgICAgc3RyZWFtLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspOwoJICB9Cgl9CglmdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykgewoJICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7CgoJICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTsKCgkgIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0gbmV3IFRyYW5zZm9ybVN0YXRlKHRoaXMpOwoKCSAgLy8gd2hlbiB0aGUgd3JpdGFibGUgc2lkZSBmaW5pc2hlcywgdGhlbiBmbHVzaCBvdXQgYW55dGhpbmcgcmVtYWluaW5nLgoJICB2YXIgc3RyZWFtID0gdGhpczsKCgkgIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLgoJICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgoJICAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3MKCSAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZQoJICAvLyBzeW5jIGd1YXJkIGZsYWcuCgkgIHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYyA9IGZhbHNlOwoKCSAgaWYgKG9wdGlvbnMpIHsKCSAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTsKCgkgICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7CgkgIH0KCgkgIHRoaXMub25jZSgncHJlZmluaXNoJywgZnVuY3Rpb24gKCkgewoJICAgIGlmICh0eXBlb2YgdGhpcy5fZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoKGZ1bmN0aW9uIChlcikgewoJICAgICAgZG9uZShzdHJlYW0sIGVyKTsKCSAgICB9KTtlbHNlIGRvbmUoc3RyZWFtKTsKCSAgfSk7Cgl9CgoJVHJhbnNmb3JtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykgewoJICB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtID0gZmFsc2U7CgkgIHJldHVybiBEdXBsZXgucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZW5jb2RpbmcpOwoJfTsKCgkvLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiEKCS8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy4KCS8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuCgkvLwoJLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0CgkvLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLgoJLy8KCS8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzCgkvLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91CgkvLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLgoJVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTsKCX07CgoJVHJhbnNmb3JtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTsKCSAgdHMud3JpdGVjYiA9IGNiOwoJICB0cy53cml0ZWNodW5rID0gY2h1bms7CgkgIHRzLndyaXRlZW5jb2RpbmcgPSBlbmNvZGluZzsKCSAgaWYgKCF0cy50cmFuc2Zvcm1pbmcpIHsKCSAgICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoJICAgIGlmICh0cy5uZWVkVHJhbnNmb3JtIHx8IHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspOwoJICB9Cgl9OwoKCS8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuCgkvLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLgoJLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS4KCVRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikgewoJICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTsKCgkgIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykgewoJICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7CgkgICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTsKCSAgfSBlbHNlIHsKCSAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluCgkgICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuCgkgICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7CgkgIH0KCX07CgoJZnVuY3Rpb24gZG9uZShzdHJlYW0sIGVyKSB7CgkgIGlmIChlcikgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTsKCgkgIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnMKCSAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkCgkgIHZhciB3cyA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTsKCSAgdmFyIHRzID0gc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTsKCgkgIGlmICh3cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7CgoJICBpZiAodHMudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmcnKTsKCgkgIHJldHVybiBzdHJlYW0ucHVzaChudWxsKTsKCX0KCglpbmhlcml0cyQxKFBhc3NUaHJvdWdoLCBUcmFuc2Zvcm0pOwoJZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykgewoJICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpOwoKCSAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7Cgl9CgoJUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewoJICBjYihudWxsLCBjaHVuayk7Cgl9OwoKCWluaGVyaXRzJDEoU3RyZWFtLCBFRSk7CglTdHJlYW0uUmVhZGFibGUgPSBSZWFkYWJsZTsKCVN0cmVhbS5Xcml0YWJsZSA9IFdyaXRhYmxlJDE7CglTdHJlYW0uRHVwbGV4ID0gRHVwbGV4OwoJU3RyZWFtLlRyYW5zZm9ybSA9IFRyYW5zZm9ybTsKCVN0cmVhbS5QYXNzVGhyb3VnaCA9IFBhc3NUaHJvdWdoOwoKCS8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuNC54CglTdHJlYW0uU3RyZWFtID0gU3RyZWFtOwoKCS8vIG9sZC1zdHlsZSBzdHJlYW1zLiAgTm90ZSB0aGF0IHRoZSBwaXBlIG1ldGhvZCAodGhlIG9ubHkgcmVsZXZhbnQKCS8vIHBhcnQgb2YgdGhpcyBjbGFzcykgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmVhZGFibGUgY2xhc3MuCgoJZnVuY3Rpb24gU3RyZWFtKCkgewoJICBFRS5jYWxsKHRoaXMpOwoJfQoKCVN0cmVhbS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKGRlc3QsIG9wdGlvbnMpIHsKCSAgdmFyIHNvdXJjZSA9IHRoaXM7CgoJICBmdW5jdGlvbiBvbmRhdGEoY2h1bmspIHsKCSAgICBpZiAoZGVzdC53cml0YWJsZSkgewoJICAgICAgaWYgKGZhbHNlID09PSBkZXN0LndyaXRlKGNodW5rKSAmJiBzb3VyY2UucGF1c2UpIHsKCSAgICAgICAgc291cmNlLnBhdXNlKCk7CgkgICAgICB9CgkgICAgfQoJICB9CgoJICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpOwoKCSAgZnVuY3Rpb24gb25kcmFpbigpIHsKCSAgICBpZiAoc291cmNlLnJlYWRhYmxlICYmIHNvdXJjZS5yZXN1bWUpIHsKCSAgICAgIHNvdXJjZS5yZXN1bWUoKTsKCSAgICB9CgkgIH0KCgkgIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7CgoJICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuCgkgIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLgoJICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHsKCSAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTsKCSAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7CgkgIH0KCgkgIHZhciBkaWRPbkVuZCA9IGZhbHNlOwoJICBmdW5jdGlvbiBvbmVuZCgpIHsKCSAgICBpZiAoZGlkT25FbmQpIHJldHVybjsKCSAgICBkaWRPbkVuZCA9IHRydWU7CgoJICAgIGRlc3QuZW5kKCk7CgkgIH0KCgoJICBmdW5jdGlvbiBvbmNsb3NlKCkgewoJICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuOwoJICAgIGRpZE9uRW5kID0gdHJ1ZTsKCgkgICAgaWYgKHR5cGVvZiBkZXN0LmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIGRlc3QuZGVzdHJveSgpOwoJICB9CgoJICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuCgkgIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHsKCSAgICBjbGVhbnVwKCk7CgkgICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHsKCSAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuCgkgICAgfQoJICB9CgoJICBzb3VyY2Uub24oJ2Vycm9yJywgb25lcnJvcik7CgkgIGRlc3Qub24oJ2Vycm9yJywgb25lcnJvcik7CgoJICAvLyByZW1vdmUgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCB3ZXJlIGFkZGVkLgoJICBmdW5jdGlvbiBjbGVhbnVwKCkgewoJICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTsKCgkgICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7CgkgICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpOwoKCSAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7CgkgICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKCgkgICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTsKCSAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7CgoJICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7CgkgIH0KCgkgIHNvdXJjZS5vbignZW5kJywgY2xlYW51cCk7CgkgIHNvdXJjZS5vbignY2xvc2UnLCBjbGVhbnVwKTsKCgkgIGRlc3Qub24oJ2Nsb3NlJywgY2xlYW51cCk7CgoJICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpOwoKCSAgLy8gQWxsb3cgZm9yIHVuaXgtbGlrZSB1c2FnZTogQS5waXBlKEIpLnBpcGUoQykKCSAgcmV0dXJuIGRlc3Q7Cgl9OwoKCXZhciByU3RhdGVzID0gewoJICBVTlNFTlQ6IDAsCgkgIE9QRU5FRDogMSwKCSAgSEVBREVSU19SRUNFSVZFRDogMiwKCSAgTE9BRElORzogMywKCSAgRE9ORTogNAoJfTsKCWZ1bmN0aW9uIEluY29taW5nTWVzc2FnZSh4aHIsIHJlc3BvbnNlLCBtb2RlKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCSAgUmVhZGFibGUuY2FsbChzZWxmKTsKCgkgIHNlbGYuX21vZGUgPSBtb2RlOwoJICBzZWxmLmhlYWRlcnMgPSB7fTsKCSAgc2VsZi5yYXdIZWFkZXJzID0gW107CgkgIHNlbGYudHJhaWxlcnMgPSB7fTsKCSAgc2VsZi5yYXdUcmFpbGVycyA9IFtdOwoKCSAgLy8gRmFrZSB0aGUgJ2Nsb3NlJyBldmVudCwgYnV0IG9ubHkgb25jZSAnZW5kJyBmaXJlcwoJICBzZWxmLm9uKCdlbmQnLCBmdW5jdGlvbigpIHsKCSAgICAvLyBUaGUgbmV4dFRpY2sgaXMgbmVjZXNzYXJ5IHRvIHByZXZlbnQgdGhlICdyZXF1ZXN0JyBtb2R1bGUgZnJvbSBjYXVzaW5nIGFuIGluZmluaXRlIGxvb3AKCSAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkgewoJICAgICAgc2VsZi5lbWl0KCdjbG9zZScpOwoJICAgIH0pOwoJICB9KTsKCSAgdmFyIHJlYWQ7CgkgIGlmIChtb2RlID09PSAnZmV0Y2gnKSB7CgkgICAgc2VsZi5fZmV0Y2hSZXNwb25zZSA9IHJlc3BvbnNlOwoKCSAgICBzZWxmLnVybCA9IHJlc3BvbnNlLnVybDsKCSAgICBzZWxmLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXM7CgkgICAgc2VsZi5zdGF0dXNNZXNzYWdlID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDsKCSAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmxlIHZlcnNpb24gb2YgZm9yICg8aXRlbT4gb2YgPGl0ZXJhYmxlPik6CgkgICAgICAvLyBmb3IgKHZhciA8aXRlbT4sX2ksX2l0ID0gPGl0ZXJhYmxlPltTeW1ib2wuaXRlcmF0b3JdKCk7IDxpdGVtPiA9IChfaSA9IF9pdC5uZXh0KCkpLnZhbHVlLCFfaS5kb25lOykKCSAgICBmb3IgKHZhciBoZWFkZXIsIF9pLCBfaXQgPSByZXNwb25zZS5oZWFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTsgaGVhZGVyID0gKF9pID0gX2l0Lm5leHQoKSkudmFsdWUsICFfaS5kb25lOykgewoJICAgICAgc2VsZi5oZWFkZXJzW2hlYWRlclswXS50b0xvd2VyQ2FzZSgpXSA9IGhlYWRlclsxXTsKCSAgICAgIHNlbGYucmF3SGVhZGVycy5wdXNoKGhlYWRlclswXSwgaGVhZGVyWzFdKTsKCSAgICB9CgoJICAgIC8vIFRPRE86IHRoaXMgZG9lc24ndCByZXNwZWN0IGJhY2twcmVzc3VyZS4gT25jZSBXcml0YWJsZVN0cmVhbSBpcyBhdmFpbGFibGUsIHRoaXMgY2FuIGJlIGZpeGVkCgkgICAgdmFyIHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7CgoJICAgIHJlYWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICByZWFkZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7CgkgICAgICAgIGlmIChzZWxmLl9kZXN0cm95ZWQpCgkgICAgICAgICAgcmV0dXJuCgkgICAgICAgIGlmIChyZXN1bHQuZG9uZSkgewoJICAgICAgICAgIHNlbGYucHVzaChudWxsKTsKCSAgICAgICAgICByZXR1cm4KCSAgICAgICAgfQoJICAgICAgICBzZWxmLnB1c2gobmV3IGJ1ZmZlci5CdWZmZXIocmVzdWx0LnZhbHVlKSk7CgkgICAgICAgIHJlYWQoKTsKCSAgICAgIH0pOwoJICAgIH07CgkgICAgcmVhZCgpOwoKCSAgfSBlbHNlIHsKCSAgICBzZWxmLl94aHIgPSB4aHI7CgkgICAgc2VsZi5fcG9zID0gMDsKCgkgICAgc2VsZi51cmwgPSB4aHIucmVzcG9uc2VVUkw7CgkgICAgc2VsZi5zdGF0dXNDb2RlID0geGhyLnN0YXR1czsKCSAgICBzZWxmLnN0YXR1c01lc3NhZ2UgPSB4aHIuc3RhdHVzVGV4dDsKCSAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgvXHI/XG4vKTsKCSAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7CgkgICAgICB2YXIgbWF0Y2hlcyA9IGhlYWRlci5tYXRjaCgvXihbXjpdKyk6XHMqKC4qKS8pOwoJICAgICAgaWYgKG1hdGNoZXMpIHsKCSAgICAgICAgdmFyIGtleSA9IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKTsKCSAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7CgkgICAgICAgICAgaWYgKHNlbGYuaGVhZGVyc1trZXldID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gW107CgkgICAgICAgICAgfQoJICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldLnB1c2gobWF0Y2hlc1syXSk7CgkgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5oZWFkZXJzW2tleV0gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldICs9ICcsICcgKyBtYXRjaGVzWzJdOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gbWF0Y2hlc1syXTsKCSAgICAgICAgfQoJICAgICAgICBzZWxmLnJhd0hlYWRlcnMucHVzaChtYXRjaGVzWzFdLCBtYXRjaGVzWzJdKTsKCSAgICAgIH0KCSAgICB9KTsKCgkgICAgc2VsZi5fY2hhcnNldCA9ICd4LXVzZXItZGVmaW5lZCc7CgkgICAgaWYgKCFvdmVycmlkZU1pbWVUeXBlKSB7CgkgICAgICB2YXIgbWltZVR5cGUgPSBzZWxmLnJhd0hlYWRlcnNbJ21pbWUtdHlwZSddOwoJICAgICAgaWYgKG1pbWVUeXBlKSB7CgkgICAgICAgIHZhciBjaGFyc2V0TWF0Y2ggPSBtaW1lVHlwZS5tYXRjaCgvO1xzKmNoYXJzZXQ9KFteO10pKDt8JCkvKTsKCSAgICAgICAgaWYgKGNoYXJzZXRNYXRjaCkgewoJICAgICAgICAgIHNlbGYuX2NoYXJzZXQgPSBjaGFyc2V0TWF0Y2hbMV0udG9Mb3dlckNhc2UoKTsKCSAgICAgICAgfQoJICAgICAgfQoJICAgICAgaWYgKCFzZWxmLl9jaGFyc2V0KQoJICAgICAgICBzZWxmLl9jaGFyc2V0ID0gJ3V0Zi04JzsgLy8gYmVzdCBndWVzcwoJICAgIH0KCSAgfQoJfQoKCWluaGVyaXRzJDEoSW5jb21pbmdNZXNzYWdlLCBSZWFkYWJsZSk7CgoJSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uKCkge307CgoJSW5jb21pbmdNZXNzYWdlLnByb3RvdHlwZS5fb25YSFJQcm9ncmVzcyA9IGZ1bmN0aW9uKCkgewoJICB2YXIgc2VsZiA9IHRoaXM7CgoJICB2YXIgeGhyID0gc2VsZi5feGhyOwoKCSAgdmFyIHJlc3BvbnNlID0gbnVsbDsKCSAgc3dpdGNoIChzZWxmLl9tb2RlKSB7CgkgIGNhc2UgJ3RleHQ6dmJhcnJheSc6IC8vIEZvciBJRTkKCSAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuRE9ORSkKCSAgICAgIGJyZWFrCgkgICAgdHJ5IHsKCSAgICAgIC8vIFRoaXMgZmFpbHMgaW4gSUU4CgkgICAgICByZXNwb25zZSA9IG5ldyBnbG9iYWwkMS5WQkFycmF5KHhoci5yZXNwb25zZUJvZHkpLnRvQXJyYXkoKTsKCSAgICB9IGNhdGNoIChlKSB7CgkgICAgICAvLyBwYXNzCgkgICAgfQoJICAgIGlmIChyZXNwb25zZSAhPT0gbnVsbCkgewoJICAgICAgc2VsZi5wdXNoKG5ldyBidWZmZXIuQnVmZmVyKHJlc3BvbnNlKSk7CgkgICAgICBicmVhawoJICAgIH0KCSAgICAvLyBGYWxscyB0aHJvdWdoIGluIElFOAoJICBjYXNlICd0ZXh0JzoKCSAgICB0cnkgeyAvLyBUaGlzIHdpbGwgZmFpbCB3aGVuIHJlYWR5U3RhdGUgPSAzIGluIElFOS4gU3dpdGNoIG1vZGUgYW5kIHdhaXQgZm9yIHJlYWR5U3RhdGUgPSA0CgkgICAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVRleHQ7CgkgICAgfSBjYXRjaCAoZSkgewoJICAgICAgc2VsZi5fbW9kZSA9ICd0ZXh0OnZiYXJyYXknOwoJICAgICAgYnJlYWsKCSAgICB9CgkgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IHNlbGYuX3BvcykgewoJICAgICAgdmFyIG5ld0RhdGEgPSByZXNwb25zZS5zdWJzdHIoc2VsZi5fcG9zKTsKCSAgICAgIGlmIChzZWxmLl9jaGFyc2V0ID09PSAneC11c2VyLWRlZmluZWQnKSB7CgkgICAgICAgIHZhciBidWZmZXIkMSA9IG5ldyBidWZmZXIuQnVmZmVyKG5ld0RhdGEubGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdEYXRhLmxlbmd0aDsgaSsrKQoJICAgICAgICAgIGJ1ZmZlciQxW2ldID0gbmV3RGF0YS5jaGFyQ29kZUF0KGkpICYgMHhmZjsKCgkgICAgICAgIHNlbGYucHVzaChidWZmZXIkMSk7CgkgICAgICB9IGVsc2UgewoJICAgICAgICBzZWxmLnB1c2gobmV3RGF0YSwgc2VsZi5fY2hhcnNldCk7CgkgICAgICB9CgkgICAgICBzZWxmLl9wb3MgPSByZXNwb25zZS5sZW5ndGg7CgkgICAgfQoJICAgIGJyZWFrCgkgIGNhc2UgJ2FycmF5YnVmZmVyJzoKCSAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuRE9ORSB8fCAheGhyLnJlc3BvbnNlKQoJICAgICAgYnJlYWsKCSAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZTsKCSAgICBzZWxmLnB1c2gobmV3IGJ1ZmZlci5CdWZmZXIobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UpKSk7CgkgICAgYnJlYWsKCSAgY2FzZSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInOiAvLyB0YWtlIHdob2xlCgkgICAgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2U7CgkgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSByU3RhdGVzLkxPQURJTkcgfHwgIXJlc3BvbnNlKQoJICAgICAgYnJlYWsKCSAgICBzZWxmLnB1c2gobmV3IGJ1ZmZlci5CdWZmZXIobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UpKSk7CgkgICAgYnJlYWsKCSAgY2FzZSAnbXMtc3RyZWFtJzoKCSAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZTsKCSAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuTE9BRElORykKCSAgICAgIGJyZWFrCgkgICAgdmFyIHJlYWRlciA9IG5ldyBnbG9iYWwkMS5NU1N0cmVhbVJlYWRlcigpOwoJICAgIHJlYWRlci5vbnByb2dyZXNzID0gZnVuY3Rpb24oKSB7CgkgICAgICBpZiAocmVhZGVyLnJlc3VsdC5ieXRlTGVuZ3RoID4gc2VsZi5fcG9zKSB7CgkgICAgICAgIHNlbGYucHVzaChuZXcgYnVmZmVyLkJ1ZmZlcihuZXcgVWludDhBcnJheShyZWFkZXIucmVzdWx0LnNsaWNlKHNlbGYuX3BvcykpKSk7CgkgICAgICAgIHNlbGYuX3BvcyA9IHJlYWRlci5yZXN1bHQuYnl0ZUxlbmd0aDsKCSAgICAgIH0KCSAgICB9OwoJICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCSAgICAgIHNlbGYucHVzaChudWxsKTsKCSAgICB9OwoJICAgICAgLy8gcmVhZGVyLm9uZXJyb3IgPSA/Pz8gLy8gVE9ETzogdGhpcwoJICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihyZXNwb25zZSk7CgkgICAgYnJlYWsKCSAgfQoKCSAgLy8gVGhlIG1zLXN0cmVhbSBjYXNlIGhhbmRsZXMgZW5kIHNlcGFyYXRlbHkgaW4gcmVhZGVyLm9ubG9hZCgpCgkgIGlmIChzZWxmLl94aHIucmVhZHlTdGF0ZSA9PT0gclN0YXRlcy5ET05FICYmIHNlbGYuX21vZGUgIT09ICdtcy1zdHJlYW0nKSB7CgkgICAgc2VsZi5wdXNoKG51bGwpOwoJICB9Cgl9OwoKCS8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2poaWVzZXkvdG8tYXJyYXlidWZmZXIvYmxvYi82NTAyZDk4NTBlNzBiYTc5MzVhN2RmNGFkODZiMzU4ZmMyMTZmOWYwL2luZGV4LmpzCglmdW5jdGlvbiB0b0FycmF5QnVmZmVyIChidWYpIHsKCSAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBiYWNrZWQgYnkgYSBVaW50OEFycmF5LCBhIGZhc3RlciB2ZXJzaW9uIHdpbGwgd29yawoJICBpZiAoYnVmIGluc3RhbmNlb2YgVWludDhBcnJheSkgewoJICAgIC8vIElmIHRoZSBidWZmZXIgaXNuJ3QgYSBzdWJhcnJheSwgcmV0dXJuIHRoZSB1bmRlcmx5aW5nIEFycmF5QnVmZmVyCgkgICAgaWYgKGJ1Zi5ieXRlT2Zmc2V0ID09PSAwICYmIGJ1Zi5ieXRlTGVuZ3RoID09PSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgpIHsKCSAgICAgIHJldHVybiBidWYuYnVmZmVyCgkgICAgfSBlbHNlIGlmICh0eXBlb2YgYnVmLmJ1ZmZlci5zbGljZSA9PT0gJ2Z1bmN0aW9uJykgewoJICAgICAgLy8gT3RoZXJ3aXNlIHdlIG5lZWQgdG8gZ2V0IGEgcHJvcGVyIGNvcHkKCSAgICAgIHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKQoJICAgIH0KCSAgfQoKCSAgaWYgKGJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7CgkgICAgLy8gVGhpcyBpcyB0aGUgc2xvdyB2ZXJzaW9uIHRoYXQgd2lsbCB3b3JrIHdpdGggYW55IEJ1ZmZlcgoJICAgIC8vIGltcGxlbWVudGF0aW9uIChldmVuIGluIG9sZCBicm93c2VycykKCSAgICB2YXIgYXJyYXlDb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmxlbmd0aCk7CgkgICAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGg7CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewoJICAgICAgYXJyYXlDb3B5W2ldID0gYnVmW2ldOwoJICAgIH0KCSAgICByZXR1cm4gYXJyYXlDb3B5LmJ1ZmZlcgoJICB9IGVsc2UgewoJICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpCgkgIH0KCX0KCglmdW5jdGlvbiBkZWNpZGVNb2RlKHByZWZlckJpbmFyeSwgdXNlRmV0Y2gpIHsKCSAgaWYgKGhhc0ZldGNoICYmIHVzZUZldGNoKSB7CgkgICAgcmV0dXJuICdmZXRjaCcKCSAgfSBlbHNlIGlmIChtb3pjaHVua2VkYXJyYXlidWZmZXIpIHsKCSAgICByZXR1cm4gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJwoJICB9IGVsc2UgaWYgKG1zc3RyZWFtKSB7CgkgICAgcmV0dXJuICdtcy1zdHJlYW0nCgkgIH0gZWxzZSBpZiAoYXJyYXlidWZmZXIgJiYgcHJlZmVyQmluYXJ5KSB7CgkgICAgcmV0dXJuICdhcnJheWJ1ZmZlcicKCSAgfSBlbHNlIGlmICh2YkFycmF5ICYmIHByZWZlckJpbmFyeSkgewoJICAgIHJldHVybiAndGV4dDp2YmFycmF5JwoJICB9IGVsc2UgewoJICAgIHJldHVybiAndGV4dCcKCSAgfQoJfQoKCWZ1bmN0aW9uIENsaWVudFJlcXVlc3Qob3B0cykgewoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIFdyaXRhYmxlJDEuY2FsbChzZWxmKTsKCgkgIHNlbGYuX29wdHMgPSBvcHRzOwoJICBzZWxmLl9ib2R5ID0gW107CgkgIHNlbGYuX2hlYWRlcnMgPSB7fTsKCSAgaWYgKG9wdHMuYXV0aCkKCSAgICBzZWxmLnNldEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgbmV3IGJ1ZmZlci5CdWZmZXIob3B0cy5hdXRoKS50b1N0cmluZygnYmFzZTY0JykpOwoJICBPYmplY3Qua2V5cyhvcHRzLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkgewoJICAgIHNlbGYuc2V0SGVhZGVyKG5hbWUsIG9wdHMuaGVhZGVyc1tuYW1lXSk7CgkgIH0pOwoKCSAgdmFyIHByZWZlckJpbmFyeTsKCSAgdmFyIHVzZUZldGNoID0gdHJ1ZTsKCSAgaWYgKG9wdHMubW9kZSA9PT0gJ2Rpc2FibGUtZmV0Y2gnKSB7CgkgICAgLy8gSWYgdGhlIHVzZSBvZiBYSFIgc2hvdWxkIGJlIHByZWZlcnJlZCBhbmQgaW5jbHVkZXMgcHJlc2VydmluZyB0aGUgJ2NvbnRlbnQtdHlwZScgaGVhZGVyCgkgICAgdXNlRmV0Y2ggPSBmYWxzZTsKCSAgICBwcmVmZXJCaW5hcnkgPSB0cnVlOwoJICB9IGVsc2UgaWYgKG9wdHMubW9kZSA9PT0gJ3ByZWZlci1zdHJlYW1pbmcnKSB7CgkgICAgLy8gSWYgc3RyZWFtaW5nIGlzIGEgaGlnaCBwcmlvcml0eSBidXQgYmluYXJ5IGNvbXBhdGliaWxpdHkgYW5kCgkgICAgLy8gdGhlIGFjY3VyYWN5IG9mIHRoZSAnY29udGVudC10eXBlJyBoZWFkZXIgYXJlbid0CgkgICAgcHJlZmVyQmluYXJ5ID0gZmFsc2U7CgkgIH0gZWxzZSBpZiAob3B0cy5tb2RlID09PSAnYWxsb3ctd3JvbmctY29udGVudC10eXBlJykgewoJICAgIC8vIElmIHN0cmVhbWluZyBpcyBtb3JlIGltcG9ydGFudCB0aGFuIHByZXNlcnZpbmcgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlcgoJICAgIHByZWZlckJpbmFyeSA9ICFvdmVycmlkZU1pbWVUeXBlOwoJICB9IGVsc2UgaWYgKCFvcHRzLm1vZGUgfHwgb3B0cy5tb2RlID09PSAnZGVmYXVsdCcgfHwgb3B0cy5tb2RlID09PSAncHJlZmVyLWZhc3QnKSB7CgkgICAgLy8gVXNlIGJpbmFyeSBpZiB0ZXh0IHN0cmVhbWluZyBtYXkgY29ycnVwdCBkYXRhIG9yIHRoZSBjb250ZW50LXR5cGUgaGVhZGVyLCBvciBmb3Igc3BlZWQKCSAgICBwcmVmZXJCaW5hcnkgPSB0cnVlOwoJICB9IGVsc2UgewoJICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBmb3Igb3B0cy5tb2RlJykKCSAgfQoJICBzZWxmLl9tb2RlID0gZGVjaWRlTW9kZShwcmVmZXJCaW5hcnksIHVzZUZldGNoKTsKCgkgIHNlbGYub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uKCkgewoJICAgIHNlbGYuX29uRmluaXNoKCk7CgkgIH0pOwoJfQoKCWluaGVyaXRzJDEoQ2xpZW50UmVxdWVzdCwgV3JpdGFibGUkMSk7CgkvLyBUYWtlbiBmcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL1hNTEh0dHBSZXF1ZXN0LyN0aGUtc2V0cmVxdWVzdGhlYWRlciUyOCUyOS1tZXRob2QKCXZhciB1bnNhZmVIZWFkZXJzID0gWwoJICAnYWNjZXB0LWNoYXJzZXQnLAoJICAnYWNjZXB0LWVuY29kaW5nJywKCSAgJ2FjY2Vzcy1jb250cm9sLXJlcXVlc3QtaGVhZGVycycsCgkgICdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LW1ldGhvZCcsCgkgICdjb25uZWN0aW9uJywKCSAgJ2NvbnRlbnQtbGVuZ3RoJywKCSAgJ2Nvb2tpZScsCgkgICdjb29raWUyJywKCSAgJ2RhdGUnLAoJICAnZG50JywKCSAgJ2V4cGVjdCcsCgkgICdob3N0JywKCSAgJ2tlZXAtYWxpdmUnLAoJICAnb3JpZ2luJywKCSAgJ3JlZmVyZXInLAoJICAndGUnLAoJICAndHJhaWxlcicsCgkgICd0cmFuc2Zlci1lbmNvZGluZycsCgkgICd1cGdyYWRlJywKCSAgJ3VzZXItYWdlbnQnLAoJICAndmlhJwoJXTsKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCSAgdmFyIGxvd2VyTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTsKCSAgICAvLyBUaGlzIGNoZWNrIGlzIG5vdCBuZWNlc3NhcnksIGJ1dCBpdCBwcmV2ZW50cyB3YXJuaW5ncyBmcm9tIGJyb3dzZXJzIGFib3V0IHNldHRpbmcgdW5zYWZlCgkgICAgLy8gaGVhZGVycy4gVG8gYmUgaG9uZXN0IEknbSBub3QgZW50aXJlbHkgc3VyZSBoaWRpbmcgdGhlc2Ugd2FybmluZ3MgaXMgYSBnb29kIHRoaW5nLCBidXQKCSAgICAvLyBodHRwLWJyb3dzZXJpZnkgZGlkIGl0LCBzbyBJIHdpbGwgdG9vLgoJICBpZiAodW5zYWZlSGVhZGVycy5pbmRleE9mKGxvd2VyTmFtZSkgIT09IC0xKQoJICAgIHJldHVybgoKCSAgc2VsZi5faGVhZGVyc1tsb3dlck5hbWVdID0gewoJICAgIG5hbWU6IG5hbWUsCgkgICAgdmFsdWU6IHZhbHVlCgkgIH07Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICByZXR1cm4gc2VsZi5faGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldLnZhbHVlCgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICBkZWxldGUgc2VsZi5faGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldOwoJfTsKCglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fb25GaW5pc2ggPSBmdW5jdGlvbigpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoKCSAgaWYgKHNlbGYuX2Rlc3Ryb3llZCkKCSAgICByZXR1cm4KCSAgdmFyIG9wdHMgPSBzZWxmLl9vcHRzOwoKCSAgdmFyIGhlYWRlcnNPYmogPSBzZWxmLl9oZWFkZXJzOwoJICB2YXIgYm9keTsKCSAgaWYgKG9wdHMubWV0aG9kID09PSAnUE9TVCcgfHwgb3B0cy5tZXRob2QgPT09ICdQVVQnIHx8IG9wdHMubWV0aG9kID09PSAnUEFUQ0gnKSB7CgkgICAgaWYgKGJsb2JDb25zdHJ1Y3RvcigpKSB7CgkgICAgICBib2R5ID0gbmV3IGdsb2JhbCQxLkJsb2Ioc2VsZi5fYm9keS5tYXAoZnVuY3Rpb24oYnVmZmVyKSB7CgkgICAgICAgIHJldHVybiB0b0FycmF5QnVmZmVyKGJ1ZmZlcikKCSAgICAgIH0pLCB7CgkgICAgICAgIHR5cGU6IChoZWFkZXJzT2JqWydjb250ZW50LXR5cGUnXSB8fCB7fSkudmFsdWUgfHwgJycKCSAgICAgIH0pOwoJICAgIH0gZWxzZSB7CgkgICAgICAvLyBnZXQgdXRmOCBzdHJpbmcKCSAgICAgIGJvZHkgPSBidWZmZXIuQnVmZmVyLmNvbmNhdChzZWxmLl9ib2R5KS50b1N0cmluZygpOwoJICAgIH0KCSAgfQoKCSAgaWYgKHNlbGYuX21vZGUgPT09ICdmZXRjaCcpIHsKCSAgICB2YXIgaGVhZGVycyA9IE9iamVjdC5rZXlzKGhlYWRlcnNPYmopLm1hcChmdW5jdGlvbihuYW1lKSB7CgkgICAgICByZXR1cm4gW2hlYWRlcnNPYmpbbmFtZV0ubmFtZSwgaGVhZGVyc09ialtuYW1lXS52YWx1ZV0KCSAgICB9KTsKCgkgICAgZ2xvYmFsJDEuZmV0Y2goc2VsZi5fb3B0cy51cmwsIHsKCSAgICAgIG1ldGhvZDogc2VsZi5fb3B0cy5tZXRob2QsCgkgICAgICBoZWFkZXJzOiBoZWFkZXJzLAoJICAgICAgYm9keTogYm9keSwKCSAgICAgIG1vZGU6ICdjb3JzJywKCSAgICAgIGNyZWRlbnRpYWxzOiBvcHRzLndpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdzYW1lLW9yaWdpbicKCSAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkgICAgICBzZWxmLl9mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2U7CgkgICAgICBzZWxmLl9jb25uZWN0KCk7CgkgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7CgkgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgcmVhc29uKTsKCSAgICB9KTsKCSAgfSBlbHNlIHsKCSAgICB2YXIgeGhyID0gc2VsZi5feGhyID0gbmV3IGdsb2JhbCQxLlhNTEh0dHBSZXF1ZXN0KCk7CgkgICAgdHJ5IHsKCSAgICAgIHhoci5vcGVuKHNlbGYuX29wdHMubWV0aG9kLCBzZWxmLl9vcHRzLnVybCwgdHJ1ZSk7CgkgICAgfSBjYXRjaCAoZXJyKSB7CgkgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkgewoJICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuCgkgICAgfQoKCSAgICAvLyBDYW4ndCBzZXQgcmVzcG9uc2VUeXBlIG9uIHJlYWxseSBvbGQgYnJvd3NlcnMKCSAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyKQoJICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHNlbGYuX21vZGUuc3BsaXQoJzonKVswXTsKCgkgICAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikKCSAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdHMud2l0aENyZWRlbnRpYWxzOwoKCSAgICBpZiAoc2VsZi5fbW9kZSA9PT0gJ3RleHQnICYmICdvdmVycmlkZU1pbWVUeXBlJyBpbiB4aHIpCgkgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZSgndGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCcpOwoKCSAgICBPYmplY3Qua2V5cyhoZWFkZXJzT2JqKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHsKCSAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlcnNPYmpbbmFtZV0ubmFtZSwgaGVhZGVyc09ialtuYW1lXS52YWx1ZSk7CgkgICAgfSk7CgoJICAgIHNlbGYuX3Jlc3BvbnNlID0gbnVsbDsKCSAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CgkgICAgICBzd2l0Y2ggKHhoci5yZWFkeVN0YXRlKSB7CgkgICAgICBjYXNlIHJTdGF0ZXMuTE9BRElORzoKCSAgICAgIGNhc2UgclN0YXRlcy5ET05FOgoJICAgICAgICBzZWxmLl9vblhIUlByb2dyZXNzKCk7CgkgICAgICAgIGJyZWFrCgkgICAgICB9CgkgICAgfTsKCSAgICAgIC8vIE5lY2Vzc2FyeSBmb3Igc3RyZWFtaW5nIGluIEZpcmVmb3gsIHNpbmNlIHhoci5yZXNwb25zZSBpcyBPTkxZIGRlZmluZWQKCSAgICAgIC8vIGluIG9ucHJvZ3Jlc3MsIG5vdCBpbiBvbnJlYWR5c3RhdGVjaGFuZ2Ugd2l0aCB4aHIucmVhZHlTdGF0ZSA9IDMKCSAgICBpZiAoc2VsZi5fbW9kZSA9PT0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJykgewoJICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHsKCSAgICAgICAgc2VsZi5fb25YSFJQcm9ncmVzcygpOwoJICAgICAgfTsKCSAgICB9CgoJICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7CgkgICAgICBpZiAoc2VsZi5fZGVzdHJveWVkKQoJICAgICAgICByZXR1cm4KCSAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ1hIUiBlcnJvcicpKTsKCSAgICB9OwoKCSAgICB0cnkgewoJICAgICAgeGhyLnNlbmQoYm9keSk7CgkgICAgfSBjYXRjaCAoZXJyKSB7CgkgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkgewoJICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuCgkgICAgfQoJICB9Cgl9OwoKCS8qKgoJICogQ2hlY2tzIGlmIHhoci5zdGF0dXMgaXMgcmVhZGFibGUgYW5kIG5vbi16ZXJvLCBpbmRpY2F0aW5nIG5vIGVycm9yLgoJICogRXZlbiB0aG91Z2ggdGhlIHNwZWMgc2F5cyBpdCBzaG91bGQgYmUgYXZhaWxhYmxlIGluIHJlYWR5U3RhdGUgMywKCSAqIGFjY2Vzc2luZyBpdCB0aHJvd3MgYW4gZXhjZXB0aW9uIGluIElFOAoJICovCglmdW5jdGlvbiBzdGF0dXNWYWxpZCh4aHIpIHsKCSAgdHJ5IHsKCSAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1czsKCSAgICByZXR1cm4gKHN0YXR1cyAhPT0gbnVsbCAmJiBzdGF0dXMgIT09IDApCgkgIH0gY2F0Y2ggKGUpIHsKCSAgICByZXR1cm4gZmFsc2UKCSAgfQoJfQoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24oKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCgkgIGlmICghc3RhdHVzVmFsaWQoc2VsZi5feGhyKSB8fCBzZWxmLl9kZXN0cm95ZWQpCgkgICAgcmV0dXJuCgoJICBpZiAoIXNlbGYuX3Jlc3BvbnNlKQoJICAgIHNlbGYuX2Nvbm5lY3QoKTsKCgkgIHNlbGYuX3Jlc3BvbnNlLl9vblhIUlByb2dyZXNzKCk7Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLl9jb25uZWN0ID0gZnVuY3Rpb24oKSB7CgkgIHZhciBzZWxmID0gdGhpczsKCgkgIGlmIChzZWxmLl9kZXN0cm95ZWQpCgkgICAgcmV0dXJuCgoJICBzZWxmLl9yZXNwb25zZSA9IG5ldyBJbmNvbWluZ01lc3NhZ2Uoc2VsZi5feGhyLCBzZWxmLl9mZXRjaFJlc3BvbnNlLCBzZWxmLl9tb2RlKTsKCSAgc2VsZi5lbWl0KCdyZXNwb25zZScsIHNlbGYuX3Jlc3BvbnNlKTsKCX07CgoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikgewoJICB2YXIgc2VsZiA9IHRoaXM7CgoJICBzZWxmLl9ib2R5LnB1c2goY2h1bmspOwoJICBjYigpOwoJfTsKCglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IENsaWVudFJlcXVlc3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKCSAgdmFyIHNlbGYgPSB0aGlzOwoJICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlOwoJICBpZiAoc2VsZi5fcmVzcG9uc2UpCgkgICAgc2VsZi5fcmVzcG9uc2UuX2Rlc3Ryb3llZCA9IHRydWU7CgkgIGlmIChzZWxmLl94aHIpCgkgICAgc2VsZi5feGhyLmFib3J0KCk7CgkgICAgLy8gQ3VycmVudGx5LCB0aGVyZSBpc24ndCBhIHdheSB0byB0cnVseSBhYm9ydCBhIGZldGNoLgoJICAgIC8vIElmIHlvdSBsaWtlIGJpa2VzaGVkZGluZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZmV0Y2gvaXNzdWVzLzI3Cgl9OwoKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGRhdGEsIGVuY29kaW5nLCBjYikgewoJICB2YXIgc2VsZiA9IHRoaXM7CgkgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykgewoJICAgIGNiID0gZGF0YTsKCSAgICBkYXRhID0gdW5kZWZpbmVkOwoJICB9CgoJICBXcml0YWJsZSQxLnByb3RvdHlwZS5lbmQuY2FsbChzZWxmLCBkYXRhLCBlbmNvZGluZywgY2IpOwoJfTsKCglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5mbHVzaEhlYWRlcnMgPSBmdW5jdGlvbigpIHt9OwoJQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge307CglDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5zZXROb0RlbGF5ID0gZnVuY3Rpb24oKSB7fTsKCUNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldFNvY2tldEtlZXBBbGl2ZSA9IGZ1bmN0aW9uKCkge307CgoJZnVuY3Rpb24gcmVxdWVzdChvcHRzLCBjYikgewoJICBpZiAodHlwZW9mIG9wdHMgPT09ICdzdHJpbmcnKQoJICAgIG9wdHMgPSB1cmxQYXJzZShvcHRzKTsKCgoJICAvLyBOb3JtYWxseSwgdGhlIHBhZ2UgaXMgbG9hZGVkIGZyb20gaHR0cCBvciBodHRwcywgc28gbm90IHNwZWNpZnlpbmcgYSBwcm90b2NvbAoJICAvLyB3aWxsIHJlc3VsdCBpbiBhICh2YWxpZCkgcHJvdG9jb2wtcmVsYXRpdmUgdXJsLiBIb3dldmVyLCB0aGlzIHdvbid0IHdvcmsgaWYKCSAgLy8gdGhlIHByb3RvY29sIGlzIHNvbWV0aGluZyBlbHNlLCBsaWtlICdmaWxlOicKCSAgdmFyIGRlZmF1bHRQcm90b2NvbCA9IGdsb2JhbCQxLmxvY2F0aW9uLnByb3RvY29sLnNlYXJjaCgvXmh0dHBzPzokLykgPT09IC0xID8gJ2h0dHA6JyA6ICcnOwoKCSAgdmFyIHByb3RvY29sID0gb3B0cy5wcm90b2NvbCB8fCBkZWZhdWx0UHJvdG9jb2w7CgkgIHZhciBob3N0ID0gb3B0cy5ob3N0bmFtZSB8fCBvcHRzLmhvc3Q7CgkgIHZhciBwb3J0ID0gb3B0cy5wb3J0OwoJICB2YXIgcGF0aCA9IG9wdHMucGF0aCB8fCAnLyc7CgoJICAvLyBOZWNlc3NhcnkgZm9yIElQdjYgYWRkcmVzc2VzCgkgIGlmIChob3N0ICYmIGhvc3QuaW5kZXhPZignOicpICE9PSAtMSkKCSAgICBob3N0ID0gJ1snICsgaG9zdCArICddJzsKCgkgIC8vIFRoaXMgbWF5IGJlIGEgcmVsYXRpdmUgdXJsLiBUaGUgYnJvd3NlciBzaG91bGQgYWx3YXlzIGJlIGFibGUgdG8gaW50ZXJwcmV0IGl0IGNvcnJlY3RseS4KCSAgb3B0cy51cmwgPSAoaG9zdCA/IChwcm90b2NvbCArICcvLycgKyBob3N0KSA6ICcnKSArIChwb3J0ID8gJzonICsgcG9ydCA6ICcnKSArIHBhdGg7CgkgIG9wdHMubWV0aG9kID0gKG9wdHMubWV0aG9kIHx8ICdHRVQnKS50b1VwcGVyQ2FzZSgpOwoJICBvcHRzLmhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307CgoJICAvLyBBbHNvIHZhbGlkIG9wdHMuYXV0aCwgb3B0cy5tb2RlCgoJICB2YXIgcmVxID0gbmV3IENsaWVudFJlcXVlc3Qob3B0cyk7CgkgIGlmIChjYikKCSAgICByZXEub24oJ3Jlc3BvbnNlJywgY2IpOwoJICByZXR1cm4gcmVxCgl9CgoJZnVuY3Rpb24gZ2V0KG9wdHMsIGNiKSB7CgkgIHZhciByZXEgPSByZXF1ZXN0KG9wdHMsIGNiKTsKCSAgcmVxLmVuZCgpOwoJICByZXR1cm4gcmVxCgl9CgoJZnVuY3Rpb24gQWdlbnQoKSB7fQoJQWdlbnQuZGVmYXVsdE1heFNvY2tldHMgPSA0OwoKCXZhciBNRVRIT0RTID0gWwoJICAnQ0hFQ0tPVVQnLAoJICAnQ09OTkVDVCcsCgkgICdDT1BZJywKCSAgJ0RFTEVURScsCgkgICdHRVQnLAoJICAnSEVBRCcsCgkgICdMT0NLJywKCSAgJ00tU0VBUkNIJywKCSAgJ01FUkdFJywKCSAgJ01LQUNUSVZJVFknLAoJICAnTUtDT0wnLAoJICAnTU9WRScsCgkgICdOT1RJRlknLAoJICAnT1BUSU9OUycsCgkgICdQQVRDSCcsCgkgICdQT1NUJywKCSAgJ1BST1BGSU5EJywKCSAgJ1BST1BQQVRDSCcsCgkgICdQVVJHRScsCgkgICdQVVQnLAoJICAnUkVQT1JUJywKCSAgJ1NFQVJDSCcsCgkgICdTVUJTQ1JJQkUnLAoJICAnVFJBQ0UnLAoJICAnVU5MT0NLJywKCSAgJ1VOU1VCU0NSSUJFJwoJXTsKCXZhciBTVEFUVVNfQ09ERVMgPSB7CgkgIDEwMDogJ0NvbnRpbnVlJywKCSAgMTAxOiAnU3dpdGNoaW5nIFByb3RvY29scycsCgkgIDEwMjogJ1Byb2Nlc3NpbmcnLCAvLyBSRkMgMjUxOCwgb2Jzb2xldGVkIGJ5IFJGQyA0OTE4CgkgIDIwMDogJ09LJywKCSAgMjAxOiAnQ3JlYXRlZCcsCgkgIDIwMjogJ0FjY2VwdGVkJywKCSAgMjAzOiAnTm9uLUF1dGhvcml0YXRpdmUgSW5mb3JtYXRpb24nLAoJICAyMDQ6ICdObyBDb250ZW50JywKCSAgMjA1OiAnUmVzZXQgQ29udGVudCcsCgkgIDIwNjogJ1BhcnRpYWwgQ29udGVudCcsCgkgIDIwNzogJ011bHRpLVN0YXR1cycsIC8vIFJGQyA0OTE4CgkgIDMwMDogJ011bHRpcGxlIENob2ljZXMnLAoJICAzMDE6ICdNb3ZlZCBQZXJtYW5lbnRseScsCgkgIDMwMjogJ01vdmVkIFRlbXBvcmFyaWx5JywKCSAgMzAzOiAnU2VlIE90aGVyJywKCSAgMzA0OiAnTm90IE1vZGlmaWVkJywKCSAgMzA1OiAnVXNlIFByb3h5JywKCSAgMzA3OiAnVGVtcG9yYXJ5IFJlZGlyZWN0JywKCSAgNDAwOiAnQmFkIFJlcXVlc3QnLAoJICA0MDE6ICdVbmF1dGhvcml6ZWQnLAoJICA0MDI6ICdQYXltZW50IFJlcXVpcmVkJywKCSAgNDAzOiAnRm9yYmlkZGVuJywKCSAgNDA0OiAnTm90IEZvdW5kJywKCSAgNDA1OiAnTWV0aG9kIE5vdCBBbGxvd2VkJywKCSAgNDA2OiAnTm90IEFjY2VwdGFibGUnLAoJICA0MDc6ICdQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCcsCgkgIDQwODogJ1JlcXVlc3QgVGltZS1vdXQnLAoJICA0MDk6ICdDb25mbGljdCcsCgkgIDQxMDogJ0dvbmUnLAoJICA0MTE6ICdMZW5ndGggUmVxdWlyZWQnLAoJICA0MTI6ICdQcmVjb25kaXRpb24gRmFpbGVkJywKCSAgNDEzOiAnUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlJywKCSAgNDE0OiAnUmVxdWVzdC1VUkkgVG9vIExhcmdlJywKCSAgNDE1OiAnVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZScsCgkgIDQxNjogJ1JlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGUnLAoJICA0MTc6ICdFeHBlY3RhdGlvbiBGYWlsZWQnLAoJICA0MTg6ICdJXCdtIGEgdGVhcG90JywgLy8gUkZDIDIzMjQKCSAgNDIyOiAnVW5wcm9jZXNzYWJsZSBFbnRpdHknLCAvLyBSRkMgNDkxOAoJICA0MjM6ICdMb2NrZWQnLCAvLyBSRkMgNDkxOAoJICA0MjQ6ICdGYWlsZWQgRGVwZW5kZW5jeScsIC8vIFJGQyA0OTE4CgkgIDQyNTogJ1Vub3JkZXJlZCBDb2xsZWN0aW9uJywgLy8gUkZDIDQ5MTgKCSAgNDI2OiAnVXBncmFkZSBSZXF1aXJlZCcsIC8vIFJGQyAyODE3CgkgIDQyODogJ1ByZWNvbmRpdGlvbiBSZXF1aXJlZCcsIC8vIFJGQyA2NTg1CgkgIDQyOTogJ1RvbyBNYW55IFJlcXVlc3RzJywgLy8gUkZDIDY1ODUKCSAgNDMxOiAnUmVxdWVzdCBIZWFkZXIgRmllbGRzIFRvbyBMYXJnZScsIC8vIFJGQyA2NTg1CgkgIDUwMDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsCgkgIDUwMTogJ05vdCBJbXBsZW1lbnRlZCcsCgkgIDUwMjogJ0JhZCBHYXRld2F5JywKCSAgNTAzOiAnU2VydmljZSBVbmF2YWlsYWJsZScsCgkgIDUwNDogJ0dhdGV3YXkgVGltZS1vdXQnLAoJICA1MDU6ICdIVFRQIFZlcnNpb24gTm90IFN1cHBvcnRlZCcsCgkgIDUwNjogJ1ZhcmlhbnQgQWxzbyBOZWdvdGlhdGVzJywgLy8gUkZDIDIyOTUKCSAgNTA3OiAnSW5zdWZmaWNpZW50IFN0b3JhZ2UnLCAvLyBSRkMgNDkxOAoJICA1MDk6ICdCYW5kd2lkdGggTGltaXQgRXhjZWVkZWQnLAoJICA1MTA6ICdOb3QgRXh0ZW5kZWQnLCAvLyBSRkMgMjc3NAoJICA1MTE6ICdOZXR3b3JrIEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJyAvLyBSRkMgNjU4NQoJfTsKCgl2YXIgcmVxdWlyZSQkMiA9IHsKCSAgcmVxdWVzdCwKCSAgZ2V0LAoJICBBZ2VudCwKCSAgTUVUSE9EUywKCSAgU1RBVFVTX0NPREVTCgl9OwoKCXZhciBkZWJ1ZyQxOwoKCXZhciBkZWJ1Z18xID0gZnVuY3Rpb24gKCkgewoJICBpZiAoIWRlYnVnJDEpIHsKCSAgICB0cnkgewoJICAgICAgLyogZXNsaW50IGdsb2JhbC1yZXF1aXJlOiBvZmYgKi8KCSAgICAgIGRlYnVnJDEgPSByZXF1aXJlKCJkZWJ1ZyIpKCJmb2xsb3ctcmVkaXJlY3RzIik7CgkgICAgfQoJICAgIGNhdGNoIChlcnJvcikgeyAvKiAqLyB9CgkgICAgaWYgKHR5cGVvZiBkZWJ1ZyQxICE9PSAiZnVuY3Rpb24iKSB7CgkgICAgICBkZWJ1ZyQxID0gZnVuY3Rpb24gKCkgeyAvKiAqLyB9OwoJICAgIH0KCSAgfQoJICBkZWJ1ZyQxLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7Cgl9OwoKCXZhciB1cmwgPSByZXF1aXJlJCQwOwoJdmFyIFVSTCA9IHVybC5VUkw7Cgl2YXIgaHR0cCA9IHJlcXVpcmUkJDI7Cgl2YXIgaHR0cHMkMSA9IHJlcXVpcmUkJDI7Cgl2YXIgV3JpdGFibGUgPSBTdHJlYW0uV3JpdGFibGU7Cgl2YXIgYXNzZXJ0JDEgPSBhc3NlcnQkMzsKCXZhciBkZWJ1ZyA9IGRlYnVnXzE7CgoJLy8gQ3JlYXRlIGhhbmRsZXJzIHRoYXQgcGFzcyBldmVudHMgZnJvbSBuYXRpdmUgcmVxdWVzdHMKCXZhciBldmVudHMgPSBbImFib3J0IiwgImFib3J0ZWQiLCAiY29ubmVjdCIsICJlcnJvciIsICJzb2NrZXQiLCAidGltZW91dCJdOwoJdmFyIGV2ZW50SGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoJZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CgkgIGV2ZW50SGFuZGxlcnNbZXZlbnRdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpIHsKCSAgICB0aGlzLl9yZWRpcmVjdGFibGUuZW1pdChldmVudCwgYXJnMSwgYXJnMiwgYXJnMyk7CgkgIH07Cgl9KTsKCgkvLyBFcnJvciB0eXBlcyB3aXRoIGNvZGVzCgl2YXIgUmVkaXJlY3Rpb25FcnJvciA9IGNyZWF0ZUVycm9yVHlwZSgKCSAgIkVSUl9GUl9SRURJUkVDVElPTl9GQUlMVVJFIiwKCSAgIlJlZGlyZWN0ZWQgcmVxdWVzdCBmYWlsZWQiCgkpOwoJdmFyIFRvb01hbnlSZWRpcmVjdHNFcnJvciA9IGNyZWF0ZUVycm9yVHlwZSgKCSAgIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMiLAoJICAiTWF4aW11bSBudW1iZXIgb2YgcmVkaXJlY3RzIGV4Y2VlZGVkIgoJKTsKCXZhciBNYXhCb2R5TGVuZ3RoRXhjZWVkZWRFcnJvciA9IGNyZWF0ZUVycm9yVHlwZSgKCSAgIkVSUl9GUl9NQVhfQk9EWV9MRU5HVEhfRVhDRUVERUQiLAoJICAiUmVxdWVzdCBib2R5IGxhcmdlciB0aGFuIG1heEJvZHlMZW5ndGggbGltaXQiCgkpOwoJdmFyIFdyaXRlQWZ0ZXJFbmRFcnJvciA9IGNyZWF0ZUVycm9yVHlwZSgKCSAgIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EIiwKCSAgIndyaXRlIGFmdGVyIGVuZCIKCSk7CgoJLy8gQW4gSFRUUChTKSByZXF1ZXN0IHRoYXQgY2FuIGJlIHJlZGlyZWN0ZWQKCWZ1bmN0aW9uIFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgcmVzcG9uc2VDYWxsYmFjaykgewoJICAvLyBJbml0aWFsaXplIHRoZSByZXF1ZXN0CgkgIFdyaXRhYmxlLmNhbGwodGhpcyk7CgkgIHRoaXMuX3Nhbml0aXplT3B0aW9ucyhvcHRpb25zKTsKCSAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7CgkgIHRoaXMuX2VuZGVkID0gZmFsc2U7CgkgIHRoaXMuX2VuZGluZyA9IGZhbHNlOwoJICB0aGlzLl9yZWRpcmVjdENvdW50ID0gMDsKCSAgdGhpcy5fcmVkaXJlY3RzID0gW107CgkgIHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoID0gMDsKCSAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107CgoJICAvLyBBdHRhY2ggYSBjYWxsYmFjayBpZiBwYXNzZWQKCSAgaWYgKHJlc3BvbnNlQ2FsbGJhY2spIHsKCSAgICB0aGlzLm9uKCJyZXNwb25zZSIsIHJlc3BvbnNlQ2FsbGJhY2spOwoJICB9CgoJICAvLyBSZWFjdCB0byByZXNwb25zZXMgb2YgbmF0aXZlIHJlcXVlc3RzCgkgIHZhciBzZWxmID0gdGhpczsKCSAgdGhpcy5fb25OYXRpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJICAgIHNlbGYuX3Byb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7CgkgIH07CgoJICAvLyBQZXJmb3JtIHRoZSBmaXJzdCByZXF1ZXN0CgkgIHRoaXMuX3BlcmZvcm1SZXF1ZXN0KCk7Cgl9CglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JpdGFibGUucHJvdG90eXBlKTsKCglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHsKCSAgYWJvcnRSZXF1ZXN0KHRoaXMuX2N1cnJlbnRSZXF1ZXN0KTsKCSAgdGhpcy5lbWl0KCJhYm9ydCIpOwoJfTsKCgkvLyBXcml0ZXMgYnVmZmVyZWQgZGF0YSB0byB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdAoJUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7CgkgIC8vIFdyaXRpbmcgaXMgbm90IGFsbG93ZWQgaWYgZW5kIGhhcyBiZWVuIGNhbGxlZAoJICBpZiAodGhpcy5fZW5kaW5nKSB7CgkgICAgdGhyb3cgbmV3IFdyaXRlQWZ0ZXJFbmRFcnJvcigpOwoJICB9CgoJICAvLyBWYWxpZGF0ZSBpbnB1dCBhbmQgc2hpZnQgcGFyYW1ldGVycyBpZiBuZWNlc3NhcnkKCSAgaWYgKCEodHlwZW9mIGRhdGEgPT09ICJzdHJpbmciIHx8IHR5cGVvZiBkYXRhID09PSAib2JqZWN0IiAmJiAoImxlbmd0aCIgaW4gZGF0YSkpKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiZGF0YSBzaG91bGQgYmUgYSBzdHJpbmcsIEJ1ZmZlciBvciBVaW50OEFycmF5Iik7CgkgIH0KCSAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gImZ1bmN0aW9uIikgewoJICAgIGNhbGxiYWNrID0gZW5jb2Rpbmc7CgkgICAgZW5jb2RpbmcgPSBudWxsOwoJICB9CgoJICAvLyBJZ25vcmUgZW1wdHkgYnVmZmVycywgc2luY2Ugd3JpdGluZyB0aGVtIGRvZXNuJ3QgaW52b2tlIHRoZSBjYWxsYmFjawoJICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzIyMDY2CgkgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgewoJICAgIGlmIChjYWxsYmFjaykgewoJICAgICAgY2FsbGJhY2soKTsKCSAgICB9CgkgICAgcmV0dXJuOwoJICB9CgkgIC8vIE9ubHkgd3JpdGUgd2hlbiB3ZSBkb24ndCBleGNlZWQgdGhlIG1heGltdW0gYm9keSBsZW5ndGgKCSAgaWYgKHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoICsgZGF0YS5sZW5ndGggPD0gdGhpcy5fb3B0aW9ucy5tYXhCb2R5TGVuZ3RoKSB7CgkgICAgdGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggKz0gZGF0YS5sZW5ndGg7CgkgICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzLnB1c2goeyBkYXRhOiBkYXRhLCBlbmNvZGluZzogZW5jb2RpbmcgfSk7CgkgICAgdGhpcy5fY3VycmVudFJlcXVlc3Qud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKTsKCSAgfQoJICAvLyBFcnJvciB3aGVuIHdlIGV4Y2VlZCB0aGUgbWF4aW11bSBib2R5IGxlbmd0aAoJICBlbHNlIHsKCSAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IE1heEJvZHlMZW5ndGhFeGNlZWRlZEVycm9yKCkpOwoJICAgIHRoaXMuYWJvcnQoKTsKCSAgfQoJfTsKCgkvLyBFbmRzIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7CgkgIC8vIFNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5CgkgIGlmICh0eXBlb2YgZGF0YSA9PT0gImZ1bmN0aW9uIikgewoJICAgIGNhbGxiYWNrID0gZGF0YTsKCSAgICBkYXRhID0gZW5jb2RpbmcgPSBudWxsOwoJICB9CgkgIGVsc2UgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gImZ1bmN0aW9uIikgewoJICAgIGNhbGxiYWNrID0gZW5jb2Rpbmc7CgkgICAgZW5jb2RpbmcgPSBudWxsOwoJICB9CgoJICAvLyBXcml0ZSBkYXRhIGlmIG5lZWRlZCBhbmQgZW5kCgkgIGlmICghZGF0YSkgewoJICAgIHRoaXMuX2VuZGVkID0gdGhpcy5fZW5kaW5nID0gdHJ1ZTsKCSAgICB0aGlzLl9jdXJyZW50UmVxdWVzdC5lbmQobnVsbCwgbnVsbCwgY2FsbGJhY2spOwoJICB9CgkgIGVsc2UgewoJICAgIHZhciBzZWxmID0gdGhpczsKCSAgICB2YXIgY3VycmVudFJlcXVlc3QgPSB0aGlzLl9jdXJyZW50UmVxdWVzdDsKCSAgICB0aGlzLndyaXRlKGRhdGEsIGVuY29kaW5nLCBmdW5jdGlvbiAoKSB7CgkgICAgICBzZWxmLl9lbmRlZCA9IHRydWU7CgkgICAgICBjdXJyZW50UmVxdWVzdC5lbmQobnVsbCwgbnVsbCwgY2FsbGJhY2spOwoJICAgIH0pOwoJICAgIHRoaXMuX2VuZGluZyA9IHRydWU7CgkgIH0KCX07CgoJLy8gU2V0cyBhIGhlYWRlciB2YWx1ZSBvbiB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdAoJUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CgkgIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tuYW1lXSA9IHZhbHVlOwoJICB0aGlzLl9jdXJyZW50UmVxdWVzdC5zZXRIZWFkZXIobmFtZSwgdmFsdWUpOwoJfTsKCgkvLyBDbGVhcnMgYSBoZWFkZXIgdmFsdWUgb24gdGhlIGN1cnJlbnQgbmF0aXZlIHJlcXVlc3QKCVJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7CgkgIGRlbGV0ZSB0aGlzLl9vcHRpb25zLmhlYWRlcnNbbmFtZV07CgkgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LnJlbW92ZUhlYWRlcihuYW1lKTsKCX07CgoJLy8gR2xvYmFsIHRpbWVvdXQgZm9yIGFsbCB1bmRlcmx5aW5nIHJlcXVlc3RzCglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5zZXRUaW1lb3V0ID0gZnVuY3Rpb24gKG1zZWNzLCBjYWxsYmFjaykgewoJICB2YXIgc2VsZiA9IHRoaXM7CgoJICAvLyBEZXN0cm95cyB0aGUgc29ja2V0IG9uIHRpbWVvdXQKCSAgZnVuY3Rpb24gZGVzdHJveU9uVGltZW91dChzb2NrZXQpIHsKCSAgICBzb2NrZXQuc2V0VGltZW91dChtc2Vjcyk7CgkgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCJ0aW1lb3V0Iiwgc29ja2V0LmRlc3Ryb3kpOwoJICAgIHNvY2tldC5hZGRMaXN0ZW5lcigidGltZW91dCIsIHNvY2tldC5kZXN0cm95KTsKCSAgfQoKCSAgLy8gU2V0cyB1cCBhIHRpbWVyIHRvIHRyaWdnZXIgYSB0aW1lb3V0IGV2ZW50CgkgIGZ1bmN0aW9uIHN0YXJ0VGltZXIoc29ja2V0KSB7CgkgICAgaWYgKHNlbGYuX3RpbWVvdXQpIHsKCSAgICAgIGNsZWFyVGltZW91dChzZWxmLl90aW1lb3V0KTsKCSAgICB9CgkgICAgc2VsZi5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJICAgICAgc2VsZi5lbWl0KCJ0aW1lb3V0Iik7CgkgICAgICBjbGVhclRpbWVyKCk7CgkgICAgfSwgbXNlY3MpOwoJICAgIGRlc3Ryb3lPblRpbWVvdXQoc29ja2V0KTsKCSAgfQoKCSAgLy8gU3RvcHMgYSB0aW1lb3V0IGZyb20gdHJpZ2dlcmluZwoJICBmdW5jdGlvbiBjbGVhclRpbWVyKCkgewoJICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0CgkgICAgaWYgKHNlbGYuX3RpbWVvdXQpIHsKCSAgICAgIGNsZWFyVGltZW91dChzZWxmLl90aW1lb3V0KTsKCSAgICAgIHNlbGYuX3RpbWVvdXQgPSBudWxsOwoJICAgIH0KCgkgICAgLy8gQ2xlYW4gdXAgYWxsIGF0dGFjaGVkIGxpc3RlbmVycwoJICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoImFib3J0IiwgY2xlYXJUaW1lcik7CgkgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLCBjbGVhclRpbWVyKTsKCSAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCJyZXNwb25zZSIsIGNsZWFyVGltZXIpOwoJICAgIGlmIChjYWxsYmFjaykgewoJICAgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigidGltZW91dCIsIGNhbGxiYWNrKTsKCSAgICB9CgkgICAgaWYgKCFzZWxmLnNvY2tldCkgewoJICAgICAgc2VsZi5fY3VycmVudFJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoInNvY2tldCIsIHN0YXJ0VGltZXIpOwoJICAgIH0KCSAgfQoKCSAgLy8gQXR0YWNoIGNhbGxiYWNrIGlmIHBhc3NlZAoJICBpZiAoY2FsbGJhY2spIHsKCSAgICB0aGlzLm9uKCJ0aW1lb3V0IiwgY2FsbGJhY2spOwoJICB9CgoJICAvLyBTdGFydCB0aGUgdGltZXIgaWYgb3Igd2hlbiB0aGUgc29ja2V0IGlzIG9wZW5lZAoJICBpZiAodGhpcy5zb2NrZXQpIHsKCSAgICBzdGFydFRpbWVyKHRoaXMuc29ja2V0KTsKCSAgfQoJICBlbHNlIHsKCSAgICB0aGlzLl9jdXJyZW50UmVxdWVzdC5vbmNlKCJzb2NrZXQiLCBzdGFydFRpbWVyKTsKCSAgfQoKCSAgLy8gQ2xlYW4gdXAgb24gZXZlbnRzCgkgIHRoaXMub24oInNvY2tldCIsIGRlc3Ryb3lPblRpbWVvdXQpOwoJICB0aGlzLm9uKCJhYm9ydCIsIGNsZWFyVGltZXIpOwoJICB0aGlzLm9uKCJlcnJvciIsIGNsZWFyVGltZXIpOwoJICB0aGlzLm9uKCJyZXNwb25zZSIsIGNsZWFyVGltZXIpOwoKCSAgcmV0dXJuIHRoaXM7Cgl9OwoKCS8vIFByb3h5IGFsbCBvdGhlciBwdWJsaWMgQ2xpZW50UmVxdWVzdCBtZXRob2RzCglbCgkgICJmbHVzaEhlYWRlcnMiLCAiZ2V0SGVhZGVyIiwKCSAgInNldE5vRGVsYXkiLCAic2V0U29ja2V0S2VlcEFsaXZlIiwKCV0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7CgkgIFJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYSwgYikgewoJICAgIHJldHVybiB0aGlzLl9jdXJyZW50UmVxdWVzdFttZXRob2RdKGEsIGIpOwoJICB9OwoJfSk7CgoJLy8gUHJveHkgYWxsIHB1YmxpYyBDbGllbnRSZXF1ZXN0IHByb3BlcnRpZXMKCVsiYWJvcnRlZCIsICJjb25uZWN0aW9uIiwgInNvY2tldCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CgkgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZSwgcHJvcGVydHksIHsKCSAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W3Byb3BlcnR5XTsgfSwKCSAgfSk7Cgl9KTsKCglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fc2FuaXRpemVPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCSAgLy8gRW5zdXJlIGhlYWRlcnMgYXJlIGFsd2F5cyBwcmVzZW50CgkgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7CgkgICAgb3B0aW9ucy5oZWFkZXJzID0ge307CgkgIH0KCgkgIC8vIFNpbmNlIGh0dHAucmVxdWVzdCB0cmVhdHMgaG9zdCBhcyBhbiBhbGlhcyBvZiBob3N0bmFtZSwKCSAgLy8gYnV0IHRoZSB1cmwgbW9kdWxlIGludGVycHJldHMgaG9zdCBhcyBob3N0bmFtZSBwbHVzIHBvcnQsCgkgIC8vIGVsaW1pbmF0ZSB0aGUgaG9zdCBwcm9wZXJ0eSB0byBhdm9pZCBjb25mdXNpb24uCgkgIGlmIChvcHRpb25zLmhvc3QpIHsKCSAgICAvLyBVc2UgaG9zdG5hbWUgaWYgc2V0LCBiZWNhdXNlIGl0IGhhcyBwcmVjZWRlbmNlCgkgICAgaWYgKCFvcHRpb25zLmhvc3RuYW1lKSB7CgkgICAgICBvcHRpb25zLmhvc3RuYW1lID0gb3B0aW9ucy5ob3N0OwoJICAgIH0KCSAgICBkZWxldGUgb3B0aW9ucy5ob3N0OwoJICB9CgoJICAvLyBDb21wbGV0ZSB0aGUgVVJMIG9iamVjdCB3aGVuIG5lY2Vzc2FyeQoJICBpZiAoIW9wdGlvbnMucGF0aG5hbWUgJiYgb3B0aW9ucy5wYXRoKSB7CgkgICAgdmFyIHNlYXJjaFBvcyA9IG9wdGlvbnMucGF0aC5pbmRleE9mKCI/Iik7CgkgICAgaWYgKHNlYXJjaFBvcyA8IDApIHsKCSAgICAgIG9wdGlvbnMucGF0aG5hbWUgPSBvcHRpb25zLnBhdGg7CgkgICAgfQoJICAgIGVsc2UgewoJICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aC5zdWJzdHJpbmcoMCwgc2VhcmNoUG9zKTsKCSAgICAgIG9wdGlvbnMuc2VhcmNoID0gb3B0aW9ucy5wYXRoLnN1YnN0cmluZyhzZWFyY2hQb3MpOwoJICAgIH0KCSAgfQoJfTsKCgoJLy8gRXhlY3V0ZXMgdGhlIG5leHQgbmF0aXZlIHJlcXVlc3QgKGluaXRpYWwgb3IgcmVkaXJlY3QpCglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fcGVyZm9ybVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7CgkgIC8vIExvYWQgdGhlIG5hdGl2ZSBwcm90b2NvbAoJICB2YXIgcHJvdG9jb2wgPSB0aGlzLl9vcHRpb25zLnByb3RvY29sOwoJICB2YXIgbmF0aXZlUHJvdG9jb2wgPSB0aGlzLl9vcHRpb25zLm5hdGl2ZVByb3RvY29sc1twcm90b2NvbF07CgkgIGlmICghbmF0aXZlUHJvdG9jb2wpIHsKCSAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IFR5cGVFcnJvcigiVW5zdXBwb3J0ZWQgcHJvdG9jb2wgIiArIHByb3RvY29sKSk7CgkgICAgcmV0dXJuOwoJICB9CgoJICAvLyBJZiBzcGVjaWZpZWQsIHVzZSB0aGUgYWdlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdG9jb2wKCSAgLy8gKEhUVFAgYW5kIEhUVFBTIHVzZSBkaWZmZXJlbnQgdHlwZXMgb2YgYWdlbnRzKQoJICBpZiAodGhpcy5fb3B0aW9ucy5hZ2VudHMpIHsKCSAgICB2YXIgc2NoZW1lID0gcHJvdG9jb2wuc3Vic3RyKDAsIHByb3RvY29sLmxlbmd0aCAtIDEpOwoJICAgIHRoaXMuX29wdGlvbnMuYWdlbnQgPSB0aGlzLl9vcHRpb25zLmFnZW50c1tzY2hlbWVdOwoJICB9CgoJICAvLyBDcmVhdGUgdGhlIG5hdGl2ZSByZXF1ZXN0CgkgIHZhciByZXF1ZXN0ID0gdGhpcy5fY3VycmVudFJlcXVlc3QgPQoJICAgICAgICBuYXRpdmVQcm90b2NvbC5yZXF1ZXN0KHRoaXMuX29wdGlvbnMsIHRoaXMuX29uTmF0aXZlUmVzcG9uc2UpOwoJICB0aGlzLl9jdXJyZW50VXJsID0gdXJsLmZvcm1hdCh0aGlzLl9vcHRpb25zKTsKCgkgIC8vIFNldCB1cCBldmVudCBoYW5kbGVycwoJICByZXF1ZXN0Ll9yZWRpcmVjdGFibGUgPSB0aGlzOwoJICBmb3IgKHZhciBlID0gMDsgZSA8IGV2ZW50cy5sZW5ndGg7IGUrKykgewoJICAgIHJlcXVlc3Qub24oZXZlbnRzW2VdLCBldmVudEhhbmRsZXJzW2V2ZW50c1tlXV0pOwoJICB9CgoJICAvLyBFbmQgYSByZWRpcmVjdGVkIHJlcXVlc3QKCSAgLy8gKFRoZSBmaXJzdCByZXF1ZXN0IG11c3QgYmUgZW5kZWQgZXhwbGljaXRseSB3aXRoIFJlZGlyZWN0YWJsZVJlcXVlc3QjZW5kKQoJICBpZiAodGhpcy5faXNSZWRpcmVjdCkgewoJICAgIC8vIFdyaXRlIHRoZSByZXF1ZXN0IGVudGl0eSBhbmQgZW5kLgoJICAgIHZhciBpID0gMDsKCSAgICB2YXIgc2VsZiA9IHRoaXM7CgkgICAgdmFyIGJ1ZmZlcnMgPSB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnM7CgkgICAgKGZ1bmN0aW9uIHdyaXRlTmV4dChlcnJvcikgewoJICAgICAgLy8gT25seSB3cml0ZSBpZiB0aGlzIHJlcXVlc3QgaGFzIG5vdCBiZWVuIHJlZGlyZWN0ZWQgeWV0CgkgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwoJICAgICAgaWYgKHJlcXVlc3QgPT09IHNlbGYuX2N1cnJlbnRSZXF1ZXN0KSB7CgkgICAgICAgIC8vIFJlcG9ydCBhbnkgd3JpdGUgZXJyb3JzCgkgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwoJICAgICAgICBpZiAoZXJyb3IpIHsKCSAgICAgICAgICBzZWxmLmVtaXQoImVycm9yIiwgZXJyb3IpOwoJICAgICAgICB9CgkgICAgICAgIC8vIFdyaXRlIHRoZSBuZXh0IGJ1ZmZlciBpZiB0aGVyZSBhcmUgc3RpbGwgbGVmdAoJICAgICAgICBlbHNlIGlmIChpIDwgYnVmZmVycy5sZW5ndGgpIHsKCSAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tpKytdOwoJICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCgkgICAgICAgICAgaWYgKCFyZXF1ZXN0LmZpbmlzaGVkKSB7CgkgICAgICAgICAgICByZXF1ZXN0LndyaXRlKGJ1ZmZlci5kYXRhLCBidWZmZXIuZW5jb2RpbmcsIHdyaXRlTmV4dCk7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEVuZCB0aGUgcmVxdWVzdCBpZiBgZW5kYCBoYXMgYmVlbiBjYWxsZWQgb24gdXMKCSAgICAgICAgZWxzZSBpZiAoc2VsZi5fZW5kZWQpIHsKCSAgICAgICAgICByZXF1ZXN0LmVuZCgpOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgfSgpKTsKCSAgfQoJfTsKCgkvLyBQcm9jZXNzZXMgYSByZXNwb25zZSBmcm9tIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CglSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fcHJvY2Vzc1Jlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkgIC8vIFN0b3JlIHRoZSByZWRpcmVjdGVkIHJlc3BvbnNlCgkgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTsKCSAgaWYgKHRoaXMuX29wdGlvbnMudHJhY2tSZWRpcmVjdHMpIHsKCSAgICB0aGlzLl9yZWRpcmVjdHMucHVzaCh7CgkgICAgICB1cmw6IHRoaXMuX2N1cnJlbnRVcmwsCgkgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLAoJICAgICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSwKCSAgICB9KTsKCSAgfQoKCSAgLy8gUkZDNzIzMcKnNi40OiBUaGUgM3h4IChSZWRpcmVjdGlvbikgY2xhc3Mgb2Ygc3RhdHVzIGNvZGUgaW5kaWNhdGVzCgkgIC8vIHRoYXQgZnVydGhlciBhY3Rpb24gbmVlZHMgdG8gYmUgdGFrZW4gYnkgdGhlIHVzZXIgYWdlbnQgaW4gb3JkZXIgdG8KCSAgLy8gZnVsZmlsbCB0aGUgcmVxdWVzdC4gSWYgYSBMb2NhdGlvbiBoZWFkZXIgZmllbGQgaXMgcHJvdmlkZWQsCgkgIC8vIHRoZSB1c2VyIGFnZW50IE1BWSBhdXRvbWF0aWNhbGx5IHJlZGlyZWN0IGl0cyByZXF1ZXN0IHRvIHRoZSBVUkkKCSAgLy8gcmVmZXJlbmNlZCBieSB0aGUgTG9jYXRpb24gZmllbGQgdmFsdWUsCgkgIC8vIGV2ZW4gaWYgdGhlIHNwZWNpZmljIHN0YXR1cyBjb2RlIGlzIG5vdCB1bmRlcnN0b29kLgoKCSAgLy8gSWYgdGhlIHJlc3BvbnNlIGlzIG5vdCBhIHJlZGlyZWN0OyByZXR1cm4gaXQgYXMtaXMKCSAgdmFyIGxvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbjsKCSAgaWYgKCFsb2NhdGlvbiB8fCB0aGlzLl9vcHRpb25zLmZvbGxvd1JlZGlyZWN0cyA9PT0gZmFsc2UgfHwKCSAgICAgIHN0YXR1c0NvZGUgPCAzMDAgfHwgc3RhdHVzQ29kZSA+PSA0MDApIHsKCSAgICByZXNwb25zZS5yZXNwb25zZVVybCA9IHRoaXMuX2N1cnJlbnRVcmw7CgkgICAgcmVzcG9uc2UucmVkaXJlY3RzID0gdGhpcy5fcmVkaXJlY3RzOwoJICAgIHRoaXMuZW1pdCgicmVzcG9uc2UiLCByZXNwb25zZSk7CgoJICAgIC8vIENsZWFuIHVwCgkgICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107CgkgICAgcmV0dXJuOwoJICB9CgoJICAvLyBUaGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCwgc28gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdAoJICBhYm9ydFJlcXVlc3QodGhpcy5fY3VycmVudFJlcXVlc3QpOwoJICAvLyBEaXNjYXJkIHRoZSByZW1haW5kZXIgb2YgdGhlIHJlc3BvbnNlIHRvIGF2b2lkIHdhaXRpbmcgZm9yIGRhdGEKCSAgcmVzcG9uc2UuZGVzdHJveSgpOwoKCSAgLy8gUkZDNzIzMcKnNi40OiBBIGNsaWVudCBTSE9VTEQgZGV0ZWN0IGFuZCBpbnRlcnZlbmUKCSAgLy8gaW4gY3ljbGljYWwgcmVkaXJlY3Rpb25zIChpLmUuLCAiaW5maW5pdGUiIHJlZGlyZWN0aW9uIGxvb3BzKS4KCSAgaWYgKCsrdGhpcy5fcmVkaXJlY3RDb3VudCA+IHRoaXMuX29wdGlvbnMubWF4UmVkaXJlY3RzKSB7CgkgICAgdGhpcy5lbWl0KCJlcnJvciIsIG5ldyBUb29NYW55UmVkaXJlY3RzRXJyb3IoKSk7CgkgICAgcmV0dXJuOwoJICB9CgoJICAvLyBSRkM3MjMxwqc2LjQ6IEF1dG9tYXRpYyByZWRpcmVjdGlvbiBuZWVkcyB0byBkb25lIHdpdGgKCSAgLy8gY2FyZSBmb3IgbWV0aG9kcyBub3Qga25vd24gdG8gYmUgc2FmZSwgW+KApl0KCSAgLy8gUkZDNzIzMcKnNi40LjLigJMzOiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBhIHVzZXIgYWdlbnQgTUFZIGNoYW5nZQoJICAvLyB0aGUgcmVxdWVzdCBtZXRob2QgZnJvbSBQT1NUIHRvIEdFVCBmb3IgdGhlIHN1YnNlcXVlbnQgcmVxdWVzdC4KCSAgaWYgKChzdGF0dXNDb2RlID09PSAzMDEgfHwgc3RhdHVzQ29kZSA9PT0gMzAyKSAmJiB0aGlzLl9vcHRpb25zLm1ldGhvZCA9PT0gIlBPU1QiIHx8CgkgICAgICAvLyBSRkM3MjMxwqc2LjQuNDogVGhlIDMwMyAoU2VlIE90aGVyKSBzdGF0dXMgY29kZSBpbmRpY2F0ZXMgdGhhdAoJICAgICAgLy8gdGhlIHNlcnZlciBpcyByZWRpcmVjdGluZyB0aGUgdXNlciBhZ2VudCB0byBhIGRpZmZlcmVudCByZXNvdXJjZSBb4oCmXQoJICAgICAgLy8gQSB1c2VyIGFnZW50IGNhbiBwZXJmb3JtIGEgcmV0cmlldmFsIHJlcXVlc3QgdGFyZ2V0aW5nIHRoYXQgVVJJCgkgICAgICAvLyAoYSBHRVQgb3IgSEVBRCByZXF1ZXN0IGlmIHVzaW5nIEhUVFApIFvigKZdCgkgICAgICAoc3RhdHVzQ29kZSA9PT0gMzAzKSAmJiAhL14oPzpHRVR8SEVBRCkkLy50ZXN0KHRoaXMuX29wdGlvbnMubWV0aG9kKSkgewoJICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gIkdFVCI7CgkgICAgLy8gRHJvcCBhIHBvc3NpYmxlIGVudGl0eSBhbmQgaGVhZGVycyByZWxhdGVkIHRvIGl0CgkgICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107CgkgICAgcmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKC9eY29udGVudC0vaSwgdGhpcy5fb3B0aW9ucy5oZWFkZXJzKTsKCSAgfQoKCSAgLy8gRHJvcCB0aGUgSG9zdCBoZWFkZXIsIGFzIHRoZSByZWRpcmVjdCBtaWdodCBsZWFkIHRvIGEgZGlmZmVyZW50IGhvc3QKCSAgdmFyIGN1cnJlbnRIb3N0SGVhZGVyID0gcmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKC9eaG9zdCQvaSwgdGhpcy5fb3B0aW9ucy5oZWFkZXJzKTsKCgkgIC8vIElmIHRoZSByZWRpcmVjdCBpcyByZWxhdGl2ZSwgY2Fycnkgb3ZlciB0aGUgaG9zdCBvZiB0aGUgbGFzdCByZXF1ZXN0CgkgIHZhciBjdXJyZW50VXJsUGFydHMgPSB1cmwucGFyc2UodGhpcy5fY3VycmVudFVybCk7CgkgIHZhciBjdXJyZW50SG9zdCA9IGN1cnJlbnRIb3N0SGVhZGVyIHx8IGN1cnJlbnRVcmxQYXJ0cy5ob3N0OwoJICB2YXIgY3VycmVudFVybCA9IC9eXHcrOi8udGVzdChsb2NhdGlvbikgPyB0aGlzLl9jdXJyZW50VXJsIDoKCSAgICB1cmwuZm9ybWF0KE9iamVjdC5hc3NpZ24oY3VycmVudFVybFBhcnRzLCB7IGhvc3Q6IGN1cnJlbnRIb3N0IH0pKTsKCgkgIC8vIERldGVybWluZSB0aGUgVVJMIG9mIHRoZSByZWRpcmVjdGlvbgoJICB2YXIgcmVkaXJlY3RVcmw7CgkgIHRyeSB7CgkgICAgcmVkaXJlY3RVcmwgPSB1cmwucmVzb2x2ZShjdXJyZW50VXJsLCBsb2NhdGlvbik7CgkgIH0KCSAgY2F0Y2ggKGNhdXNlKSB7CgkgICAgdGhpcy5lbWl0KCJlcnJvciIsIG5ldyBSZWRpcmVjdGlvbkVycm9yKGNhdXNlKSk7CgkgICAgcmV0dXJuOwoJICB9CgoJICAvLyBDcmVhdGUgdGhlIHJlZGlyZWN0ZWQgcmVxdWVzdAoJICBkZWJ1ZygicmVkaXJlY3RpbmcgdG8iLCByZWRpcmVjdFVybCk7CgkgIHRoaXMuX2lzUmVkaXJlY3QgPSB0cnVlOwoJICB2YXIgcmVkaXJlY3RVcmxQYXJ0cyA9IHVybC5wYXJzZShyZWRpcmVjdFVybCk7CgkgIE9iamVjdC5hc3NpZ24odGhpcy5fb3B0aW9ucywgcmVkaXJlY3RVcmxQYXJ0cyk7CgoJICAvLyBEcm9wIGNvbmZpZGVudGlhbCBoZWFkZXJzIHdoZW4gcmVkaXJlY3RpbmcgdG8gYSBsZXNzIHNlY3VyZSBwcm90b2NvbAoJICAvLyBvciB0byBhIGRpZmZlcmVudCBkb21haW4gdGhhdCBpcyBub3QgYSBzdXBlcmRvbWFpbgoJICBpZiAocmVkaXJlY3RVcmxQYXJ0cy5wcm90b2NvbCAhPT0gY3VycmVudFVybFBhcnRzLnByb3RvY29sICYmCgkgICAgIHJlZGlyZWN0VXJsUGFydHMucHJvdG9jb2wgIT09ICJodHRwczoiIHx8CgkgICAgIHJlZGlyZWN0VXJsUGFydHMuaG9zdCAhPT0gY3VycmVudEhvc3QgJiYKCSAgICAgIWlzU3ViZG9tYWluKHJlZGlyZWN0VXJsUGFydHMuaG9zdCwgY3VycmVudEhvc3QpKSB7CgkgICAgcmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKC9eKD86YXV0aG9yaXphdGlvbnxjb29raWUpJC9pLCB0aGlzLl9vcHRpb25zLmhlYWRlcnMpOwoJICB9CgoJICAvLyBFdmFsdWF0ZSB0aGUgYmVmb3JlUmVkaXJlY3QgY2FsbGJhY2sKCSAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLmJlZm9yZVJlZGlyZWN0ID09PSAiZnVuY3Rpb24iKSB7CgkgICAgdmFyIHJlc3BvbnNlRGV0YWlscyA9IHsgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyB9OwoJICAgIHRyeSB7CgkgICAgICB0aGlzLl9vcHRpb25zLmJlZm9yZVJlZGlyZWN0LmNhbGwobnVsbCwgdGhpcy5fb3B0aW9ucywgcmVzcG9uc2VEZXRhaWxzKTsKCSAgICB9CgkgICAgY2F0Y2ggKGVycikgewoJICAgICAgdGhpcy5lbWl0KCJlcnJvciIsIGVycik7CgkgICAgICByZXR1cm47CgkgICAgfQoJICAgIHRoaXMuX3Nhbml0aXplT3B0aW9ucyh0aGlzLl9vcHRpb25zKTsKCSAgfQoKCSAgLy8gUGVyZm9ybSB0aGUgcmVkaXJlY3RlZCByZXF1ZXN0CgkgIHRyeSB7CgkgICAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTsKCSAgfQoJICBjYXRjaCAoY2F1c2UpIHsKCSAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IFJlZGlyZWN0aW9uRXJyb3IoY2F1c2UpKTsKCSAgfQoJfTsKCgkvLyBXcmFwcyB0aGUga2V5L3ZhbHVlIG9iamVjdCBvZiBwcm90b2NvbHMgd2l0aCByZWRpcmVjdCBmdW5jdGlvbmFsaXR5CglmdW5jdGlvbiB3cmFwKHByb3RvY29scykgewoJICAvLyBEZWZhdWx0IHNldHRpbmdzCgkgIHZhciBleHBvcnRzID0gewoJICAgIG1heFJlZGlyZWN0czogMjEsCgkgICAgbWF4Qm9keUxlbmd0aDogMTAgKiAxMDI0ICogMTAyNCwKCSAgfTsKCgkgIC8vIFdyYXAgZWFjaCBwcm90b2NvbAoJICB2YXIgbmF0aXZlUHJvdG9jb2xzID0ge307CgkgIE9iamVjdC5rZXlzKHByb3RvY29scykuZm9yRWFjaChmdW5jdGlvbiAoc2NoZW1lKSB7CgkgICAgdmFyIHByb3RvY29sID0gc2NoZW1lICsgIjoiOwoJICAgIHZhciBuYXRpdmVQcm90b2NvbCA9IG5hdGl2ZVByb3RvY29sc1twcm90b2NvbF0gPSBwcm90b2NvbHNbc2NoZW1lXTsKCSAgICB2YXIgd3JhcHBlZFByb3RvY29sID0gZXhwb3J0c1tzY2hlbWVdID0gT2JqZWN0LmNyZWF0ZShuYXRpdmVQcm90b2NvbCk7CgoJICAgIC8vIEV4ZWN1dGVzIGEgcmVxdWVzdCwgZm9sbG93aW5nIHJlZGlyZWN0cwoJICAgIGZ1bmN0aW9uIHJlcXVlc3QoaW5wdXQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7CgkgICAgICAvLyBQYXJzZSBwYXJhbWV0ZXJzCgkgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAic3RyaW5nIikgewoJICAgICAgICB2YXIgdXJsU3RyID0gaW5wdXQ7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgaW5wdXQgPSB1cmxUb09wdGlvbnMobmV3IFVSTCh1cmxTdHIpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZXJyKSB7CgkgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCSAgICAgICAgICBpbnB1dCA9IHVybC5wYXJzZSh1cmxTdHIpOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICBlbHNlIGlmIChVUkwgJiYgKGlucHV0IGluc3RhbmNlb2YgVVJMKSkgewoJICAgICAgICBpbnB1dCA9IHVybFRvT3B0aW9ucyhpbnB1dCk7CgkgICAgICB9CgkgICAgICBlbHNlIHsKCSAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zOwoJICAgICAgICBvcHRpb25zID0gaW5wdXQ7CgkgICAgICAgIGlucHV0ID0geyBwcm90b2NvbDogcHJvdG9jb2wgfTsKCSAgICAgIH0KCSAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gImZ1bmN0aW9uIikgewoJICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7CgkgICAgICAgIG9wdGlvbnMgPSBudWxsOwoJICAgICAgfQoKCSAgICAgIC8vIFNldCBkZWZhdWx0cwoJICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewoJICAgICAgICBtYXhSZWRpcmVjdHM6IGV4cG9ydHMubWF4UmVkaXJlY3RzLAoJICAgICAgICBtYXhCb2R5TGVuZ3RoOiBleHBvcnRzLm1heEJvZHlMZW5ndGgsCgkgICAgICB9LCBpbnB1dCwgb3B0aW9ucyk7CgkgICAgICBvcHRpb25zLm5hdGl2ZVByb3RvY29scyA9IG5hdGl2ZVByb3RvY29sczsKCgkgICAgICBhc3NlcnQkMS5lcXVhbChvcHRpb25zLnByb3RvY29sLCBwcm90b2NvbCwgInByb3RvY29sIG1pc21hdGNoIik7CgkgICAgICBkZWJ1Zygib3B0aW9ucyIsIG9wdGlvbnMpOwoJICAgICAgcmV0dXJuIG5ldyBSZWRpcmVjdGFibGVSZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrKTsKCSAgICB9CgoJICAgIC8vIEV4ZWN1dGVzIGEgR0VUIHJlcXVlc3QsIGZvbGxvd2luZyByZWRpcmVjdHMKCSAgICBmdW5jdGlvbiBnZXQoaW5wdXQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7CgkgICAgICB2YXIgd3JhcHBlZFJlcXVlc3QgPSB3cmFwcGVkUHJvdG9jb2wucmVxdWVzdChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spOwoJICAgICAgd3JhcHBlZFJlcXVlc3QuZW5kKCk7CgkgICAgICByZXR1cm4gd3JhcHBlZFJlcXVlc3Q7CgkgICAgfQoKCSAgICAvLyBFeHBvc2UgdGhlIHByb3BlcnRpZXMgb24gdGhlIHdyYXBwZWQgcHJvdG9jb2wKCSAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cmFwcGVkUHJvdG9jb2wsIHsKCSAgICAgIHJlcXVlc3Q6IHsgdmFsdWU6IHJlcXVlc3QsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwKCSAgICAgIGdldDogeyB2YWx1ZTogZ2V0LCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sCgkgICAgfSk7CgkgIH0pOwoJICByZXR1cm4gZXhwb3J0czsKCX0KCgkvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoJZnVuY3Rpb24gbm9vcCgpIHsgLyogZW1wdHkgKi8gfQoKCS8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvbWFzdGVyL2xpYi9pbnRlcm5hbC91cmwuanMKCWZ1bmN0aW9uIHVybFRvT3B0aW9ucyh1cmxPYmplY3QpIHsKCSAgdmFyIG9wdGlvbnMgPSB7CgkgICAgcHJvdG9jb2w6IHVybE9iamVjdC5wcm90b2NvbCwKCSAgICBob3N0bmFtZTogdXJsT2JqZWN0Lmhvc3RuYW1lLnN0YXJ0c1dpdGgoIlsiKSA/CgkgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoJICAgICAgdXJsT2JqZWN0Lmhvc3RuYW1lLnNsaWNlKDEsIC0xKSA6CgkgICAgICB1cmxPYmplY3QuaG9zdG5hbWUsCgkgICAgaGFzaDogdXJsT2JqZWN0Lmhhc2gsCgkgICAgc2VhcmNoOiB1cmxPYmplY3Quc2VhcmNoLAoJICAgIHBhdGhuYW1lOiB1cmxPYmplY3QucGF0aG5hbWUsCgkgICAgcGF0aDogdXJsT2JqZWN0LnBhdGhuYW1lICsgdXJsT2JqZWN0LnNlYXJjaCwKCSAgICBocmVmOiB1cmxPYmplY3QuaHJlZiwKCSAgfTsKCSAgaWYgKHVybE9iamVjdC5wb3J0ICE9PSAiIikgewoJICAgIG9wdGlvbnMucG9ydCA9IE51bWJlcih1cmxPYmplY3QucG9ydCk7CgkgIH0KCSAgcmV0dXJuIG9wdGlvbnM7Cgl9CgoJZnVuY3Rpb24gcmVtb3ZlTWF0Y2hpbmdIZWFkZXJzKHJlZ2V4LCBoZWFkZXJzKSB7CgkgIHZhciBsYXN0VmFsdWU7CgkgIGZvciAodmFyIGhlYWRlciBpbiBoZWFkZXJzKSB7CgkgICAgaWYgKHJlZ2V4LnRlc3QoaGVhZGVyKSkgewoJICAgICAgbGFzdFZhbHVlID0gaGVhZGVyc1toZWFkZXJdOwoJICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyXTsKCSAgICB9CgkgIH0KCSAgcmV0dXJuIChsYXN0VmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIGxhc3RWYWx1ZSA9PT0gInVuZGVmaW5lZCIpID8KCSAgICB1bmRlZmluZWQgOiBTdHJpbmcobGFzdFZhbHVlKS50cmltKCk7Cgl9CgoJZnVuY3Rpb24gY3JlYXRlRXJyb3JUeXBlKGNvZGUsIGRlZmF1bHRNZXNzYWdlKSB7CgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKGNhdXNlKSB7CgkgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7CgkgICAgaWYgKCFjYXVzZSkgewoJICAgICAgdGhpcy5tZXNzYWdlID0gZGVmYXVsdE1lc3NhZ2U7CgkgICAgfQoJICAgIGVsc2UgewoJICAgICAgdGhpcy5tZXNzYWdlID0gZGVmYXVsdE1lc3NhZ2UgKyAiOiAiICsgY2F1c2UubWVzc2FnZTsKCSAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTsKCSAgICB9CgkgIH0KCSAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7CgkgIEN1c3RvbUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbUVycm9yOwoJICBDdXN0b21FcnJvci5wcm90b3R5cGUubmFtZSA9ICJFcnJvciBbIiArIGNvZGUgKyAiXSI7CgkgIEN1c3RvbUVycm9yLnByb3RvdHlwZS5jb2RlID0gY29kZTsKCSAgcmV0dXJuIEN1c3RvbUVycm9yOwoJfQoKCWZ1bmN0aW9uIGFib3J0UmVxdWVzdChyZXF1ZXN0KSB7CgkgIGZvciAodmFyIGUgPSAwOyBlIDwgZXZlbnRzLmxlbmd0aDsgZSsrKSB7CgkgICAgcmVxdWVzdC5yZW1vdmVMaXN0ZW5lcihldmVudHNbZV0sIGV2ZW50SGFuZGxlcnNbZXZlbnRzW2VdXSk7CgkgIH0KCSAgcmVxdWVzdC5vbigiZXJyb3IiLCBub29wKTsKCSAgcmVxdWVzdC5hYm9ydCgpOwoJfQoKCWZ1bmN0aW9uIGlzU3ViZG9tYWluKHN1YmRvbWFpbiwgZG9tYWluKSB7CgkgIGNvbnN0IGRvdCA9IHN1YmRvbWFpbi5sZW5ndGggLSBkb21haW4ubGVuZ3RoIC0gMTsKCSAgcmV0dXJuIGRvdCA+IDAgJiYgc3ViZG9tYWluW2RvdF0gPT09ICIuIiAmJiBzdWJkb21haW4uZW5kc1dpdGgoZG9tYWluKTsKCX0KCgkvLyBFeHBvcnRzCglmb2xsb3dSZWRpcmVjdHMuZXhwb3J0cyA9IHdyYXAoeyBodHRwOiBodHRwLCBodHRwczogaHR0cHMkMSB9KTsKCWZvbGxvd1JlZGlyZWN0cy5leHBvcnRzLndyYXAgPSB3cmFwOwoKCXZhciBTVFJFQU0gPSBTdHJlYW0sCgkgICAgVVRJTCA9IHJlcXVpcmUkJDEkMSwKCSAgICBTdHJpbmdEZWNvZGVyID0gc3RyaW5nX2RlY29kZXIuU3RyaW5nRGVjb2RlcjsKCglmdW5jdGlvbiBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKSB7CgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVJlYWRhYmxlU3RyZWFtKSkKCSAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTsKCSAgICBNZW1vcnlSZWFkYWJsZVN0cmVhbS5zdXBlcl8uY2FsbCh0aGlzLCBvcHRpb25zKTsKCSAgICB0aGlzLmluaXQoZGF0YSwgb3B0aW9ucyk7Cgl9CglVVElMLmluaGVyaXRzKE1lbW9yeVJlYWRhYmxlU3RyZWFtLCBTVFJFQU0uUmVhZGFibGUpOwoKCglmdW5jdGlvbiBNZW1vcnlXcml0YWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKSB7CgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVdyaXRhYmxlU3RyZWFtKSkKCSAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlXcml0YWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTsKCSAgICBNZW1vcnlXcml0YWJsZVN0cmVhbS5zdXBlcl8uY2FsbCh0aGlzLCBvcHRpb25zKTsKCSAgICB0aGlzLmluaXQoZGF0YSwgb3B0aW9ucyk7Cgl9CglVVElMLmluaGVyaXRzKE1lbW9yeVdyaXRhYmxlU3RyZWFtLCBTVFJFQU0uV3JpdGFibGUpOwoKCglmdW5jdGlvbiBNZW1vcnlEdXBsZXhTdHJlYW0oZGF0YSwgb3B0aW9ucykgewoJICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNZW1vcnlEdXBsZXhTdHJlYW0pKQoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeUR1cGxleFN0cmVhbShkYXRhLCBvcHRpb25zKTsKCSAgICBNZW1vcnlEdXBsZXhTdHJlYW0uc3VwZXJfLmNhbGwodGhpcywgb3B0aW9ucyk7CgkgICAgdGhpcy5pbml0KGRhdGEsIG9wdGlvbnMpOwoJfQoJVVRJTC5pbmhlcml0cyhNZW1vcnlEdXBsZXhTdHJlYW0sIFNUUkVBTS5EdXBsZXgpOwoKCglNZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9CglNZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9CglNZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiBpbml0IChkYXRhLCBvcHRpb25zKSB7CgkgICAgdmFyIHNlbGYgPSB0aGlzOwoJICAgIHRoaXMucXVldWUgPSBbXTsKCgkgICAgaWYgKGRhdGEpIHsKCSAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7CgkgICAgICAgICAgICBkYXRhID0gWyBkYXRhIF07CgkgICAgICAgIH0KCgkgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHsKCSAgICAgICAgICAgIGlmICghKGNodW5rIGluc3RhbmNlb2YgYnVmZmVyLkJ1ZmZlcikpIHsKCSAgICAgICAgICAgICAgICBjaHVuayA9IG5ldyBidWZmZXIuQnVmZmVyKGNodW5rKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHNlbGYucXVldWUucHVzaChjaHVuayk7CgkgICAgICAgIH0pOwoKCSAgICB9CgkgICAgCgkgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgkgICAgCgkgICAgdGhpcy5tYXhidWZzaXplID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWF4YnVmc2l6ZScpID8gb3B0aW9ucy5tYXhidWZzaXplCgkgICAgICAgICAgICA6IG51bGw7CgkgICAgdGhpcy5idWZvdmVyZmxvdyA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2J1Zm92ZXJmbG93JykgPyBvcHRpb25zLmJ1Zm92ZXJmbG93CgkgICAgICAgICAgICA6IG51bGw7CgkgICAgdGhpcy5mcmVxdWVuY2UgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdmcmVxdWVuY2UnKSA/IG9wdGlvbnMuZnJlcXVlbmNlCgkgICAgICAgICAgICA6IG51bGw7Cgl9OwoKCWZ1bmN0aW9uIE1lbW9yeVN0cmVhbSQxIChkYXRhLCBvcHRpb25zKSB7CgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVN0cmVhbSQxKSkKCSAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlTdHJlYW0kMShkYXRhLCBvcHRpb25zKTsKCSAgICAKCSAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCSAgICAKCSAgICB2YXIgcmVhZGFibGUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdyZWFkYWJsZScpID8gb3B0aW9ucy5yZWFkYWJsZSA6IHRydWUsCgkgICAgICAgIHdyaXRhYmxlID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnd3JpdGFibGUnKSA/IG9wdGlvbnMud3JpdGFibGUgOiB0cnVlOwoJICAgIAoJICAgIGlmIChyZWFkYWJsZSAmJiB3cml0YWJsZSkgewoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeUR1cGxleFN0cmVhbShkYXRhLCBvcHRpb25zKTsKCSAgICB9IGVsc2UgaWYgKHJlYWRhYmxlKSB7CgkgICAgICAgIHJldHVybiBuZXcgTWVtb3J5UmVhZGFibGVTdHJlYW0oZGF0YSwgb3B0aW9ucyk7CgkgICAgfSBlbHNlIGlmICh3cml0YWJsZSkgewoJICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpOwoJICAgIH0gZWxzZSB7CgkgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBzdHJlYW0gdHlwZSAgUmVhZGFibGUsIFdyaXRhYmxlIG9yIER1cGxleCAiKTsKCSAgICB9Cgl9CgoKCU1lbW9yeVN0cmVhbSQxLmNyZWF0ZVJlYWRTdHJlYW0gPSBmdW5jdGlvbiAoZGF0YSwgb3B0aW9ucykgewoJICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoJICAgIG9wdGlvbnMucmVhZGFibGUgPSB0cnVlOwoJICAgIG9wdGlvbnMud3JpdGFibGUgPSBmYWxzZTsKCgkgICAgcmV0dXJuIG5ldyBNZW1vcnlTdHJlYW0kMShkYXRhLCBvcHRpb25zKTsKCX07CgoKCU1lbW9yeVN0cmVhbSQxLmNyZWF0ZVdyaXRlU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHsKCSAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCSAgICBvcHRpb25zLnJlYWRhYmxlID0gZmFsc2U7CgkgICAgb3B0aW9ucy53cml0YWJsZSA9IHRydWU7CgoJICAgIHJldHVybiBuZXcgTWVtb3J5U3RyZWFtJDEoZGF0YSwgb3B0aW9ucyk7Cgl9OwoKCglNZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuX3JlYWQgPQoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIF9yZWFkIChuKSB7CgkgICAgdmFyIHNlbGYgPSB0aGlzLAoJICAgICAgICBmcmVxdWVuY2UgPSBzZWxmLmZyZXF1ZW5jZSB8fCAwLAoJICAgICAgICB3YWl0X2RhdGEgPSB0aGlzIGluc3RhbmNlb2YgU1RSRUFNLkR1cGxleCAmJiAhIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQgPyB0cnVlIDogZmFsc2U7CgkgICAgaWYgKCAhIHRoaXMucXVldWUubGVuZ3RoICYmICEgd2FpdF9kYXRhKSB7CgkgICAgICAgIHRoaXMucHVzaChudWxsKTsvLyBmaW5pc2ggc3RyZWFtCgkgICAgfSBlbHNlIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkgewoJICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChzZWxmLnF1ZXVlLmxlbmd0aCkgewoJICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IHNlbGYucXVldWUuc2hpZnQoKTsKCSAgICAgICAgICAgICAgICBpZiAoY2h1bmsgJiYgISBzZWxmLl9yZWFkYWJsZVN0YXRlLmVuZGVkKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICggISBzZWxmLnB1c2goY2h1bmspICkgewoJICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5xdWV1ZS51bnNoaWZ0KGNodW5rKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfSwgZnJlcXVlbmNlKTsKCSAgICB9Cgl9OwoKCglNZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0KCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CgkgICAgdmFyIGRlY29kZXIgPSBudWxsOwoJICAgIHRyeSB7CgkgICAgICAgIGRlY29kZXIgPSB0aGlzLmRlY29kZVN0cmluZ3MgJiYgZW5jb2RpbmcgPyBuZXcgU3RyaW5nRGVjb2RlcihlbmNvZGluZykgOiBudWxsOwoJICAgIH0gY2F0Y2ggKGVycil7CgkgICAgICAgIHJldHVybiBjYihlcnIpOwoJICAgIH0KCSAgICAKCSAgICB2YXIgZGVjb2RlZF9jaHVuayA9IGRlY29kZXIgPyBkZWNvZGVyLndyaXRlKGNodW5rKSA6IGNodW5rLAoJICAgICAgICBxdWV1ZV9zaXplID0gdGhpcy5fZ2V0UXVldWVTaXplKCksCgkgICAgICAgIGNodW5rX3NpemUgPSBkZWNvZGVkX2NodW5rLmxlbmd0aDsKCSAgICAKCSAgICBpZiAodGhpcy5tYXhidWZzaXplICYmIChxdWV1ZV9zaXplICsgY2h1bmtfc2l6ZSkgPiB0aGlzLm1heGJ1ZnNpemUgKSB7CgkgICAgICAgIGlmICh0aGlzLmJ1Zm92ZXJmbG93KSB7CgkgICAgICAgICAgICByZXR1cm4gY2IoIkJ1ZmZlciBvdmVyZmxvd2VkICgiICsgdGhpcy5idWZvdmVyZmxvdyArICIvIiArIHF1ZXVlX3NpemUgKyAiKSIpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIGNiKCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgCgkgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTVFJFQU0uRHVwbGV4KSB7CgkgICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCkgewoJICAgICAgICAgICAgdGhpcy5wdXNoKHRoaXMucXVldWUuc2hpZnQoKSk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5wdXNoKGRlY29kZWRfY2h1bmspOwoJICAgIH0gZWxzZSB7CgkgICAgICAgIHRoaXMucXVldWUucHVzaChkZWNvZGVkX2NodW5rKTsKCSAgICB9CgkgICAgY2IoKTsKCX07CgoKCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKCSAgICB2YXIgc2VsZiA9IHRoaXM7CgkgICAgcmV0dXJuIE1lbW9yeUR1cGxleFN0cmVhbS5zdXBlcl8ucHJvdG90eXBlLmVuZC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZywgZnVuY3Rpb24gKCkgewoJICAgICAgICBzZWxmLnB1c2gobnVsbCk7Ly9maW5pc2ggcmVhZGJsZSBzdHJlYW0gdG9vCgkgICAgICAgIGlmIChjYikgY2IoKTsKCSAgICB9KTsKCX07CgoKCU1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5fZ2V0UXVldWVTaXplID0gIAoJTWVtb3J5V3JpdGFibGVTdHJlYW0ucHJvdG90eXBlLl9nZXRRdWV1ZVNpemUgPSAKCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX2dldFF1ZXVlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgcXVldWVzaXplID0gMCwgaTsKCSAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5xdWV1ZS5sZW5ndGg7IGkrKykgewoJICAgICAgICBxdWV1ZXNpemUgKz0gQXJyYXkuaXNBcnJheSh0aGlzLnF1ZXVlW2ldKSA/IHRoaXMucXVldWVbaV1bMF0ubGVuZ3RoCgkgICAgICAgICAgICAgICAgOiB0aGlzLnF1ZXVlW2ldLmxlbmd0aDsKCSAgICB9CgkgICAgcmV0dXJuIHF1ZXVlc2l6ZTsKCX07CgoKCU1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IAoJTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IAoJTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gCglNZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuZ2V0QWxsID0gCglNZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IAoJTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgcmV0ID0gJyc7CgkgICAgdGhpcy5xdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CgkgICAgICAgIHJldCArPSBkYXRhOwoJICAgIH0pOwoJICAgIHJldHVybiByZXQ7Cgl9OwoKCglNZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSAKCU1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSAKCU1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgYnVmZmVyJDEgPSBuZXcgYnVmZmVyLkJ1ZmZlcih0aGlzLl9nZXRRdWV1ZVNpemUoKSksCgkgICAgICAgIGN1cnJlbnRPZmZzZXQgPSAwOwoKCSAgICB0aGlzLnF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsKCSAgICAgICAgdmFyIGRhdGFfYnVmZmVyID0gZGF0YSBpbnN0YW5jZW9mIGJ1ZmZlci5CdWZmZXIgPyBkYXRhIDogbmV3IGJ1ZmZlci5CdWZmZXIoZGF0YSk7CgkgICAgICAgIGRhdGFfYnVmZmVyLmNvcHkoYnVmZmVyJDEsIGN1cnJlbnRPZmZzZXQpOwoJICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGRhdGEubGVuZ3RoOwoJICAgIH0pOwoJICAgIHJldHVybiBidWZmZXIkMTsKCX07CgoKCXZhciBtZW1vcnlzdHJlYW0gPSBNZW1vcnlTdHJlYW0kMTsKCgl2YXIgc2VtdmVyJDEgPSB7ZXhwb3J0czoge319OwoKCShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CglleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBTZW1WZXI7CgoJdmFyIGRlYnVnOwoJLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCWlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYKCSAgICBwcm9jZXNzLmVudiAmJgoJICAgIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiYKCSAgICAvXGJzZW12ZXJcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRykpIHsKCSAgZGVidWcgPSBmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwoJICAgIGFyZ3MudW5zaGlmdCgnU0VNVkVSJyk7CgkgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7CgkgIH07Cgl9IGVsc2UgewoJICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHt9OwoJfQoKCS8vIE5vdGU6IHRoaXMgaXMgdGhlIHNlbXZlci5vcmcgdmVyc2lvbiBvZiB0aGUgc3BlYyB0aGF0IGl0IGltcGxlbWVudHMKCS8vIE5vdCBuZWNlc3NhcmlseSB0aGUgcGFja2FnZSB2ZXJzaW9uIG9mIHRoaXMgY29kZS4KCWV4cG9ydHMuU0VNVkVSX1NQRUNfVkVSU0lPTiA9ICcyLjAuMCc7CgoJdmFyIE1BWF9MRU5HVEggPSAyNTY7Cgl2YXIgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8CgkgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDkwMDcxOTkyNTQ3NDA5OTE7CgoJLy8gTWF4IHNhZmUgc2VnbWVudCBsZW5ndGggZm9yIGNvZXJjaW9uLgoJdmFyIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggPSAxNjsKCgkvLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZQoJdmFyIHJlID0gZXhwb3J0cy5yZSA9IFtdOwoJdmFyIHNyYyA9IGV4cG9ydHMuc3JjID0gW107Cgl2YXIgUiA9IDA7CgoJLy8gVGhlIGZvbGxvd2luZyBSZWd1bGFyIEV4cHJlc3Npb25zIGNhbiBiZSB1c2VkIGZvciB0b2tlbml6aW5nLAoJLy8gdmFsaWRhdGluZywgYW5kIHBhcnNpbmcgU2VtVmVyIHZlcnNpb24gc3RyaW5ncy4KCgkvLyAjIyBOdW1lcmljIElkZW50aWZpZXIKCS8vIEEgc2luZ2xlIGAwYCwgb3IgYSBub24temVybyBkaWdpdCBmb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgZGlnaXRzLgoKCXZhciBOVU1FUklDSURFTlRJRklFUiA9IFIrKzsKCXNyY1tOVU1FUklDSURFTlRJRklFUl0gPSAnMHxbMS05XVxcZConOwoJdmFyIE5VTUVSSUNJREVOVElGSUVSTE9PU0UgPSBSKys7CglzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gPSAnWzAtOV0rJzsKCgkvLyAjIyBOb24tbnVtZXJpYyBJZGVudGlmaWVyCgkvLyBaZXJvIG9yIG1vcmUgZGlnaXRzLCBmb2xsb3dlZCBieSBhIGxldHRlciBvciBoeXBoZW4sIGFuZCB0aGVuIHplcm8gb3IKCS8vIG1vcmUgbGV0dGVycywgZGlnaXRzLCBvciBoeXBoZW5zLgoKCXZhciBOT05OVU1FUklDSURFTlRJRklFUiA9IFIrKzsKCXNyY1tOT05OVU1FUklDSURFTlRJRklFUl0gPSAnXFxkKlthLXpBLVotXVthLXpBLVowLTktXSonOwoKCS8vICMjIE1haW4gVmVyc2lvbgoJLy8gVGhyZWUgZG90LXNlcGFyYXRlZCBudW1lcmljIGlkZW50aWZpZXJzLgoKCXZhciBNQUlOVkVSU0lPTiA9IFIrKzsKCXNyY1tNQUlOVkVSU0lPTl0gPSAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJylcXC4nICsKCSAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJylcXC4nICsKCSAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJyknOwoKCXZhciBNQUlOVkVSU0lPTkxPT1NFID0gUisrOwoJc3JjW01BSU5WRVJTSU9OTE9PU0VdID0gJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsgJylcXC4nICsKCSAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFwuJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnKSc7CgoJLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvbiBJZGVudGlmaWVyCgkvLyBBIG51bWVyaWMgaWRlbnRpZmllciwgb3IgYSBub24tbnVtZXJpYyBpZGVudGlmaWVyLgoKCXZhciBQUkVSRUxFQVNFSURFTlRJRklFUiA9IFIrKzsKCXNyY1tQUkVSRUxFQVNFSURFTlRJRklFUl0gPSAnKD86JyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICd8JyArIHNyY1tOT05OVU1FUklDSURFTlRJRklFUl0gKyAnKSc7CgoJdmFyIFBSRVJFTEVBU0VJREVOVElGSUVSTE9PU0UgPSBSKys7CglzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV0gPSAnKD86JyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnfCcgKyBzcmNbTk9OTlVNRVJJQ0lERU5USUZJRVJdICsgJyknOwoKCS8vICMjIFByZS1yZWxlYXNlIFZlcnNpb24KCS8vIEh5cGhlbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgZG90LXNlcGFyYXRlZCBwcmUtcmVsZWFzZSB2ZXJzaW9uCgkvLyBpZGVudGlmaWVycy4KCgl2YXIgUFJFUkVMRUFTRSA9IFIrKzsKCXNyY1tQUkVSRUxFQVNFXSA9ICcoPzotKCcgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJdICsKCSAgICAgICAgICAgICAgICAgICcoPzpcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArICcpKikpJzsKCgl2YXIgUFJFUkVMRUFTRUxPT1NFID0gUisrOwoJc3JjW1BSRVJFTEVBU0VMT09TRV0gPSAnKD86LT8oJyArIHNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSArCgkgICAgICAgICAgICAgICAgICAgICAgICcoPzpcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdICsgJykqKSknOwoKCS8vICMjIEJ1aWxkIE1ldGFkYXRhIElkZW50aWZpZXIKCS8vIEFueSBjb21iaW5hdGlvbiBvZiBkaWdpdHMsIGxldHRlcnMsIG9yIGh5cGhlbnMuCgoJdmFyIEJVSUxESURFTlRJRklFUiA9IFIrKzsKCXNyY1tCVUlMRElERU5USUZJRVJdID0gJ1swLTlBLVphLXotXSsnOwoKCS8vICMjIEJ1aWxkIE1ldGFkYXRhCgkvLyBQbHVzIHNpZ24sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIHBlcmlvZC1zZXBhcmF0ZWQgYnVpbGQgbWV0YWRhdGEKCS8vIGlkZW50aWZpZXJzLgoKCXZhciBCVUlMRCA9IFIrKzsKCXNyY1tCVUlMRF0gPSAnKD86XFwrKCcgKyBzcmNbQlVJTERJREVOVElGSUVSXSArCgkgICAgICAgICAgICAgJyg/OlxcLicgKyBzcmNbQlVJTERJREVOVElGSUVSXSArICcpKikpJzsKCgkvLyAjIyBGdWxsIFZlcnNpb24gU3RyaW5nCgkvLyBBIG1haW4gdmVyc2lvbiwgZm9sbG93ZWQgb3B0aW9uYWxseSBieSBhIHByZS1yZWxlYXNlIHZlcnNpb24gYW5kCgkvLyBidWlsZCBtZXRhZGF0YS4KCgkvLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mCgkvLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGEKCS8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uCgkvLyBjb21wYXJpc29uLgoKCXZhciBGVUxMID0gUisrOwoJdmFyIEZVTExQTEFJTiA9ICd2PycgKyBzcmNbTUFJTlZFUlNJT05dICsKCSAgICAgICAgICAgICAgICBzcmNbUFJFUkVMRUFTRV0gKyAnPycgKwoJICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPyc7CgoJc3JjW0ZVTExdID0gJ14nICsgRlVMTFBMQUlOICsgJyQnOwoKCS8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy4KCS8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5CgkvLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS4KCXZhciBMT09TRVBMQUlOID0gJ1t2PVxcc10qJyArIHNyY1tNQUlOVkVSU0lPTkxPT1NFXSArCgkgICAgICAgICAgICAgICAgIHNyY1tQUkVSRUxFQVNFTE9PU0VdICsgJz8nICsKCSAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JzsKCgl2YXIgTE9PU0UgPSBSKys7CglzcmNbTE9PU0VdID0gJ14nICsgTE9PU0VQTEFJTiArICckJzsKCgl2YXIgR1RMVCA9IFIrKzsKCXNyY1tHVExUXSA9ICcoKD86PHw+KT89PyknOwoKCS8vIFNvbWV0aGluZyBsaWtlICIyLioiIG9yICIxLjIueCIuCgkvLyBOb3RlIHRoYXQgIngueCIgaXMgYSB2YWxpZCB4UmFuZ2UgaWRlbnRpZmVyLCBtZWFuaW5nICJhbnkgdmVyc2lvbiIKCS8vIE9ubHkgdGhlIGZpcnN0IGl0ZW0gaXMgc3RyaWN0bHkgcmVxdWlyZWQuCgl2YXIgWFJBTkdFSURFTlRJRklFUkxPT1NFID0gUisrOwoJc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gPSBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnfHh8WHxcXConOwoJdmFyIFhSQU5HRUlERU5USUZJRVIgPSBSKys7CglzcmNbWFJBTkdFSURFTlRJRklFUl0gPSBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJ3x4fFh8XFwqJzsKCgl2YXIgWFJBTkdFUExBSU4gPSBSKys7CglzcmNbWFJBTkdFUExBSU5dID0gJ1t2PVxcc10qKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICcoPzpcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgJyg/OlxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAnKD86JyArIHNyY1tQUkVSRUxFQVNFXSArICcpPycgKwoJICAgICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPycgKwoJICAgICAgICAgICAgICAgICAgICcpPyk/JzsKCgl2YXIgWFJBTkdFUExBSU5MT09TRSA9IFIrKzsKCXNyY1tYUkFOR0VQTEFJTkxPT1NFXSA9ICdbdj1cXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgKwoJICAgICAgICAgICAgICAgICAgICAgICAgJyg/OicgKyBzcmNbUFJFUkVMRUFTRUxPT1NFXSArICcpPycgKwoJICAgICAgICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnKT8pPyc7CgoJdmFyIFhSQU5HRSA9IFIrKzsKCXNyY1tYUkFOR0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xccyonICsgc3JjW1hSQU5HRVBMQUlOXSArICckJzsKCXZhciBYUkFOR0VMT09TRSA9IFIrKzsKCXNyY1tYUkFOR0VMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxzKicgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7CgoJLy8gQ29lcmNpb24uCgkvLyBFeHRyYWN0IGFueXRoaW5nIHRoYXQgY291bGQgY29uY2VpdmFibHkgYmUgYSBwYXJ0IG9mIGEgdmFsaWQgc2VtdmVyCgl2YXIgQ09FUkNFID0gUisrOwoJc3JjW0NPRVJDRV0gPSAnKD86XnxbXlxcZF0pJyArCgkgICAgICAgICAgICAgICcoXFxkezEsJyArIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggKyAnfSknICsKCSAgICAgICAgICAgICAgJyg/OlxcLihcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KSk/JyArCgkgICAgICAgICAgICAgICcoPzpcXC4oXFxkezEsJyArIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggKyAnfSkpPycgKwoJICAgICAgICAgICAgICAnKD86JHxbXlxcZF0pJzsKCgkvLyBUaWxkZSByYW5nZXMuCgkvLyBNZWFuaW5nIGlzICJyZWFzb25hYmx5IGF0IG9yIGdyZWF0ZXIgdGhhbiIKCXZhciBMT05FVElMREUgPSBSKys7CglzcmNbTE9ORVRJTERFXSA9ICcoPzp+Pj8pJzsKCgl2YXIgVElMREVUUklNID0gUisrOwoJc3JjW1RJTERFVFJJTV0gPSAnKFxccyopJyArIHNyY1tMT05FVElMREVdICsgJ1xccysnOwoJcmVbVElMREVUUklNXSA9IG5ldyBSZWdFeHAoc3JjW1RJTERFVFJJTV0sICdnJyk7Cgl2YXIgdGlsZGVUcmltUmVwbGFjZSA9ICckMX4nOwoKCXZhciBUSUxERSA9IFIrKzsKCXNyY1tUSUxERV0gPSAnXicgKyBzcmNbTE9ORVRJTERFXSArIHNyY1tYUkFOR0VQTEFJTl0gKyAnJCc7Cgl2YXIgVElMREVMT09TRSA9IFIrKzsKCXNyY1tUSUxERUxPT1NFXSA9ICdeJyArIHNyY1tMT05FVElMREVdICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyQnOwoKCS8vIENhcmV0IHJhbmdlcy4KCS8vIE1lYW5pbmcgaXMgImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIgoJdmFyIExPTkVDQVJFVCA9IFIrKzsKCXNyY1tMT05FQ0FSRVRdID0gJyg/OlxcXiknOwoKCXZhciBDQVJFVFRSSU0gPSBSKys7CglzcmNbQ0FSRVRUUklNXSA9ICcoXFxzKiknICsgc3JjW0xPTkVDQVJFVF0gKyAnXFxzKyc7CglyZVtDQVJFVFRSSU1dID0gbmV3IFJlZ0V4cChzcmNbQ0FSRVRUUklNXSwgJ2cnKTsKCXZhciBjYXJldFRyaW1SZXBsYWNlID0gJyQxXic7CgoJdmFyIENBUkVUID0gUisrOwoJc3JjW0NBUkVUXSA9ICdeJyArIHNyY1tMT05FQ0FSRVRdICsgc3JjW1hSQU5HRVBMQUlOXSArICckJzsKCXZhciBDQVJFVExPT1NFID0gUisrOwoJc3JjW0NBUkVUTE9PU0VdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7CgoJLy8gQSBzaW1wbGUgZ3QvbHQvZXEgdGhpbmcsIG9yIGp1c3QgIiIgdG8gaW5kaWNhdGUgImFueSB2ZXJzaW9uIgoJdmFyIENPTVBBUkFUT1JMT09TRSA9IFIrKzsKCXNyY1tDT01QQVJBVE9STE9PU0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xccyooJyArIExPT1NFUExBSU4gKyAnKSR8XiQnOwoJdmFyIENPTVBBUkFUT1IgPSBSKys7CglzcmNbQ09NUEFSQVRPUl0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxzKignICsgRlVMTFBMQUlOICsgJykkfF4kJzsKCgkvLyBBbiBleHByZXNzaW9uIHRvIHN0cmlwIGFueSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGd0bHQgYW5kIHRoZSB0aGluZwoJLy8gaXQgbW9kaWZpZXMsIHNvIHRoYXQgYD4gMS4yLjNgID09PiBgPjEuMi4zYAoJdmFyIENPTVBBUkFUT1JUUklNID0gUisrOwoJc3JjW0NPTVBBUkFUT1JUUklNXSA9ICcoXFxzKiknICsgc3JjW0dUTFRdICsKCSAgICAgICAgICAgICAgICAgICAgICAnXFxzKignICsgTE9PU0VQTEFJTiArICd8JyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnKSc7CgoJLy8gdGhpcyBvbmUgaGFzIHRvIHVzZSB0aGUgL2cgZmxhZwoJcmVbQ09NUEFSQVRPUlRSSU1dID0gbmV3IFJlZ0V4cChzcmNbQ09NUEFSQVRPUlRSSU1dLCAnZycpOwoJdmFyIGNvbXBhcmF0b3JUcmltUmVwbGFjZSA9ICckMSQyJDMnOwoKCS8vIFNvbWV0aGluZyBsaWtlIGAxLjIuMyAtIDEuMi40YAoJLy8gTm90ZSB0aGF0IHRoZXNlIGFsbCB1c2UgdGhlIGxvb3NlIGZvcm0sIGJlY2F1c2UgdGhleSdsbCBiZQoJLy8gY2hlY2tlZCBhZ2FpbnN0IGVpdGhlciB0aGUgc3RyaWN0IG9yIGxvb3NlIGNvbXBhcmF0b3IgZm9ybQoJLy8gbGF0ZXIuCgl2YXIgSFlQSEVOUkFOR0UgPSBSKys7CglzcmNbSFlQSEVOUkFOR0VdID0gJ15cXHMqKCcgKyBzcmNbWFJBTkdFUExBSU5dICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAnXFxzKy1cXHMrJyArCgkgICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgJ1xccyokJzsKCgl2YXIgSFlQSEVOUkFOR0VMT09TRSA9IFIrKzsKCXNyY1tIWVBIRU5SQU5HRUxPT1NFXSA9ICdeXFxzKignICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyknICsKCSAgICAgICAgICAgICAgICAgICAgICAgICdcXHMrLVxccysnICsKCSAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICcpJyArCgkgICAgICAgICAgICAgICAgICAgICAgICAnXFxzKiQnOwoKCS8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC4KCXZhciBTVEFSID0gUisrOwoJc3JjW1NUQVJdID0gJyg8fD4pPz0/XFxzKlxcKic7CgoJLy8gQ29tcGlsZSB0byBhY3R1YWwgcmVnZXhwIG9iamVjdHMuCgkvLyBBbGwgYXJlIGZsYWctZnJlZSwgdW5sZXNzIHRoZXkgd2VyZSBjcmVhdGVkIGFib3ZlIHdpdGggYSBmbGFnLgoJZm9yICh2YXIgaSA9IDA7IGkgPCBSOyBpKyspIHsKCSAgZGVidWcoaSwgc3JjW2ldKTsKCSAgaWYgKCFyZVtpXSkgewoJICAgIHJlW2ldID0gbmV3IFJlZ0V4cChzcmNbaV0pOwoJICB9Cgl9CgoJZXhwb3J0cy5wYXJzZSA9IHBhcnNlOwoJZnVuY3Rpb24gcGFyc2UgKHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JykgewoJICAgIG9wdGlvbnMgPSB7CgkgICAgICBsb29zZTogISFvcHRpb25zLAoJICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlCgkgICAgfTsKCSAgfQoKCSAgaWYgKHZlcnNpb24gaW5zdGFuY2VvZiBTZW1WZXIpIHsKCSAgICByZXR1cm4gdmVyc2lvbgoJICB9CgoJICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoKCSAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkgewoJICAgIHJldHVybiBudWxsCgkgIH0KCgkgIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW0xPT1NFXSA6IHJlW0ZVTExdOwoJICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkgewoJICAgIHJldHVybiBudWxsCgkgIH0KCgkgIHRyeSB7CgkgICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucykKCSAgfSBjYXRjaCAoZXIpIHsKCSAgICByZXR1cm4gbnVsbAoJICB9Cgl9CgoJZXhwb3J0cy52YWxpZCA9IHZhbGlkOwoJZnVuY3Rpb24gdmFsaWQgKHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgdmFyIHYgPSBwYXJzZSh2ZXJzaW9uLCBvcHRpb25zKTsKCSAgcmV0dXJuIHYgPyB2LnZlcnNpb24gOiBudWxsCgl9CgoJZXhwb3J0cy5jbGVhbiA9IGNsZWFuOwoJZnVuY3Rpb24gY2xlYW4gKHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgdmFyIHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIG9wdGlvbnMpOwoJICByZXR1cm4gcyA/IHMudmVyc2lvbiA6IG51bGwKCX0KCglleHBvcnRzLlNlbVZlciA9IFNlbVZlcjsKCglmdW5jdGlvbiBTZW1WZXIgKHZlcnNpb24sIG9wdGlvbnMpIHsKCSAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JykgewoJICAgIG9wdGlvbnMgPSB7CgkgICAgICBsb29zZTogISFvcHRpb25zLAoJICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlCgkgICAgfTsKCSAgfQoJICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikgewoJICAgIGlmICh2ZXJzaW9uLmxvb3NlID09PSBvcHRpb25zLmxvb3NlKSB7CgkgICAgICByZXR1cm4gdmVyc2lvbgoJICAgIH0gZWxzZSB7CgkgICAgICB2ZXJzaW9uID0gdmVyc2lvbi52ZXJzaW9uOwoJICAgIH0KCSAgfSBlbHNlIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFZlcnNpb246ICcgKyB2ZXJzaW9uKQoJICB9CgoJICBpZiAodmVyc2lvbi5sZW5ndGggPiBNQVhfTEVOR1RIKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmVyc2lvbiBpcyBsb25nZXIgdGhhbiAnICsgTUFYX0xFTkdUSCArICcgY2hhcmFjdGVycycpCgkgIH0KCgkgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZW1WZXIpKSB7CgkgICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucykKCSAgfQoKCSAgZGVidWcoJ1NlbVZlcicsIHZlcnNpb24sIG9wdGlvbnMpOwoJICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoJICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlOwoKCSAgdmFyIG0gPSB2ZXJzaW9uLnRyaW0oKS5tYXRjaChvcHRpb25zLmxvb3NlID8gcmVbTE9PU0VdIDogcmVbRlVMTF0pOwoKCSAgaWYgKCFtKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBWZXJzaW9uOiAnICsgdmVyc2lvbikKCSAgfQoKCSAgdGhpcy5yYXcgPSB2ZXJzaW9uOwoKCSAgLy8gdGhlc2UgYXJlIGFjdHVhbGx5IG51bWJlcnMKCSAgdGhpcy5tYWpvciA9ICttWzFdOwoJICB0aGlzLm1pbm9yID0gK21bMl07CgkgIHRoaXMucGF0Y2ggPSArbVszXTsKCgkgIGlmICh0aGlzLm1ham9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1ham9yIDwgMCkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWFqb3IgdmVyc2lvbicpCgkgIH0KCgkgIGlmICh0aGlzLm1pbm9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1pbm9yIDwgMCkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWlub3IgdmVyc2lvbicpCgkgIH0KCgkgIGlmICh0aGlzLnBhdGNoID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLnBhdGNoIDwgMCkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpCgkgIH0KCgkgIC8vIG51bWJlcmlmeSBhbnkgcHJlcmVsZWFzZSBudW1lcmljIGlkcwoJICBpZiAoIW1bNF0pIHsKCSAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTsKCSAgfSBlbHNlIHsKCSAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChpZCkgewoJICAgICAgaWYgKC9eWzAtOV0rJC8udGVzdChpZCkpIHsKCSAgICAgICAgdmFyIG51bSA9ICtpZDsKCSAgICAgICAgaWYgKG51bSA+PSAwICYmIG51bSA8IE1BWF9TQUZFX0lOVEVHRVIpIHsKCSAgICAgICAgICByZXR1cm4gbnVtCgkgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIHJldHVybiBpZAoJICAgIH0pOwoJICB9CgoJICB0aGlzLmJ1aWxkID0gbVs1XSA/IG1bNV0uc3BsaXQoJy4nKSA6IFtdOwoJICB0aGlzLmZvcm1hdCgpOwoJfQoKCVNlbVZlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICB0aGlzLnZlcnNpb24gPSB0aGlzLm1ham9yICsgJy4nICsgdGhpcy5taW5vciArICcuJyArIHRoaXMucGF0Y2g7CgkgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoKSB7CgkgICAgdGhpcy52ZXJzaW9uICs9ICctJyArIHRoaXMucHJlcmVsZWFzZS5qb2luKCcuJyk7CgkgIH0KCSAgcmV0dXJuIHRoaXMudmVyc2lvbgoJfTsKCglTZW1WZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICByZXR1cm4gdGhpcy52ZXJzaW9uCgl9OwoKCVNlbVZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIChvdGhlcikgewoJICBkZWJ1ZygnU2VtVmVyLmNvbXBhcmUnLCB0aGlzLnZlcnNpb24sIHRoaXMub3B0aW9ucywgb3RoZXIpOwoJICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHsKCSAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucyk7CgkgIH0KCgkgIHJldHVybiB0aGlzLmNvbXBhcmVNYWluKG90aGVyKSB8fCB0aGlzLmNvbXBhcmVQcmUob3RoZXIpCgl9OwoKCVNlbVZlci5wcm90b3R5cGUuY29tcGFyZU1haW4gPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7CgkgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpOwoJICB9CgoJICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKHRoaXMubWFqb3IsIG90aGVyLm1ham9yKSB8fAoJICAgICAgICAgY29tcGFyZUlkZW50aWZpZXJzKHRoaXMubWlub3IsIG90aGVyLm1pbm9yKSB8fAoJICAgICAgICAgY29tcGFyZUlkZW50aWZpZXJzKHRoaXMucGF0Y2gsIG90aGVyLnBhdGNoKQoJfTsKCglTZW1WZXIucHJvdG90eXBlLmNvbXBhcmVQcmUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7CgkgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpOwoJICB9CgoJICAvLyBOT1QgaGF2aW5nIGEgcHJlcmVsZWFzZSBpcyA+IGhhdmluZyBvbmUKCSAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7CgkgICAgcmV0dXJuIC0xCgkgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHsKCSAgICByZXR1cm4gMQoJICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmICFvdGhlci5wcmVyZWxlYXNlLmxlbmd0aCkgewoJICAgIHJldHVybiAwCgkgIH0KCgkgIHZhciBpID0gMDsKCSAgZG8gewoJICAgIHZhciBhID0gdGhpcy5wcmVyZWxlYXNlW2ldOwoJICAgIHZhciBiID0gb3RoZXIucHJlcmVsZWFzZVtpXTsKCSAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYik7CgkgICAgaWYgKGEgPT09IHVuZGVmaW5lZCAmJiBiID09PSB1bmRlZmluZWQpIHsKCSAgICAgIHJldHVybiAwCgkgICAgfSBlbHNlIGlmIChiID09PSB1bmRlZmluZWQpIHsKCSAgICAgIHJldHVybiAxCgkgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHsKCSAgICAgIHJldHVybiAtMQoJICAgIH0gZWxzZSBpZiAoYSA9PT0gYikgewoJICAgICAgY29udGludWUKCSAgICB9IGVsc2UgewoJICAgICAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyhhLCBiKQoJICAgIH0KCSAgfSB3aGlsZSAoKytpKQoJfTsKCgkvLyBwcmVtaW5vciB3aWxsIGJ1bXAgdGhlIHZlcnNpb24gdXAgdG8gdGhlIG5leHQgbWlub3IgcmVsZWFzZSwgYW5kIGltbWVkaWF0ZWx5CgkvLyBkb3duIHRvIHByZS1yZWxlYXNlLiBwcmVtYWpvciBhbmQgcHJlcGF0Y2ggd29yayB0aGUgc2FtZSB3YXkuCglTZW1WZXIucHJvdG90eXBlLmluYyA9IGZ1bmN0aW9uIChyZWxlYXNlLCBpZGVudGlmaWVyKSB7CgkgIHN3aXRjaCAocmVsZWFzZSkgewoJICAgIGNhc2UgJ3ByZW1ham9yJzoKCSAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwOwoJICAgICAgdGhpcy5wYXRjaCA9IDA7CgkgICAgICB0aGlzLm1pbm9yID0gMDsKCSAgICAgIHRoaXMubWFqb3IrKzsKCSAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTsKCSAgICAgIGJyZWFrCgkgICAgY2FzZSAncHJlbWlub3InOgoJICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDA7CgkgICAgICB0aGlzLnBhdGNoID0gMDsKCSAgICAgIHRoaXMubWlub3IrKzsKCSAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTsKCSAgICAgIGJyZWFrCgkgICAgY2FzZSAncHJlcGF0Y2gnOgoJICAgICAgLy8gSWYgdGhpcyBpcyBhbHJlYWR5IGEgcHJlcmVsZWFzZSwgaXQgd2lsbCBidW1wIHRvIHRoZSBuZXh0IHZlcnNpb24KCSAgICAgIC8vIGRyb3AgYW55IHByZXJlbGVhc2VzIHRoYXQgbWlnaHQgYWxyZWFkeSBleGlzdCwgc2luY2UgdGhleSBhcmUgbm90CgkgICAgICAvLyByZWxldmFudCBhdCB0aGlzIHBvaW50LgoJICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDA7CgkgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKTsKCSAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTsKCSAgICAgIGJyZWFrCgkgICAgLy8gSWYgdGhlIGlucHV0IGlzIGEgbm9uLXByZXJlbGVhc2UgdmVyc2lvbiwgdGhpcyBhY3RzIHRoZSBzYW1lIGFzCgkgICAgLy8gcHJlcGF0Y2guCgkgICAgY2FzZSAncHJlcmVsZWFzZSc6CgkgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKTsKCSAgICAgIH0KCSAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTsKCSAgICAgIGJyZWFrCgoJICAgIGNhc2UgJ21ham9yJzoKCSAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLgoJICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtYWpvci4KCSAgICAgIC8vIDEuMC4wLTUgYnVtcHMgdG8gMS4wLjAKCSAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wCgkgICAgICBpZiAodGhpcy5taW5vciAhPT0gMCB8fAoJICAgICAgICAgIHRoaXMucGF0Y2ggIT09IDAgfHwKCSAgICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7CgkgICAgICAgIHRoaXMubWFqb3IrKzsKCSAgICAgIH0KCSAgICAgIHRoaXMubWlub3IgPSAwOwoJICAgICAgdGhpcy5wYXRjaCA9IDA7CgkgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTsKCSAgICAgIGJyZWFrCgkgICAgY2FzZSAnbWlub3InOgoJICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1taW5vciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1pbm9yIHZlcnNpb24uCgkgICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1pbm9yLgoJICAgICAgLy8gMS4yLjAtNSBidW1wcyB0byAxLjIuMAoJICAgICAgLy8gMS4yLjEgYnVtcHMgdG8gMS4zLjAKCSAgICAgIGlmICh0aGlzLnBhdGNoICE9PSAwIHx8IHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHsKCSAgICAgICAgdGhpcy5taW5vcisrOwoJICAgICAgfQoJICAgICAgdGhpcy5wYXRjaCA9IDA7CgkgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTsKCSAgICAgIGJyZWFrCgkgICAgY2FzZSAncGF0Y2gnOgoJICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uLCBpdCB3aWxsIGluY3JlbWVudCB0aGUgcGF0Y2guCgkgICAgICAvLyBJZiBpdCBpcyBhIHByZS1yZWxlYXNlIGl0IHdpbGwgYnVtcCB1cCB0byB0aGUgc2FtZSBwYXRjaCB2ZXJzaW9uLgoJICAgICAgLy8gMS4yLjAtNSBwYXRjaGVzIHRvIDEuMi4wCgkgICAgICAvLyAxLjIuMCBwYXRjaGVzIHRvIDEuMi4xCgkgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICB0aGlzLnBhdGNoKys7CgkgICAgICB9CgkgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTsKCSAgICAgIGJyZWFrCgkgICAgLy8gVGhpcyBwcm9iYWJseSBzaG91bGRuJ3QgYmUgdXNlZCBwdWJsaWNseS4KCSAgICAvLyAxLjAuMCAicHJlIiB3b3VsZCBiZWNvbWUgMS4wLjAtMCB3aGljaCBpcyB0aGUgd3JvbmcgZGlyZWN0aW9uLgoJICAgIGNhc2UgJ3ByZSc6CgkgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkgewoJICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbMF07CgkgICAgICB9IGVsc2UgewoJICAgICAgICB2YXIgaSA9IHRoaXMucHJlcmVsZWFzZS5sZW5ndGg7CgkgICAgICAgIHdoaWxlICgtLWkgPj0gMCkgewoJICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVyZWxlYXNlW2ldID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKys7CgkgICAgICAgICAgICBpID0gLTI7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSAtMSkgewoJICAgICAgICAgIC8vIGRpZG4ndCBpbmNyZW1lbnQgYW55dGhpbmcKCSAgICAgICAgICB0aGlzLnByZXJlbGVhc2UucHVzaCgwKTsKCSAgICAgICAgfQoJICAgICAgfQoJICAgICAgaWYgKGlkZW50aWZpZXIpIHsKCSAgICAgICAgLy8gMS4yLjAtYmV0YS4xIGJ1bXBzIHRvIDEuMi4wLWJldGEuMiwKCSAgICAgICAgLy8gMS4yLjAtYmV0YS5mb29ibHogb3IgMS4yLjAtYmV0YSBidW1wcyB0byAxLjIuMC1iZXRhLjAKCSAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZVswXSA9PT0gaWRlbnRpZmllcikgewoJICAgICAgICAgIGlmIChpc05hTih0aGlzLnByZXJlbGVhc2VbMV0pKSB7CgkgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF07CgkgICAgICAgICAgfQoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtpZGVudGlmaWVyLCAwXTsKCSAgICAgICAgfQoJICAgICAgfQoJICAgICAgYnJlYWsKCgkgICAgZGVmYXVsdDoKCSAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICcgKyByZWxlYXNlKQoJICB9CgkgIHRoaXMuZm9ybWF0KCk7CgkgIHRoaXMucmF3ID0gdGhpcy52ZXJzaW9uOwoJICByZXR1cm4gdGhpcwoJfTsKCglleHBvcnRzLmluYyA9IGluYzsKCWZ1bmN0aW9uIGluYyAodmVyc2lvbiwgcmVsZWFzZSwgbG9vc2UsIGlkZW50aWZpZXIpIHsKCSAgaWYgKHR5cGVvZiAobG9vc2UpID09PSAnc3RyaW5nJykgewoJICAgIGlkZW50aWZpZXIgPSBsb29zZTsKCSAgICBsb29zZSA9IHVuZGVmaW5lZDsKCSAgfQoKCSAgdHJ5IHsKCSAgICByZXR1cm4gbmV3IFNlbVZlcih2ZXJzaW9uLCBsb29zZSkuaW5jKHJlbGVhc2UsIGlkZW50aWZpZXIpLnZlcnNpb24KCSAgfSBjYXRjaCAoZXIpIHsKCSAgICByZXR1cm4gbnVsbAoJICB9Cgl9CgoJZXhwb3J0cy5kaWZmID0gZGlmZjsKCWZ1bmN0aW9uIGRpZmYgKHZlcnNpb24xLCB2ZXJzaW9uMikgewoJICBpZiAoZXEodmVyc2lvbjEsIHZlcnNpb24yKSkgewoJICAgIHJldHVybiBudWxsCgkgIH0gZWxzZSB7CgkgICAgdmFyIHYxID0gcGFyc2UodmVyc2lvbjEpOwoJICAgIHZhciB2MiA9IHBhcnNlKHZlcnNpb24yKTsKCSAgICB2YXIgcHJlZml4ID0gJyc7CgkgICAgaWYgKHYxLnByZXJlbGVhc2UubGVuZ3RoIHx8IHYyLnByZXJlbGVhc2UubGVuZ3RoKSB7CgkgICAgICBwcmVmaXggPSAncHJlJzsKCSAgICAgIHZhciBkZWZhdWx0UmVzdWx0ID0gJ3ByZXJlbGVhc2UnOwoJICAgIH0KCSAgICBmb3IgKHZhciBrZXkgaW4gdjEpIHsKCSAgICAgIGlmIChrZXkgPT09ICdtYWpvcicgfHwga2V5ID09PSAnbWlub3InIHx8IGtleSA9PT0gJ3BhdGNoJykgewoJICAgICAgICBpZiAodjFba2V5XSAhPT0gdjJba2V5XSkgewoJICAgICAgICAgIHJldHVybiBwcmVmaXggKyBrZXkKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCSAgICByZXR1cm4gZGVmYXVsdFJlc3VsdCAvLyBtYXkgYmUgdW5kZWZpbmVkCgkgIH0KCX0KCglleHBvcnRzLmNvbXBhcmVJZGVudGlmaWVycyA9IGNvbXBhcmVJZGVudGlmaWVyczsKCgl2YXIgbnVtZXJpYyA9IC9eWzAtOV0rJC87CglmdW5jdGlvbiBjb21wYXJlSWRlbnRpZmllcnMgKGEsIGIpIHsKCSAgdmFyIGFudW0gPSBudW1lcmljLnRlc3QoYSk7CgkgIHZhciBibnVtID0gbnVtZXJpYy50ZXN0KGIpOwoKCSAgaWYgKGFudW0gJiYgYm51bSkgewoJICAgIGEgPSArYTsKCSAgICBiID0gK2I7CgkgIH0KCgkgIHJldHVybiBhID09PSBiID8gMAoJICAgIDogKGFudW0gJiYgIWJudW0pID8gLTEKCSAgICA6IChibnVtICYmICFhbnVtKSA/IDEKCSAgICA6IGEgPCBiID8gLTEKCSAgICA6IDEKCX0KCglleHBvcnRzLnJjb21wYXJlSWRlbnRpZmllcnMgPSByY29tcGFyZUlkZW50aWZpZXJzOwoJZnVuY3Rpb24gcmNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikgewoJICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGIsIGEpCgl9CgoJZXhwb3J0cy5tYWpvciA9IG1ham9yOwoJZnVuY3Rpb24gbWFqb3IgKGEsIGxvb3NlKSB7CgkgIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5tYWpvcgoJfQoKCWV4cG9ydHMubWlub3IgPSBtaW5vcjsKCWZ1bmN0aW9uIG1pbm9yIChhLCBsb29zZSkgewoJICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkubWlub3IKCX0KCglleHBvcnRzLnBhdGNoID0gcGF0Y2g7CglmdW5jdGlvbiBwYXRjaCAoYSwgbG9vc2UpIHsKCSAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLnBhdGNoCgl9CgoJZXhwb3J0cy5jb21wYXJlID0gY29tcGFyZTsKCWZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5jb21wYXJlKG5ldyBTZW1WZXIoYiwgbG9vc2UpKQoJfQoKCWV4cG9ydHMuY29tcGFyZUxvb3NlID0gY29tcGFyZUxvb3NlOwoJZnVuY3Rpb24gY29tcGFyZUxvb3NlIChhLCBiKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIHRydWUpCgl9CgoJZXhwb3J0cy5yY29tcGFyZSA9IHJjb21wYXJlOwoJZnVuY3Rpb24gcmNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGIsIGEsIGxvb3NlKQoJfQoKCWV4cG9ydHMuc29ydCA9IHNvcnQ7CglmdW5jdGlvbiBzb3J0IChsaXN0LCBsb29zZSkgewoJICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CgkgICAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZShhLCBiLCBsb29zZSkKCSAgfSkKCX0KCglleHBvcnRzLnJzb3J0ID0gcnNvcnQ7CglmdW5jdGlvbiByc29ydCAobGlzdCwgbG9vc2UpIHsKCSAgcmV0dXJuIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewoJICAgIHJldHVybiBleHBvcnRzLnJjb21wYXJlKGEsIGIsIGxvb3NlKQoJICB9KQoJfQoKCWV4cG9ydHMuZ3QgPSBndDsKCWZ1bmN0aW9uIGd0IChhLCBiLCBsb29zZSkgewoJICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPiAwCgl9CgoJZXhwb3J0cy5sdCA9IGx0OwoJZnVuY3Rpb24gbHQgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDAKCX0KCglleHBvcnRzLmVxID0gZXE7CglmdW5jdGlvbiBlcSAoYSwgYiwgbG9vc2UpIHsKCSAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpID09PSAwCgl9CgoJZXhwb3J0cy5uZXEgPSBuZXE7CglmdW5jdGlvbiBuZXEgKGEsIGIsIGxvb3NlKSB7CgkgIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSAhPT0gMAoJfQoKCWV4cG9ydHMuZ3RlID0gZ3RlOwoJZnVuY3Rpb24gZ3RlIChhLCBiLCBsb29zZSkgewoJICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMAoJfQoKCWV4cG9ydHMubHRlID0gbHRlOwoJZnVuY3Rpb24gbHRlIChhLCBiLCBsb29zZSkgewoJICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPD0gMAoJfQoKCWV4cG9ydHMuY21wID0gY21wOwoJZnVuY3Rpb24gY21wIChhLCBvcCwgYiwgbG9vc2UpIHsKCSAgc3dpdGNoIChvcCkgewoJICAgIGNhc2UgJz09PSc6CgkgICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKQoJICAgICAgICBhID0gYS52ZXJzaW9uOwoJICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0JykKCSAgICAgICAgYiA9IGIudmVyc2lvbjsKCSAgICAgIHJldHVybiBhID09PSBiCgoJICAgIGNhc2UgJyE9PSc6CgkgICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKQoJICAgICAgICBhID0gYS52ZXJzaW9uOwoJICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0JykKCSAgICAgICAgYiA9IGIudmVyc2lvbjsKCSAgICAgIHJldHVybiBhICE9PSBiCgoJICAgIGNhc2UgJyc6CgkgICAgY2FzZSAnPSc6CgkgICAgY2FzZSAnPT0nOgoJICAgICAgcmV0dXJuIGVxKGEsIGIsIGxvb3NlKQoKCSAgICBjYXNlICchPSc6CgkgICAgICByZXR1cm4gbmVxKGEsIGIsIGxvb3NlKQoKCSAgICBjYXNlICc+JzoKCSAgICAgIHJldHVybiBndChhLCBiLCBsb29zZSkKCgkgICAgY2FzZSAnPj0nOgoJICAgICAgcmV0dXJuIGd0ZShhLCBiLCBsb29zZSkKCgkgICAgY2FzZSAnPCc6CgkgICAgICByZXR1cm4gbHQoYSwgYiwgbG9vc2UpCgoJICAgIGNhc2UgJzw9JzoKCSAgICAgIHJldHVybiBsdGUoYSwgYiwgbG9vc2UpCgoJICAgIGRlZmF1bHQ6CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG9wZXJhdG9yOiAnICsgb3ApCgkgIH0KCX0KCglleHBvcnRzLkNvbXBhcmF0b3IgPSBDb21wYXJhdG9yOwoJZnVuY3Rpb24gQ29tcGFyYXRvciAoY29tcCwgb3B0aW9ucykgewoJICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7CgkgICAgb3B0aW9ucyA9IHsKCSAgICAgIGxvb3NlOiAhIW9wdGlvbnMsCgkgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UKCSAgICB9OwoJICB9CgoJICBpZiAoY29tcCBpbnN0YW5jZW9mIENvbXBhcmF0b3IpIHsKCSAgICBpZiAoY29tcC5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlKSB7CgkgICAgICByZXR1cm4gY29tcAoJICAgIH0gZWxzZSB7CgkgICAgICBjb21wID0gY29tcC52YWx1ZTsKCSAgICB9CgkgIH0KCgkgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSkgewoJICAgIHJldHVybiBuZXcgQ29tcGFyYXRvcihjb21wLCBvcHRpb25zKQoJICB9CgoJICBkZWJ1ZygnY29tcGFyYXRvcicsIGNvbXAsIG9wdGlvbnMpOwoJICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoJICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlOwoJICB0aGlzLnBhcnNlKGNvbXApOwoKCSAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkpIHsKCSAgICB0aGlzLnZhbHVlID0gJyc7CgkgIH0gZWxzZSB7CgkgICAgdGhpcy52YWx1ZSA9IHRoaXMub3BlcmF0b3IgKyB0aGlzLnNlbXZlci52ZXJzaW9uOwoJICB9CgoJICBkZWJ1ZygnY29tcCcsIHRoaXMpOwoJfQoKCXZhciBBTlkgPSB7fTsKCUNvbXBhcmF0b3IucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNvbXApIHsKCSAgdmFyIHIgPSB0aGlzLm9wdGlvbnMubG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl07CgkgIHZhciBtID0gY29tcC5tYXRjaChyKTsKCgkgIGlmICghbSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY29tcGFyYXRvcjogJyArIGNvbXApCgkgIH0KCgkgIHRoaXMub3BlcmF0b3IgPSBtWzFdOwoJICBpZiAodGhpcy5vcGVyYXRvciA9PT0gJz0nKSB7CgkgICAgdGhpcy5vcGVyYXRvciA9ICcnOwoJICB9CgoJICAvLyBpZiBpdCBsaXRlcmFsbHkgaXMganVzdCAnPicgb3IgJycgdGhlbiBhbGxvdyBhbnl0aGluZy4KCSAgaWYgKCFtWzJdKSB7CgkgICAgdGhpcy5zZW12ZXIgPSBBTlk7CgkgIH0gZWxzZSB7CgkgICAgdGhpcy5zZW12ZXIgPSBuZXcgU2VtVmVyKG1bMl0sIHRoaXMub3B0aW9ucy5sb29zZSk7CgkgIH0KCX07CgoJQ29tcGFyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgIHJldHVybiB0aGlzLnZhbHVlCgl9OwoKCUNvbXBhcmF0b3IucHJvdG90eXBlLnRlc3QgPSBmdW5jdGlvbiAodmVyc2lvbikgewoJICBkZWJ1ZygnQ29tcGFyYXRvci50ZXN0JywgdmVyc2lvbiwgdGhpcy5vcHRpb25zLmxvb3NlKTsKCgkgIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKSB7CgkgICAgcmV0dXJuIHRydWUKCSAgfQoKCSAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykgewoJICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMub3B0aW9ucyk7CgkgIH0KCgkgIHJldHVybiBjbXAodmVyc2lvbiwgdGhpcy5vcGVyYXRvciwgdGhpcy5zZW12ZXIsIHRoaXMub3B0aW9ucykKCX07CgoJQ29tcGFyYXRvci5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChjb21wLCBvcHRpb25zKSB7CgkgIGlmICghKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSkgewoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgQ29tcGFyYXRvciBpcyByZXF1aXJlZCcpCgkgIH0KCgkgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHsKCSAgICBvcHRpb25zID0gewoJICAgICAgbG9vc2U6ICEhb3B0aW9ucywKCSAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZQoJICAgIH07CgkgIH0KCgkgIHZhciByYW5nZVRtcDsKCgkgIGlmICh0aGlzLm9wZXJhdG9yID09PSAnJykgewoJICAgIHJhbmdlVG1wID0gbmV3IFJhbmdlKGNvbXAudmFsdWUsIG9wdGlvbnMpOwoJICAgIHJldHVybiBzYXRpc2ZpZXModGhpcy52YWx1ZSwgcmFuZ2VUbXAsIG9wdGlvbnMpCgkgIH0gZWxzZSBpZiAoY29tcC5vcGVyYXRvciA9PT0gJycpIHsKCSAgICByYW5nZVRtcCA9IG5ldyBSYW5nZSh0aGlzLnZhbHVlLCBvcHRpb25zKTsKCSAgICByZXR1cm4gc2F0aXNmaWVzKGNvbXAuc2VtdmVyLCByYW5nZVRtcCwgb3B0aW9ucykKCSAgfQoKCSAgdmFyIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nID0KCSAgICAodGhpcy5vcGVyYXRvciA9PT0gJz49JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPicpICYmCgkgICAgKGNvbXAub3BlcmF0b3IgPT09ICc+PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJz4nKTsKCSAgdmFyIHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nID0KCSAgICAodGhpcy5vcGVyYXRvciA9PT0gJzw9JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPCcpICYmCgkgICAgKGNvbXAub3BlcmF0b3IgPT09ICc8PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzwnKTsKCSAgdmFyIHNhbWVTZW1WZXIgPSB0aGlzLnNlbXZlci52ZXJzaW9uID09PSBjb21wLnNlbXZlci52ZXJzaW9uOwoJICB2YXIgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSA9CgkgICAgKHRoaXMub3BlcmF0b3IgPT09ICc+PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJzw9JykgJiYKCSAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPD0nKTsKCSAgdmFyIG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuID0KCSAgICBjbXAodGhpcy5zZW12ZXIsICc8JywgY29tcC5zZW12ZXIsIG9wdGlvbnMpICYmCgkgICAgKCh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiYKCSAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpKTsKCSAgdmFyIG9wcG9zaXRlRGlyZWN0aW9uc0dyZWF0ZXJUaGFuID0KCSAgICBjbXAodGhpcy5zZW12ZXIsICc+JywgY29tcC5zZW12ZXIsIG9wdGlvbnMpICYmCgkgICAgKCh0aGlzLm9wZXJhdG9yID09PSAnPD0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8JykgJiYKCSAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPicpKTsKCgkgIHJldHVybiBzYW1lRGlyZWN0aW9uSW5jcmVhc2luZyB8fCBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyB8fAoJICAgIChzYW1lU2VtVmVyICYmIGRpZmZlcmVudERpcmVjdGlvbnNJbmNsdXNpdmUpIHx8CgkgICAgb3Bwb3NpdGVEaXJlY3Rpb25zTGVzc1RoYW4gfHwgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW4KCX07CgoJZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoJZnVuY3Rpb24gUmFuZ2UgKHJhbmdlLCBvcHRpb25zKSB7CgkgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHsKCSAgICBvcHRpb25zID0gewoJICAgICAgbG9vc2U6ICEhb3B0aW9ucywKCSAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZQoJICAgIH07CgkgIH0KCgkgIGlmIChyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSB7CgkgICAgaWYgKHJhbmdlLmxvb3NlID09PSAhIW9wdGlvbnMubG9vc2UgJiYKCSAgICAgICAgcmFuZ2UuaW5jbHVkZVByZXJlbGVhc2UgPT09ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkgewoJICAgICAgcmV0dXJuIHJhbmdlCgkgICAgfSBlbHNlIHsKCSAgICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2UucmF3LCBvcHRpb25zKQoJICAgIH0KCSAgfQoKCSAgaWYgKHJhbmdlIGluc3RhbmNlb2YgQ29tcGFyYXRvcikgewoJICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2UudmFsdWUsIG9wdGlvbnMpCgkgIH0KCgkgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHsKCSAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKQoJICB9CgoJICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoJICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlOwoJICB0aGlzLmluY2x1ZGVQcmVyZWxlYXNlID0gISFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlOwoKCSAgLy8gRmlyc3QsIHNwbGl0IGJhc2VkIG9uIGJvb2xlYW4gb3IgfHwKCSAgdGhpcy5yYXcgPSByYW5nZTsKCSAgdGhpcy5zZXQgPSByYW5nZS5zcGxpdCgvXHMqXHxcfFxzKi8pLm1hcChmdW5jdGlvbiAocmFuZ2UpIHsKCSAgICByZXR1cm4gdGhpcy5wYXJzZVJhbmdlKHJhbmdlLnRyaW0oKSkKCSAgfSwgdGhpcykuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CgkgICAgLy8gdGhyb3cgb3V0IGFueSB0aGF0IGFyZSBub3QgcmVsZXZhbnQgZm9yIHdoYXRldmVyIHJlYXNvbgoJICAgIHJldHVybiBjLmxlbmd0aAoJICB9KTsKCgkgIGlmICghdGhpcy5zZXQubGVuZ3RoKSB7CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBTZW1WZXIgUmFuZ2U6ICcgKyByYW5nZSkKCSAgfQoKCSAgdGhpcy5mb3JtYXQoKTsKCX0KCglSYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICB0aGlzLnJhbmdlID0gdGhpcy5zZXQubWFwKGZ1bmN0aW9uIChjb21wcykgewoJICAgIHJldHVybiBjb21wcy5qb2luKCcgJykudHJpbSgpCgkgIH0pLmpvaW4oJ3x8JykudHJpbSgpOwoJICByZXR1cm4gdGhpcy5yYW5nZQoJfTsKCglSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgIHJldHVybiB0aGlzLnJhbmdlCgl9OwoKCVJhbmdlLnByb3RvdHlwZS5wYXJzZVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CgkgIHZhciBsb29zZSA9IHRoaXMub3B0aW9ucy5sb29zZTsKCSAgcmFuZ2UgPSByYW5nZS50cmltKCk7CgkgIC8vIGAxLjIuMyAtIDEuMi40YCA9PiBgPj0xLjIuMyA8PTEuMi40YAoJICB2YXIgaHIgPSBsb29zZSA/IHJlW0hZUEhFTlJBTkdFTE9PU0VdIDogcmVbSFlQSEVOUkFOR0VdOwoJICByYW5nZSA9IHJhbmdlLnJlcGxhY2UoaHIsIGh5cGhlblJlcGxhY2UpOwoJICBkZWJ1ZygnaHlwaGVuIHJlcGxhY2UnLCByYW5nZSk7CgkgIC8vIGA+IDEuMi4zIDwgMS4yLjVgID0+IGA+MS4yLjMgPDEuMi41YAoJICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbQ09NUEFSQVRPUlRSSU1dLCBjb21wYXJhdG9yVHJpbVJlcGxhY2UpOwoJICBkZWJ1ZygnY29tcGFyYXRvciB0cmltJywgcmFuZ2UsIHJlW0NPTVBBUkFUT1JUUklNXSk7CgoJICAvLyBgfiAxLjIuM2AgPT4gYH4xLjIuM2AKCSAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW1RJTERFVFJJTV0sIHRpbGRlVHJpbVJlcGxhY2UpOwoKCSAgLy8gYF4gMS4yLjNgID0+IGBeMS4yLjNgCgkgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVtDQVJFVFRSSU1dLCBjYXJldFRyaW1SZXBsYWNlKTsKCgkgIC8vIG5vcm1hbGl6ZSBzcGFjZXMKCSAgcmFuZ2UgPSByYW5nZS5zcGxpdCgvXHMrLykuam9pbignICcpOwoKCSAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJhbmdlIGlzIGNvbXBsZXRlbHkgdHJpbW1lZCBhbmQKCSAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy4KCgkgIHZhciBjb21wUmUgPSBsb29zZSA/IHJlW0NPTVBBUkFUT1JMT09TRV0gOiByZVtDT01QQVJBVE9SXTsKCSAgdmFyIHNldCA9IHJhbmdlLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uIChjb21wKSB7CgkgICAgcmV0dXJuIHBhcnNlQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpCgkgIH0sIHRoaXMpLmpvaW4oJyAnKS5zcGxpdCgvXHMrLyk7CgkgIGlmICh0aGlzLm9wdGlvbnMubG9vc2UpIHsKCSAgICAvLyBpbiBsb29zZSBtb2RlLCB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCB2YWxpZCBjb21wYXJhdG9ycwoJICAgIHNldCA9IHNldC5maWx0ZXIoZnVuY3Rpb24gKGNvbXApIHsKCSAgICAgIHJldHVybiAhIWNvbXAubWF0Y2goY29tcFJlKQoJICAgIH0pOwoJICB9CgkgIHNldCA9IHNldC5tYXAoZnVuY3Rpb24gKGNvbXApIHsKCSAgICByZXR1cm4gbmV3IENvbXBhcmF0b3IoY29tcCwgdGhpcy5vcHRpb25zKQoJICB9LCB0aGlzKTsKCgkgIHJldHVybiBzZXQKCX07CgoJUmFuZ2UucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiAocmFuZ2UsIG9wdGlvbnMpIHsKCSAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpIHsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIFJhbmdlIGlzIHJlcXVpcmVkJykKCSAgfQoKCSAgcmV0dXJuIHRoaXMuc2V0LnNvbWUoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9ycykgewoJICAgIHJldHVybiB0aGlzQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9yKSB7CgkgICAgICByZXR1cm4gcmFuZ2Uuc2V0LnNvbWUoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcnMpIHsKCSAgICAgICAgcmV0dXJuIHJhbmdlQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcikgewoJICAgICAgICAgIHJldHVybiB0aGlzQ29tcGFyYXRvci5pbnRlcnNlY3RzKHJhbmdlQ29tcGFyYXRvciwgb3B0aW9ucykKCSAgICAgICAgfSkKCSAgICAgIH0pCgkgICAgfSkKCSAgfSkKCX07CgoJLy8gTW9zdGx5IGp1c3QgZm9yIHRlc3RpbmcgYW5kIGxlZ2FjeSBBUEkgcmVhc29ucwoJZXhwb3J0cy50b0NvbXBhcmF0b3JzID0gdG9Db21wYXJhdG9yczsKCWZ1bmN0aW9uIHRvQ29tcGFyYXRvcnMgKHJhbmdlLCBvcHRpb25zKSB7CgkgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpLnNldC5tYXAoZnVuY3Rpb24gKGNvbXApIHsKCSAgICByZXR1cm4gY29tcC5tYXAoZnVuY3Rpb24gKGMpIHsKCSAgICAgIHJldHVybiBjLnZhbHVlCgkgICAgfSkuam9pbignICcpLnRyaW0oKS5zcGxpdCgnICcpCgkgIH0pCgl9CgoJLy8gY29tcHJpc2VkIG9mIHhyYW5nZXMsIHRpbGRlcywgc3RhcnMsIGFuZCBndGx0J3MgYXQgdGhpcyBwb2ludC4KCS8vIGFscmVhZHkgcmVwbGFjZWQgdGhlIGh5cGhlbiByYW5nZXMKCS8vIHR1cm4gaW50byBhIHNldCBvZiBKVVNUIGNvbXBhcmF0b3JzLgoJZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yIChjb21wLCBvcHRpb25zKSB7CgkgIGRlYnVnKCdjb21wJywgY29tcCwgb3B0aW9ucyk7CgkgIGNvbXAgPSByZXBsYWNlQ2FyZXRzKGNvbXAsIG9wdGlvbnMpOwoJICBkZWJ1ZygnY2FyZXQnLCBjb21wKTsKCSAgY29tcCA9IHJlcGxhY2VUaWxkZXMoY29tcCwgb3B0aW9ucyk7CgkgIGRlYnVnKCd0aWxkZXMnLCBjb21wKTsKCSAgY29tcCA9IHJlcGxhY2VYUmFuZ2VzKGNvbXAsIG9wdGlvbnMpOwoJICBkZWJ1ZygneHJhbmdlJywgY29tcCk7CgkgIGNvbXAgPSByZXBsYWNlU3RhcnMoY29tcCwgb3B0aW9ucyk7CgkgIGRlYnVnKCdzdGFycycsIGNvbXApOwoJICByZXR1cm4gY29tcAoJfQoKCWZ1bmN0aW9uIGlzWCAoaWQpIHsKCSAgcmV0dXJuICFpZCB8fCBpZC50b0xvd2VyQ2FzZSgpID09PSAneCcgfHwgaWQgPT09ICcqJwoJfQoKCS8vIH4sIH4+IC0tPiAqIChhbnksIGtpbmRhIHNpbGx5KQoJLy8gfjIsIH4yLngsIH4yLngueCwgfj4yLCB+PjIueCB+PjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMAoJLy8gfjIuMCwgfjIuMC54LCB+PjIuMCwgfj4yLjAueCAtLT4gPj0yLjAuMCA8Mi4xLjAKCS8vIH4xLjIsIH4xLjIueCwgfj4xLjIsIH4+MS4yLnggLS0+ID49MS4yLjAgPDEuMy4wCgkvLyB+MS4yLjMsIH4+MS4yLjMgLS0+ID49MS4yLjMgPDEuMy4wCgkvLyB+MS4yLjAsIH4+MS4yLjAgLS0+ID49MS4yLjAgPDEuMy4wCglmdW5jdGlvbiByZXBsYWNlVGlsZGVzIChjb21wLCBvcHRpb25zKSB7CgkgIHJldHVybiBjb21wLnRyaW0oKS5zcGxpdCgvXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7CgkgICAgcmV0dXJuIHJlcGxhY2VUaWxkZShjb21wLCBvcHRpb25zKQoJICB9KS5qb2luKCcgJykKCX0KCglmdW5jdGlvbiByZXBsYWNlVGlsZGUgKGNvbXAsIG9wdGlvbnMpIHsKCSAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbVElMREVMT09TRV0gOiByZVtUSUxERV07CgkgIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24gKF8sIE0sIG0sIHAsIHByKSB7CgkgICAgZGVidWcoJ3RpbGRlJywgY29tcCwgXywgTSwgbSwgcCwgcHIpOwoJICAgIHZhciByZXQ7CgoJICAgIGlmIChpc1goTSkpIHsKCSAgICAgIHJldCA9ICcnOwoJICAgIH0gZWxzZSBpZiAoaXNYKG0pKSB7CgkgICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7CgkgICAgfSBlbHNlIGlmIChpc1gocCkpIHsKCSAgICAgIC8vIH4xLjIgPT0gPj0xLjIuMCA8MS4zLjAKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCc7CgkgICAgfSBlbHNlIGlmIChwcikgewoJICAgICAgZGVidWcoJ3JlcGxhY2VUaWxkZSBwcicsIHByKTsKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArCgkgICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJzsKCSAgICB9IGVsc2UgewoJICAgICAgLy8gfjEuMi4zID09ID49MS4yLjMgPDEuMy4wCgkgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsKCSAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgIH0KCgkgICAgZGVidWcoJ3RpbGRlIHJldHVybicsIHJldCk7CgkgICAgcmV0dXJuIHJldAoJICB9KQoJfQoKCS8vIF4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpCgkvLyBeMiwgXjIueCwgXjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMAoJLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMAoJLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMAoJLy8gXjEuMi4zIC0tPiA+PTEuMi4zIDwyLjAuMAoJLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMAoJZnVuY3Rpb24gcmVwbGFjZUNhcmV0cyAoY29tcCwgb3B0aW9ucykgewoJICByZXR1cm4gY29tcC50cmltKCkuc3BsaXQoL1xzKy8pLm1hcChmdW5jdGlvbiAoY29tcCkgewoJICAgIHJldHVybiByZXBsYWNlQ2FyZXQoY29tcCwgb3B0aW9ucykKCSAgfSkuam9pbignICcpCgl9CgoJZnVuY3Rpb24gcmVwbGFjZUNhcmV0IChjb21wLCBvcHRpb25zKSB7CgkgIGRlYnVnKCdjYXJldCcsIGNvbXAsIG9wdGlvbnMpOwoJICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtDQVJFVExPT1NFXSA6IHJlW0NBUkVUXTsKCSAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAoXywgTSwgbSwgcCwgcHIpIHsKCSAgICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBfLCBNLCBtLCBwLCBwcik7CgkgICAgdmFyIHJldDsKCgkgICAgaWYgKGlzWChNKSkgewoJICAgICAgcmV0ID0gJyc7CgkgICAgfSBlbHNlIGlmIChpc1gobSkpIHsKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJzsKCSAgICB9IGVsc2UgaWYgKGlzWChwKSkgewoJICAgICAgaWYgKE0gPT09ICcwJykgewoJICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7CgkgICAgICB9CgkgICAgfSBlbHNlIGlmIChwcikgewoJICAgICAgZGVidWcoJ3JlcGxhY2VDYXJldCBwcicsIHByKTsKCSAgICAgIGlmIChNID09PSAnMCcpIHsKCSAgICAgICAgaWYgKG0gPT09ICcwJykgewoJICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArCgkgICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSk7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArICctJyArIHByICsKCSAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJzsKCSAgICAgICAgfQoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArICctJyArIHByICsKCSAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnOwoJICAgICAgfQoJICAgIH0gZWxzZSB7CgkgICAgICBkZWJ1Zygnbm8gcHInKTsKCSAgICAgIGlmIChNID09PSAnMCcpIHsKCSAgICAgICAgaWYgKG0gPT09ICcwJykgewoJICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKwoJICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgbSArICcuJyArICgrcCArIDEpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKwoJICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgICAgICB9CgkgICAgICB9IGVsc2UgewoJICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsKCSAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnOwoJICAgICAgfQoJICAgIH0KCgkgICAgZGVidWcoJ2NhcmV0IHJldHVybicsIHJldCk7CgkgICAgcmV0dXJuIHJldAoJICB9KQoJfQoKCWZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2VzIChjb21wLCBvcHRpb25zKSB7CgkgIGRlYnVnKCdyZXBsYWNlWFJhbmdlcycsIGNvbXAsIG9wdGlvbnMpOwoJICByZXR1cm4gY29tcC5zcGxpdCgvXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7CgkgICAgcmV0dXJuIHJlcGxhY2VYUmFuZ2UoY29tcCwgb3B0aW9ucykKCSAgfSkuam9pbignICcpCgl9CgoJZnVuY3Rpb24gcmVwbGFjZVhSYW5nZSAoY29tcCwgb3B0aW9ucykgewoJICBjb21wID0gY29tcC50cmltKCk7CgkgIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1hSQU5HRUxPT1NFXSA6IHJlW1hSQU5HRV07CgkgIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24gKHJldCwgZ3RsdCwgTSwgbSwgcCwgcHIpIHsKCSAgICBkZWJ1ZygneFJhbmdlJywgY29tcCwgcmV0LCBndGx0LCBNLCBtLCBwLCBwcik7CgkgICAgdmFyIHhNID0gaXNYKE0pOwoJICAgIHZhciB4bSA9IHhNIHx8IGlzWChtKTsKCSAgICB2YXIgeHAgPSB4bSB8fCBpc1gocCk7CgkgICAgdmFyIGFueVggPSB4cDsKCgkgICAgaWYgKGd0bHQgPT09ICc9JyAmJiBhbnlYKSB7CgkgICAgICBndGx0ID0gJyc7CgkgICAgfQoKCSAgICBpZiAoeE0pIHsKCSAgICAgIGlmIChndGx0ID09PSAnPicgfHwgZ3RsdCA9PT0gJzwnKSB7CgkgICAgICAgIC8vIG5vdGhpbmcgaXMgYWxsb3dlZAoJICAgICAgICByZXQgPSAnPDAuMC4wJzsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIC8vIG5vdGhpbmcgaXMgZm9yYmlkZGVuCgkgICAgICAgIHJldCA9ICcqJzsKCSAgICAgIH0KCSAgICB9IGVsc2UgaWYgKGd0bHQgJiYgYW55WCkgewoJICAgICAgLy8gd2Uga25vdyBwYXRjaCBpcyBhbiB4LCBiZWNhdXNlIHdlIGhhdmUgYW55IHggYXQgYWxsLgoJICAgICAgLy8gcmVwbGFjZSBYIHdpdGggMAoJICAgICAgaWYgKHhtKSB7CgkgICAgICAgIG0gPSAwOwoJICAgICAgfQoJICAgICAgcCA9IDA7CgoJICAgICAgaWYgKGd0bHQgPT09ICc+JykgewoJICAgICAgICAvLyA+MSA9PiA+PTIuMC4wCgkgICAgICAgIC8vID4xLjIgPT4gPj0xLjMuMAoJICAgICAgICAvLyA+MS4yLjMgPT4gPj0gMS4yLjQKCSAgICAgICAgZ3RsdCA9ICc+PSc7CgkgICAgICAgIGlmICh4bSkgewoJICAgICAgICAgIE0gPSArTSArIDE7CgkgICAgICAgICAgbSA9IDA7CgkgICAgICAgICAgcCA9IDA7CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgbSA9ICttICsgMTsKCSAgICAgICAgICBwID0gMDsKCSAgICAgICAgfQoJICAgICAgfSBlbHNlIGlmIChndGx0ID09PSAnPD0nKSB7CgkgICAgICAgIC8vIDw9MC43LnggaXMgYWN0dWFsbHkgPDAuOC4wLCBzaW5jZSBhbnkgMC43Lnggc2hvdWxkCgkgICAgICAgIC8vIHBhc3MuICBTaW1pbGFybHksIDw9Ny54IGlzIGFjdHVhbGx5IDw4LjAuMCwgZXRjLgoJICAgICAgICBndGx0ID0gJzwnOwoJICAgICAgICBpZiAoeG0pIHsKCSAgICAgICAgICBNID0gK00gKyAxOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIG0gPSArbSArIDE7CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICByZXQgPSBndGx0ICsgTSArICcuJyArIG0gKyAnLicgKyBwOwoJICAgIH0gZWxzZSBpZiAoeG0pIHsKCSAgICAgIHJldCA9ICc+PScgKyBNICsgJy4wLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJzsKCSAgICB9IGVsc2UgaWYgKHhwKSB7CgkgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnOwoJICAgIH0KCgkgICAgZGVidWcoJ3hSYW5nZSByZXR1cm4nLCByZXQpOwoKCSAgICByZXR1cm4gcmV0CgkgIH0pCgl9CgoJLy8gQmVjYXVzZSAqIGlzIEFORC1lZCB3aXRoIGV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgY29tcGFyYXRvciwKCS8vIGFuZCAnJyBtZWFucyAiYW55IHZlcnNpb24iLCBqdXN0IHJlbW92ZSB0aGUgKnMgZW50aXJlbHkuCglmdW5jdGlvbiByZXBsYWNlU3RhcnMgKGNvbXAsIG9wdGlvbnMpIHsKCSAgZGVidWcoJ3JlcGxhY2VTdGFycycsIGNvbXAsIG9wdGlvbnMpOwoJICAvLyBMb29zZW5lc3MgaXMgaWdub3JlZCBoZXJlLiAgc3RhciBpcyBhbHdheXMgYXMgbG9vc2UgYXMgaXQgZ2V0cyEKCSAgcmV0dXJuIGNvbXAudHJpbSgpLnJlcGxhY2UocmVbU1RBUl0sICcnKQoJfQoKCS8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIHRvIHN0cmluZy5yZXBsYWNlKHJlW0hZUEhFTlJBTkdFXSkKCS8vIE0sIG0sIHBhdGNoLCBwcmVyZWxlYXNlLCBidWlsZAoJLy8gMS4yIC0gMy40LjUgPT4gPj0xLjIuMCA8PTMuNC41CgkvLyAxLjIuMyAtIDMuNCA9PiA+PTEuMi4wIDwzLjUuMCBBbnkgMy40Lnggd2lsbCBkbwoJLy8gMS4yIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wCglmdW5jdGlvbiBoeXBoZW5SZXBsYWNlICgkMCwKCSAgZnJvbSwgZk0sIGZtLCBmcCwgZnByLCBmYiwKCSAgdG8sIHRNLCB0bSwgdHAsIHRwciwgdGIpIHsKCSAgaWYgKGlzWChmTSkpIHsKCSAgICBmcm9tID0gJyc7CgkgIH0gZWxzZSBpZiAoaXNYKGZtKSkgewoJICAgIGZyb20gPSAnPj0nICsgZk0gKyAnLjAuMCc7CgkgIH0gZWxzZSBpZiAoaXNYKGZwKSkgewoJICAgIGZyb20gPSAnPj0nICsgZk0gKyAnLicgKyBmbSArICcuMCc7CgkgIH0gZWxzZSB7CgkgICAgZnJvbSA9ICc+PScgKyBmcm9tOwoJICB9CgoJICBpZiAoaXNYKHRNKSkgewoJICAgIHRvID0gJyc7CgkgIH0gZWxzZSBpZiAoaXNYKHRtKSkgewoJICAgIHRvID0gJzwnICsgKCt0TSArIDEpICsgJy4wLjAnOwoJICB9IGVsc2UgaWYgKGlzWCh0cCkpIHsKCSAgICB0byA9ICc8JyArIHRNICsgJy4nICsgKCt0bSArIDEpICsgJy4wJzsKCSAgfSBlbHNlIGlmICh0cHIpIHsKCSAgICB0byA9ICc8PScgKyB0TSArICcuJyArIHRtICsgJy4nICsgdHAgKyAnLScgKyB0cHI7CgkgIH0gZWxzZSB7CgkgICAgdG8gPSAnPD0nICsgdG87CgkgIH0KCgkgIHJldHVybiAoZnJvbSArICcgJyArIHRvKS50cmltKCkKCX0KCgkvLyBpZiBBTlkgb2YgdGhlIHNldHMgbWF0Y2ggQUxMIG9mIGl0cyBjb21wYXJhdG9ycywgdGhlbiBwYXNzCglSYW5nZS5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7CgkgIGlmICghdmVyc2lvbikgewoJICAgIHJldHVybiBmYWxzZQoJICB9CgoJICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnKSB7CgkgICAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgdGhpcy5vcHRpb25zKTsKCSAgfQoKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7IGkrKykgewoJICAgIGlmICh0ZXN0U2V0KHRoaXMuc2V0W2ldLCB2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpKSB7CgkgICAgICByZXR1cm4gdHJ1ZQoJICAgIH0KCSAgfQoJICByZXR1cm4gZmFsc2UKCX07CgoJZnVuY3Rpb24gdGVzdFNldCAoc2V0LCB2ZXJzaW9uLCBvcHRpb25zKSB7CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7CgkgICAgaWYgKCFzZXRbaV0udGVzdCh2ZXJzaW9uKSkgewoJICAgICAgcmV0dXJuIGZhbHNlCgkgICAgfQoJICB9CgoJICBpZiAodmVyc2lvbi5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkgewoJICAgIC8vIEZpbmQgdGhlIHNldCBvZiB2ZXJzaW9ucyB0aGF0IGFyZSBhbGxvd2VkIHRvIGhhdmUgcHJlcmVsZWFzZXMKCSAgICAvLyBGb3IgZXhhbXBsZSwgXjEuMi4zLXByLjEgZGVzdWdhcnMgdG8gPj0xLjIuMy1wci4xIDwyLjAuMAoJICAgIC8vIFRoYXQgc2hvdWxkIGFsbG93IGAxLjIuMy1wci4yYCB0byBwYXNzLgoJICAgIC8vIEhvd2V2ZXIsIGAxLjIuNC1hbHBoYS5ub3RyZWFkeWAgc2hvdWxkIE5PVCBiZSBhbGxvd2VkLAoJICAgIC8vIGV2ZW4gdGhvdWdoIGl0J3Mgd2l0aGluIHRoZSByYW5nZSBzZXQgYnkgdGhlIGNvbXBhcmF0b3JzLgoJICAgIGZvciAoaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHsKCSAgICAgIGRlYnVnKHNldFtpXS5zZW12ZXIpOwoJICAgICAgaWYgKHNldFtpXS5zZW12ZXIgPT09IEFOWSkgewoJICAgICAgICBjb250aW51ZQoJICAgICAgfQoKCSAgICAgIGlmIChzZXRbaV0uc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoID4gMCkgewoJICAgICAgICB2YXIgYWxsb3dlZCA9IHNldFtpXS5zZW12ZXI7CgkgICAgICAgIGlmIChhbGxvd2VkLm1ham9yID09PSB2ZXJzaW9uLm1ham9yICYmCgkgICAgICAgICAgICBhbGxvd2VkLm1pbm9yID09PSB2ZXJzaW9uLm1pbm9yICYmCgkgICAgICAgICAgICBhbGxvd2VkLnBhdGNoID09PSB2ZXJzaW9uLnBhdGNoKSB7CgkgICAgICAgICAgcmV0dXJuIHRydWUKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0KCgkgICAgLy8gVmVyc2lvbiBoYXMgYSAtcHJlLCBidXQgaXQncyBub3Qgb25lIG9mIHRoZSBvbmVzIHdlIGxpa2UuCgkgICAgcmV0dXJuIGZhbHNlCgkgIH0KCgkgIHJldHVybiB0cnVlCgl9CgoJZXhwb3J0cy5zYXRpc2ZpZXMgPSBzYXRpc2ZpZXM7CglmdW5jdGlvbiBzYXRpc2ZpZXMgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7CgkgIHRyeSB7CgkgICAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpOwoJICB9IGNhdGNoIChlcikgewoJICAgIHJldHVybiBmYWxzZQoJICB9CgkgIHJldHVybiByYW5nZS50ZXN0KHZlcnNpb24pCgl9CgoJZXhwb3J0cy5tYXhTYXRpc2Z5aW5nID0gbWF4U2F0aXNmeWluZzsKCWZ1bmN0aW9uIG1heFNhdGlzZnlpbmcgKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykgewoJICB2YXIgbWF4ID0gbnVsbDsKCSAgdmFyIG1heFNWID0gbnVsbDsKCSAgdHJ5IHsKCSAgICB2YXIgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpOwoJICB9IGNhdGNoIChlcikgewoJICAgIHJldHVybiBudWxsCgkgIH0KCSAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodikgewoJICAgIGlmIChyYW5nZU9iai50ZXN0KHYpKSB7CgkgICAgICAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpCgkgICAgICBpZiAoIW1heCB8fCBtYXhTVi5jb21wYXJlKHYpID09PSAtMSkgewoJICAgICAgICAvLyBjb21wYXJlKG1heCwgdiwgdHJ1ZSkKCSAgICAgICAgbWF4ID0gdjsKCSAgICAgICAgbWF4U1YgPSBuZXcgU2VtVmVyKG1heCwgb3B0aW9ucyk7CgkgICAgICB9CgkgICAgfQoJICB9KTsKCSAgcmV0dXJuIG1heAoJfQoKCWV4cG9ydHMubWluU2F0aXNmeWluZyA9IG1pblNhdGlzZnlpbmc7CglmdW5jdGlvbiBtaW5TYXRpc2Z5aW5nICh2ZXJzaW9ucywgcmFuZ2UsIG9wdGlvbnMpIHsKCSAgdmFyIG1pbiA9IG51bGw7CgkgIHZhciBtaW5TViA9IG51bGw7CgkgIHRyeSB7CgkgICAgdmFyIHJhbmdlT2JqID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKTsKCSAgfSBjYXRjaCAoZXIpIHsKCSAgICByZXR1cm4gbnVsbAoJICB9CgkgIHZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKCSAgICBpZiAocmFuZ2VPYmoudGVzdCh2KSkgewoJICAgICAgLy8gc2F0aXNmaWVzKHYsIHJhbmdlLCBvcHRpb25zKQoJICAgICAgaWYgKCFtaW4gfHwgbWluU1YuY29tcGFyZSh2KSA9PT0gMSkgewoJICAgICAgICAvLyBjb21wYXJlKG1pbiwgdiwgdHJ1ZSkKCSAgICAgICAgbWluID0gdjsKCSAgICAgICAgbWluU1YgPSBuZXcgU2VtVmVyKG1pbiwgb3B0aW9ucyk7CgkgICAgICB9CgkgICAgfQoJICB9KTsKCSAgcmV0dXJuIG1pbgoJfQoKCWV4cG9ydHMubWluVmVyc2lvbiA9IG1pblZlcnNpb247CglmdW5jdGlvbiBtaW5WZXJzaW9uIChyYW5nZSwgbG9vc2UpIHsKCSAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIGxvb3NlKTsKCgkgIHZhciBtaW52ZXIgPSBuZXcgU2VtVmVyKCcwLjAuMCcpOwoJICBpZiAocmFuZ2UudGVzdChtaW52ZXIpKSB7CgkgICAgcmV0dXJuIG1pbnZlcgoJICB9CgoJICBtaW52ZXIgPSBuZXcgU2VtVmVyKCcwLjAuMC0wJyk7CgkgIGlmIChyYW5nZS50ZXN0KG1pbnZlcikpIHsKCSAgICByZXR1cm4gbWludmVyCgkgIH0KCgkgIG1pbnZlciA9IG51bGw7CgkgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7CgkgICAgdmFyIGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldOwoKCSAgICBjb21wYXJhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wYXJhdG9yKSB7CgkgICAgICAvLyBDbG9uZSB0byBhdm9pZCBtYW5pcHVsYXRpbmcgdGhlIGNvbXBhcmF0b3IncyBzZW12ZXIgb2JqZWN0LgoJICAgICAgdmFyIGNvbXB2ZXIgPSBuZXcgU2VtVmVyKGNvbXBhcmF0b3Iuc2VtdmVyLnZlcnNpb24pOwoJICAgICAgc3dpdGNoIChjb21wYXJhdG9yLm9wZXJhdG9yKSB7CgkgICAgICAgIGNhc2UgJz4nOgoJICAgICAgICAgIGlmIChjb21wdmVyLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7CgkgICAgICAgICAgICBjb21wdmVyLnBhdGNoKys7CgkgICAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAgIGNvbXB2ZXIucHJlcmVsZWFzZS5wdXNoKDApOwoJICAgICAgICAgIH0KCSAgICAgICAgICBjb21wdmVyLnJhdyA9IGNvbXB2ZXIuZm9ybWF0KCk7CgkgICAgICAgICAgLyogZmFsbHRocm91Z2ggKi8KCSAgICAgICAgY2FzZSAnJzoKCSAgICAgICAgY2FzZSAnPj0nOgoJICAgICAgICAgIGlmICghbWludmVyIHx8IGd0KG1pbnZlciwgY29tcHZlcikpIHsKCSAgICAgICAgICAgIG1pbnZlciA9IGNvbXB2ZXI7CgkgICAgICAgICAgfQoJICAgICAgICAgIGJyZWFrCgkgICAgICAgIGNhc2UgJzwnOgoJICAgICAgICBjYXNlICc8PSc6CgkgICAgICAgICAgLyogSWdub3JlIG1heGltdW0gdmVyc2lvbnMgKi8KCSAgICAgICAgICBicmVhawoJICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoJICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBvcGVyYXRpb246ICcgKyBjb21wYXJhdG9yLm9wZXJhdG9yKQoJICAgICAgfQoJICAgIH0pOwoJICB9CgoJICBpZiAobWludmVyICYmIHJhbmdlLnRlc3QobWludmVyKSkgewoJICAgIHJldHVybiBtaW52ZXIKCSAgfQoKCSAgcmV0dXJuIG51bGwKCX0KCglleHBvcnRzLnZhbGlkUmFuZ2UgPSB2YWxpZFJhbmdlOwoJZnVuY3Rpb24gdmFsaWRSYW5nZSAocmFuZ2UsIG9wdGlvbnMpIHsKCSAgdHJ5IHsKCSAgICAvLyBSZXR1cm4gJyonIGluc3RlYWQgb2YgJycgc28gdGhhdCB0cnV0aGluZXNzIHdvcmtzLgoJICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBpZiBpdCdzIGludmFsaWQgYW55d2F5CgkgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykucmFuZ2UgfHwgJyonCgkgIH0gY2F0Y2ggKGVyKSB7CgkgICAgcmV0dXJuIG51bGwKCSAgfQoJfQoKCS8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGxlc3MgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZQoJZXhwb3J0cy5sdHIgPSBsdHI7CglmdW5jdGlvbiBsdHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7CgkgIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPCcsIG9wdGlvbnMpCgl9CgoJLy8gRGV0ZXJtaW5lIGlmIHZlcnNpb24gaXMgZ3JlYXRlciB0aGFuIGFsbCB0aGUgdmVyc2lvbnMgcG9zc2libGUgaW4gdGhlIHJhbmdlLgoJZXhwb3J0cy5ndHIgPSBndHI7CglmdW5jdGlvbiBndHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7CgkgIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPicsIG9wdGlvbnMpCgl9CgoJZXhwb3J0cy5vdXRzaWRlID0gb3V0c2lkZTsKCWZ1bmN0aW9uIG91dHNpZGUgKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBvcHRpb25zKSB7CgkgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpOwoJICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucyk7CgoJICB2YXIgZ3RmbiwgbHRlZm4sIGx0Zm4sIGNvbXAsIGVjb21wOwoJICBzd2l0Y2ggKGhpbG8pIHsKCSAgICBjYXNlICc+JzoKCSAgICAgIGd0Zm4gPSBndDsKCSAgICAgIGx0ZWZuID0gbHRlOwoJICAgICAgbHRmbiA9IGx0OwoJICAgICAgY29tcCA9ICc+JzsKCSAgICAgIGVjb21wID0gJz49JzsKCSAgICAgIGJyZWFrCgkgICAgY2FzZSAnPCc6CgkgICAgICBndGZuID0gbHQ7CgkgICAgICBsdGVmbiA9IGd0ZTsKCSAgICAgIGx0Zm4gPSBndDsKCSAgICAgIGNvbXAgPSAnPCc7CgkgICAgICBlY29tcCA9ICc8PSc7CgkgICAgICBicmVhawoJICAgIGRlZmF1bHQ6CgkgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiAiPCIgb3IgIj4iJykKCSAgfQoKCSAgLy8gSWYgaXQgc2F0aXNpZmVzIHRoZSByYW5nZSBpdCBpcyBub3Qgb3V0c2lkZQoJICBpZiAoc2F0aXNmaWVzKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSkgewoJICAgIHJldHVybiBmYWxzZQoJICB9CgoJICAvLyBGcm9tIG5vdyBvbiwgdmFyaWFibGUgdGVybXMgYXJlIGFzIGlmIHdlJ3JlIGluICJndHIiIG1vZGUuCgkgIC8vIGJ1dCBub3RlIHRoYXQgZXZlcnl0aGluZyBpcyBmbGlwcGVkIGZvciB0aGUgImx0ciIgZnVuY3Rpb24uCgoJICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlLnNldC5sZW5ndGg7ICsraSkgewoJICAgIHZhciBjb21wYXJhdG9ycyA9IHJhbmdlLnNldFtpXTsKCgkgICAgdmFyIGhpZ2ggPSBudWxsOwoJICAgIHZhciBsb3cgPSBudWxsOwoKCSAgICBjb21wYXJhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wYXJhdG9yKSB7CgkgICAgICBpZiAoY29tcGFyYXRvci5zZW12ZXIgPT09IEFOWSkgewoJICAgICAgICBjb21wYXJhdG9yID0gbmV3IENvbXBhcmF0b3IoJz49MC4wLjAnKTsKCSAgICAgIH0KCSAgICAgIGhpZ2ggPSBoaWdoIHx8IGNvbXBhcmF0b3I7CgkgICAgICBsb3cgPSBsb3cgfHwgY29tcGFyYXRvcjsKCSAgICAgIGlmIChndGZuKGNvbXBhcmF0b3Iuc2VtdmVyLCBoaWdoLnNlbXZlciwgb3B0aW9ucykpIHsKCSAgICAgICAgaGlnaCA9IGNvbXBhcmF0b3I7CgkgICAgICB9IGVsc2UgaWYgKGx0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGxvdy5zZW12ZXIsIG9wdGlvbnMpKSB7CgkgICAgICAgIGxvdyA9IGNvbXBhcmF0b3I7CgkgICAgICB9CgkgICAgfSk7CgoJICAgIC8vIElmIHRoZSBlZGdlIHZlcnNpb24gY29tcGFyYXRvciBoYXMgYSBvcGVyYXRvciB0aGVuIG91ciB2ZXJzaW9uCgkgICAgLy8gaXNuJ3Qgb3V0c2lkZSBpdAoJICAgIGlmIChoaWdoLm9wZXJhdG9yID09PSBjb21wIHx8IGhpZ2gub3BlcmF0b3IgPT09IGVjb21wKSB7CgkgICAgICByZXR1cm4gZmFsc2UKCSAgICB9CgoJICAgIC8vIElmIHRoZSBsb3dlc3QgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhbiBvcGVyYXRvciBhbmQgb3VyIHZlcnNpb24KCSAgICAvLyBpcyBsZXNzIHRoYW4gaXQgdGhlbiBpdCBpc24ndCBoaWdoZXIgdGhhbiB0aGUgcmFuZ2UKCSAgICBpZiAoKCFsb3cub3BlcmF0b3IgfHwgbG93Lm9wZXJhdG9yID09PSBjb21wKSAmJgoJICAgICAgICBsdGVmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkgewoJICAgICAgcmV0dXJuIGZhbHNlCgkgICAgfSBlbHNlIGlmIChsb3cub3BlcmF0b3IgPT09IGVjb21wICYmIGx0Zm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHsKCSAgICAgIHJldHVybiBmYWxzZQoJICAgIH0KCSAgfQoJICByZXR1cm4gdHJ1ZQoJfQoKCWV4cG9ydHMucHJlcmVsZWFzZSA9IHByZXJlbGVhc2U7CglmdW5jdGlvbiBwcmVyZWxlYXNlICh2ZXJzaW9uLCBvcHRpb25zKSB7CgkgIHZhciBwYXJzZWQgPSBwYXJzZSh2ZXJzaW9uLCBvcHRpb25zKTsKCSAgcmV0dXJuIChwYXJzZWQgJiYgcGFyc2VkLnByZXJlbGVhc2UubGVuZ3RoKSA/IHBhcnNlZC5wcmVyZWxlYXNlIDogbnVsbAoJfQoKCWV4cG9ydHMuaW50ZXJzZWN0cyA9IGludGVyc2VjdHM7CglmdW5jdGlvbiBpbnRlcnNlY3RzIChyMSwgcjIsIG9wdGlvbnMpIHsKCSAgcjEgPSBuZXcgUmFuZ2UocjEsIG9wdGlvbnMpOwoJICByMiA9IG5ldyBSYW5nZShyMiwgb3B0aW9ucyk7CgkgIHJldHVybiByMS5pbnRlcnNlY3RzKHIyKQoJfQoKCWV4cG9ydHMuY29lcmNlID0gY29lcmNlOwoJZnVuY3Rpb24gY29lcmNlICh2ZXJzaW9uKSB7CgkgIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7CgkgICAgcmV0dXJuIHZlcnNpb24KCSAgfQoKCSAgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnc3RyaW5nJykgewoJICAgIHJldHVybiBudWxsCgkgIH0KCgkgIHZhciBtYXRjaCA9IHZlcnNpb24ubWF0Y2gocmVbQ09FUkNFXSk7CgoJICBpZiAobWF0Y2ggPT0gbnVsbCkgewoJICAgIHJldHVybiBudWxsCgkgIH0KCgkgIHJldHVybiBwYXJzZShtYXRjaFsxXSArCgkgICAgJy4nICsgKG1hdGNoWzJdIHx8ICcwJykgKwoJICAgICcuJyArIChtYXRjaFszXSB8fCAnMCcpKQoJfQoJfShzZW12ZXIkMSwgc2VtdmVyJDEuZXhwb3J0cykpOwoKCXZhciBhc3NlcnQgPSBhc3NlcnQkMzsKCXZhciB0cmFuc2xhdGUgPSB0cmFuc2xhdGUkMTsKCXZhciByZXF1aXJlRnJvbVN0cmluZyA9IHJlcXVpcmVGcm9tU3RyaW5nJDEuZXhwb3J0czsKCXZhciBodHRwcyA9IGZvbGxvd1JlZGlyZWN0cy5leHBvcnRzLmh0dHBzOwoJdmFyIE1lbW9yeVN0cmVhbSA9IG1lbW9yeXN0cmVhbTsKCXZhciBzZW12ZXIgPSBzZW12ZXIkMS5leHBvcnRzOwoKCWZ1bmN0aW9uIHNldHVwTWV0aG9kcyAoc29sanNvbikgewoJICB2YXIgdmVyc2lvbjsKCSAgaWYgKCdfc29saWRpdHlfdmVyc2lvbicgaW4gc29sanNvbikgewoJICAgIHZlcnNpb24gPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV92ZXJzaW9uJywgJ3N0cmluZycsIFtdKTsKCSAgfSBlbHNlIHsKCSAgICB2ZXJzaW9uID0gc29sanNvbi5jd3JhcCgndmVyc2lvbicsICdzdHJpbmcnLCBbXSk7CgkgIH0KCgkgIHZhciB2ZXJzaW9uVG9TZW12ZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgcmV0dXJuIHRyYW5zbGF0ZS52ZXJzaW9uVG9TZW12ZXIodmVyc2lvbigpKTsKCSAgfTsKCgkgIHZhciBpc1ZlcnNpb242ID0gc2VtdmVyLmd0KHZlcnNpb25Ub1NlbXZlcigpLCAnMC41Ljk5Jyk7CgoJICB2YXIgbGljZW5zZTsKCSAgaWYgKCdfc29saWRpdHlfbGljZW5zZScgaW4gc29sanNvbikgewoJICAgIGxpY2Vuc2UgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9saWNlbnNlJywgJ3N0cmluZycsIFtdKTsKCSAgfSBlbHNlIGlmICgnX2xpY2Vuc2UnIGluIHNvbGpzb24pIHsKCSAgICBsaWNlbnNlID0gc29sanNvbi5jd3JhcCgnbGljZW5zZScsICdzdHJpbmcnLCBbXSk7CgkgIH0gZWxzZSB7CgkgICAgLy8gcHJlIDAuNC4xNAoJICAgIGxpY2Vuc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAvLyByZXR1cm4gdW5kZWZpbmVkCgkgICAgfTsKCSAgfQoKCSAgdmFyIGFsbG9jOwoJICBpZiAoJ19zb2xpZGl0eV9hbGxvYycgaW4gc29sanNvbikgewoJICAgIGFsbG9jID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfYWxsb2MnLCAnbnVtYmVyJywgWyAnbnVtYmVyJyBdKTsKCSAgfSBlbHNlIHsKCSAgICBhbGxvYyA9IHNvbGpzb24uX21hbGxvYzsKCSAgICBhc3NlcnQoYWxsb2MsICdFeHBlY3RlZCBtYWxsb2MgdG8gYmUgcHJlc2VudC4nKTsKCSAgfQoKCSAgdmFyIHJlc2V0OwoJICBpZiAoJ19zb2xpZGl0eV9yZXNldCcgaW4gc29sanNvbikgewoJICAgIHJlc2V0ID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfcmVzZXQnLCBudWxsLCBbXSk7CgkgIH0KCgkgIHZhciBjb3B5VG9DU3RyaW5nID0gZnVuY3Rpb24gKHN0ciwgcHRyKSB7CgkgICAgdmFyIGxlbmd0aCA9IHNvbGpzb24ubGVuZ3RoQnl0ZXNVVEY4KHN0cik7CgkgICAgLy8gVGhpcyBpcyBhbGxvY2F0aW5nIG1lbW9yeSB1c2luZyBzb2xjJ3MgYWxsb2NhdG9yLgoJICAgIC8vCgkgICAgLy8gQmVmb3JlIDAuNi4wOgoJICAgIC8vICAgQXNzdW1pbmcgY29weVRvQ1N0cmluZyBpcyBvbmx5IHVzZWQgaW4gdGhlIGNvbnRleHQgb2Ygd3JhcENhbGxiYWNrLCBzb2xjIHdpbGwgZnJlZSB0aGVzZSBwb2ludGVycy4KCSAgICAvLyAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vc29saWRpdHkvYmxvYi92MC41LjEzL2xpYnNvbGMvbGlic29sYy5oI0wzNy1MNDAKCSAgICAvLwoJICAgIC8vIEFmdGVyIDAuNi4wOgoJICAgIC8vICAgVGhlIGR1dHkgaXMgb24gc29sYy1qcyB0byBmcmVlIHRoZXNlIHBvaW50ZXJzLiBXZSBhY2NvbXBsaXNoIHRoYXQgYnkgY2FsbGluZyBgcmVzZXRgIGF0IHRoZSBlbmQuCgkgICAgdmFyIGJ1ZmZlciA9IGFsbG9jKGxlbmd0aCArIDEpOwoJICAgIHNvbGpzb24uc3RyaW5nVG9VVEY4KHN0ciwgYnVmZmVyLCBsZW5ndGggKyAxKTsKCSAgICBzb2xqc29uLnNldFZhbHVlKHB0ciwgYnVmZmVyLCAnKicpOwoJICB9OwoKCSAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IG11bHRpcGxlIHZlcnNpb25zIG9mIEVtc2NyaXB0ZW4uCgkgIC8vIFRha2UgYSBzaW5nbGUgYHB0cmAgYW5kIHJldHVybnMgYSBgc3RyYC4KCSAgdmFyIGNvcHlGcm9tQ1N0cmluZyA9IHNvbGpzb24uVVRGOFRvU3RyaW5nIHx8IHNvbGpzb24uUG9pbnRlcl9zdHJpbmdpZnk7CgoJICB2YXIgd3JhcENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CgkgICAgYXNzZXJ0KHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJywgJ0ludmFsaWQgY2FsbGJhY2sgc3BlY2lmaWVkLicpOwoJICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSwgY29udGVudHMsIGVycm9yKSB7CgkgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soY29weUZyb21DU3RyaW5nKGRhdGEpKTsKCSAgICAgIGlmICh0eXBlb2YgcmVzdWx0LmNvbnRlbnRzID09PSAnc3RyaW5nJykgewoJICAgICAgICBjb3B5VG9DU3RyaW5nKHJlc3VsdC5jb250ZW50cywgY29udGVudHMpOwoJICAgICAgfQoJICAgICAgaWYgKHR5cGVvZiByZXN1bHQuZXJyb3IgPT09ICdzdHJpbmcnKSB7CgkgICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmVycm9yLCBlcnJvcik7CgkgICAgICB9CgkgICAgfTsKCSAgfTsKCgkgIHZhciB3cmFwQ2FsbGJhY2tXaXRoS2luZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewoJICAgIGFzc2VydCh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsICdJbnZhbGlkIGNhbGxiYWNrIHNwZWNpZmllZC4nKTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQsIGtpbmQsIGRhdGEsIGNvbnRlbnRzLCBlcnJvcikgewoJICAgICAgLy8gTXVzdCBiZSBhIG51bGwgcG9pbnRlci4KCSAgICAgIGFzc2VydChjb250ZXh0ID09PSAwLCAnQ2FsbGJhY2sgY29udGV4dCBtdXN0IGJlIG51bGwuJyk7CgkgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soY29weUZyb21DU3RyaW5nKGtpbmQpLCBjb3B5RnJvbUNTdHJpbmcoZGF0YSkpOwoJICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7CgkgICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7CgkgICAgICB9CgkgICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTsKCSAgICAgIH0KCSAgICB9OwoJICB9OwoKCSAgLy8gVGhpcyBjYWxscyBjb21waWxlKCkgd2l0aCBhcmdzIHx8IGNiCgkgIHZhciBydW5XaXRoQ2FsbGJhY2tzID0gZnVuY3Rpb24gKGNhbGxiYWNrcywgY29tcGlsZSwgYXJncykgewoJICAgIGlmIChjYWxsYmFja3MpIHsKCSAgICAgIGFzc2VydCh0eXBlb2YgY2FsbGJhY2tzID09PSAnb2JqZWN0JywgJ0ludmFsaWQgY2FsbGJhY2sgb2JqZWN0IHNwZWNpZmllZC4nKTsKCSAgICB9IGVsc2UgewoJICAgICAgY2FsbGJhY2tzID0ge307CgkgICAgfQoKCSAgICB2YXIgcmVhZENhbGxiYWNrID0gY2FsbGJhY2tzLmltcG9ydDsKCSAgICBpZiAocmVhZENhbGxiYWNrID09PSB1bmRlZmluZWQpIHsKCSAgICAgIHJlYWRDYWxsYmFjayA9IGZ1bmN0aW9uIChkYXRhKSB7CgkgICAgICAgIHJldHVybiB7CgkgICAgICAgICAgZXJyb3I6ICdGaWxlIGltcG9ydCBjYWxsYmFjayBub3Qgc3VwcG9ydGVkJwoJICAgICAgICB9OwoJICAgICAgfTsKCSAgICB9CgoJICAgIHZhciBzaW5nbGVDYWxsYmFjazsKCSAgICBpZiAoaXNWZXJzaW9uNikgewoJICAgICAgLy8gQWZ0ZXIgMC42LnggbXVsdGlwbGUga2luZCBvZiBjYWxsYmFja3MgYXJlIHN1cHBvcnRlZC4KCSAgICAgIHZhciBzbXRTb2x2ZXJDYWxsYmFjayA9IGNhbGxiYWNrcy5zbXRTb2x2ZXI7CgkgICAgICBpZiAoc210U29sdmVyQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkgewoJICAgICAgICBzbXRTb2x2ZXJDYWxsYmFjayA9IGZ1bmN0aW9uIChkYXRhKSB7CgkgICAgICAgICAgcmV0dXJuIHsKCSAgICAgICAgICAgIGVycm9yOiAnU01UIHNvbHZlciBjYWxsYmFjayBub3Qgc3VwcG9ydGVkJwoJICAgICAgICAgIH07CgkgICAgICAgIH07CgkgICAgICB9CgoJICAgICAgc2luZ2xlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoa2luZCwgZGF0YSkgewoJICAgICAgICBpZiAoa2luZCA9PT0gJ3NvdXJjZScpIHsKCSAgICAgICAgICByZXR1cm4gcmVhZENhbGxiYWNrKGRhdGEpOwoJICAgICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdzbXQtcXVlcnknKSB7CgkgICAgICAgICAgcmV0dXJuIHNtdFNvbHZlckNhbGxiYWNrKGRhdGEpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIGFzc2VydChmYWxzZSwgJ0ludmFsaWQgY2FsbGJhY2sga2luZCBzcGVjaWZpZWQuJyk7CgkgICAgICAgIH0KCSAgICAgIH07CgoJICAgICAgc2luZ2xlQ2FsbGJhY2sgPSB3cmFwQ2FsbGJhY2tXaXRoS2luZChzaW5nbGVDYWxsYmFjayk7CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIE9sZCBTb2xpZGl0eSB2ZXJzaW9uIG9ubHkgc3VwcG9ydGVkIGltcG9ydHMuCgkgICAgICBzaW5nbGVDYWxsYmFjayA9IHdyYXBDYWxsYmFjayhyZWFkQ2FsbGJhY2spOwoJICAgIH0KCgkgICAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IG11bHRpcGxlIHZlcnNpb25zIG9mIEVtc2NyaXB0ZW4uCgkgICAgdmFyIGFkZEZ1bmN0aW9uID0gc29sanNvbi5hZGRGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUuYWRkRnVuY3Rpb247CgkgICAgdmFyIHJlbW92ZUZ1bmN0aW9uID0gc29sanNvbi5yZW1vdmVGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUucmVtb3ZlRnVuY3Rpb247CgoJICAgIHZhciBjYiA9IGFkZEZ1bmN0aW9uKHNpbmdsZUNhbGxiYWNrLCAndmlpaWlpJyk7CgkgICAgdmFyIG91dHB1dDsKCSAgICB0cnkgewoJICAgICAgYXJncy5wdXNoKGNiKTsKCSAgICAgIGlmIChpc1ZlcnNpb242KSB7CgkgICAgICAgIC8vIENhbGxiYWNrIGNvbnRleHQuCgkgICAgICAgIGFyZ3MucHVzaChudWxsKTsKCSAgICAgIH0KCSAgICAgIG91dHB1dCA9IGNvbXBpbGUuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsKCSAgICB9IGNhdGNoIChlKSB7CgkgICAgICByZW1vdmVGdW5jdGlvbihjYik7CgkgICAgICB0aHJvdyBlOwoJICAgIH0KCSAgICByZW1vdmVGdW5jdGlvbihjYik7CgkgICAgaWYgKHJlc2V0KSB7CgkgICAgICAvLyBFeHBsaWNpdGx5IGZyZWUgbWVtb3J5LgoJICAgICAgLy8KCSAgICAgIC8vIE5PVEU6IGN3cmFwKCkgb2YgImNvbXBpbGUiIHdpbGwgY29weSB0aGUgcmV0dXJuZWQgcG9pbnRlciBpbnRvIGEKCSAgICAgIC8vICAgICAgIEphdmFzY3JpcHQgc3RyaW5nIGFuZCBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBmcmVlKCkgb24gaXQuCgkgICAgICAvLyAgICAgICByZXNldCgpIGhvd2V2ZXIgd2lsbCBjbGVhciB1cCBhbGwgYWxsb2NhdGlvbnMuCgkgICAgICByZXNldCgpOwoJICAgIH0KCSAgICByZXR1cm4gb3V0cHV0OwoJICB9OwoKCSAgdmFyIGNvbXBpbGVKU09OID0gbnVsbDsKCSAgaWYgKCdfY29tcGlsZUpTT04nIGluIHNvbGpzb24pIHsKCSAgICAvLyBpbnB1dCAodGV4dCksIG9wdGltaXplIChib29sKSAtPiBvdXRwdXQgKGpzb250ZXh0KQoJICAgIGNvbXBpbGVKU09OID0gc29sanNvbi5jd3JhcCgnY29tcGlsZUpTT04nLCAnc3RyaW5nJywgWydzdHJpbmcnLCAnbnVtYmVyJ10pOwoJICB9CgoJICB2YXIgY29tcGlsZUpTT05NdWx0aSA9IG51bGw7CgkgIGlmICgnX2NvbXBpbGVKU09OTXVsdGknIGluIHNvbGpzb24pIHsKCSAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBvcHRpbWl6ZSAoYm9vbCkgLT4gb3V0cHV0IChqc29udGV4dCkKCSAgICBjb21waWxlSlNPTk11bHRpID0gc29sanNvbi5jd3JhcCgnY29tcGlsZUpTT05NdWx0aScsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInXSk7CgkgIH0KCgkgIHZhciBjb21waWxlSlNPTkNhbGxiYWNrID0gbnVsbDsKCSAgaWYgKCdfY29tcGlsZUpTT05DYWxsYmFjaycgaW4gc29sanNvbikgewoJICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSwgY2FsbGJhY2sgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dCkKCSAgICB2YXIgY29tcGlsZUludGVybmFsID0gc29sanNvbi5jd3JhcCgnY29tcGlsZUpTT05DYWxsYmFjaycsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInLCAnbnVtYmVyJ10pOwoJICAgIGNvbXBpbGVKU09OQ2FsbGJhY2sgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGltaXplLCByZWFkQ2FsbGJhY2spIHsKCSAgICAgIHJldHVybiBydW5XaXRoQ2FsbGJhY2tzKHJlYWRDYWxsYmFjaywgY29tcGlsZUludGVybmFsLCBbIGlucHV0LCBvcHRpbWl6ZSBdKTsKCSAgICB9OwoJICB9CgoJICB2YXIgY29tcGlsZVN0YW5kYXJkID0gbnVsbDsKCSAgaWYgKCdfY29tcGlsZVN0YW5kYXJkJyBpbiBzb2xqc29uKSB7CgkgICAgLy8gaW5wdXQgKGpzb250ZXh0KSwgY2FsbGJhY2sgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dCkKCSAgICB2YXIgY29tcGlsZVN0YW5kYXJkSW50ZXJuYWwgPSBzb2xqc29uLmN3cmFwKCdjb21waWxlU3RhbmRhcmQnLCAnc3RyaW5nJywgWydzdHJpbmcnLCAnbnVtYmVyJ10pOwoJICAgIGNvbXBpbGVTdGFuZGFyZCA9IGZ1bmN0aW9uIChpbnB1dCwgcmVhZENhbGxiYWNrKSB7CgkgICAgICByZXR1cm4gcnVuV2l0aENhbGxiYWNrcyhyZWFkQ2FsbGJhY2ssIGNvbXBpbGVTdGFuZGFyZEludGVybmFsLCBbIGlucHV0IF0pOwoJICAgIH07CgkgIH0KCSAgaWYgKCdfc29saWRpdHlfY29tcGlsZScgaW4gc29sanNvbikgewoJICAgIHZhciBzb2xpZGl0eUNvbXBpbGU7CgkgICAgaWYgKGlzVmVyc2lvbjYpIHsKCSAgICAgIC8vIGlucHV0IChqc29udGV4dCksIGNhbGxiYWNrIChwdHIpLCBjYWxsYmFja19jb250ZXh0IChwdHIpIC0+IG91dHB1dCAoanNvbnRleHQpCgkgICAgICBzb2xpZGl0eUNvbXBpbGUgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9jb21waWxlJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlcicsICdudW1iZXInXSk7CgkgICAgfSBlbHNlIHsKCSAgICAgIC8vIGlucHV0IChqc29udGV4dCksIGNhbGxiYWNrIChwdHIpIC0+IG91dHB1dCAoanNvbnRleHQpCgkgICAgICBzb2xpZGl0eUNvbXBpbGUgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9jb21waWxlJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTsKCSAgICB9CgkgICAgY29tcGlsZVN0YW5kYXJkID0gZnVuY3Rpb24gKGlucHV0LCBjYWxsYmFja3MpIHsKCSAgICAgIHJldHVybiBydW5XaXRoQ2FsbGJhY2tzKGNhbGxiYWNrcywgc29saWRpdHlDb21waWxlLCBbIGlucHV0IF0pOwoJICAgIH07CgkgIH0KCgkgIC8vIEV4cGVjdHMgYSBTdGFuZGFyZCBKU09OIEkvTyBidXQgc3VwcG9ydHMgb2xkIGNvbXBpbGVycwoJICB2YXIgY29tcGlsZVN0YW5kYXJkV3JhcHBlciA9IGZ1bmN0aW9uIChpbnB1dCwgcmVhZENhbGxiYWNrKSB7CgkgICAgaWYgKGNvbXBpbGVTdGFuZGFyZCAhPT0gbnVsbCkgewoJICAgICAgcmV0dXJuIGNvbXBpbGVTdGFuZGFyZChpbnB1dCwgcmVhZENhbGxiYWNrKTsKCSAgICB9CgoJICAgIGZ1bmN0aW9uIGZvcm1hdEZhdGFsRXJyb3IgKG1lc3NhZ2UpIHsKCSAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7CgkgICAgICAgIGVycm9yczogWwoJICAgICAgICAgIHsKCSAgICAgICAgICAgICd0eXBlJzogJ0pTT05FcnJvcicsCgkgICAgICAgICAgICAnY29tcG9uZW50JzogJ3NvbGNqcycsCgkgICAgICAgICAgICAnc2V2ZXJpdHknOiAnZXJyb3InLAoJICAgICAgICAgICAgJ21lc3NhZ2UnOiBtZXNzYWdlLAoJICAgICAgICAgICAgJ2Zvcm1hdHRlZE1lc3NhZ2UnOiAnRXJyb3I6ICcgKyBtZXNzYWdlCgkgICAgICAgICAgfQoJICAgICAgICBdCgkgICAgICB9KTsKCSAgICB9CgoJICAgIHRyeSB7CgkgICAgICBpbnB1dCA9IEpTT04ucGFyc2UoaW5wdXQpOwoJICAgIH0gY2F0Y2ggKGUpIHsKCSAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdJbnZhbGlkIEpTT04gc3VwcGxpZWQ6ICcgKyBlLm1lc3NhZ2UpOwoJICAgIH0KCgkgICAgaWYgKGlucHV0WydsYW5ndWFnZSddICE9PSAnU29saWRpdHknKSB7CgkgICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignT25seSAiU29saWRpdHkiIGlzIHN1cHBvcnRlZCBhcyBhIGxhbmd1YWdlLicpOwoJICAgIH0KCgkgICAgLy8gTk9URTogdGhpcyBpcyBkZWxpYmVyYXRlbHkgYD09IG51bGxgCgkgICAgaWYgKGlucHV0Wydzb3VyY2VzJ10gPT0gbnVsbCB8fCBpbnB1dFsnc291cmNlcyddLmxlbmd0aCA9PT0gMCkgewoJICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ05vIGlucHV0IHNvdXJjZXMgc3BlY2lmaWVkLicpOwoJICAgIH0KCgkgICAgZnVuY3Rpb24gaXNPcHRpbWl6ZXJFbmFibGVkIChpbnB1dCkgewoJICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddICYmIGlucHV0WydzZXR0aW5ncyddWydvcHRpbWl6ZXInXSAmJiBpbnB1dFsnc2V0dGluZ3MnXVsnb3B0aW1pemVyJ11bJ2VuYWJsZWQnXTsKCSAgICB9CgoJICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVNvdXJjZXMgKGlucHV0KSB7CgkgICAgICB2YXIgc291cmNlcyA9IHt9OwoJICAgICAgZm9yICh2YXIgc291cmNlIGluIGlucHV0Wydzb3VyY2VzJ10pIHsKCSAgICAgICAgaWYgKGlucHV0Wydzb3VyY2VzJ11bc291cmNlXVsnY29udGVudCddICE9PSBudWxsKSB7CgkgICAgICAgICAgc291cmNlc1tzb3VyY2VdID0gaW5wdXRbJ3NvdXJjZXMnXVtzb3VyY2VdWydjb250ZW50J107CgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgLy8gZm9yY2UgZmFpbHVyZQoJICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICByZXR1cm4gc291cmNlczsKCSAgICB9CgoJICAgIGZ1bmN0aW9uIGxpYnJhcmllc1N1cHBsaWVkIChpbnB1dCkgewoJICAgICAgaWYgKGlucHV0WydzZXR0aW5ncyddKSB7CgkgICAgICAgIHJldHVybiBpbnB1dFsnc2V0dGluZ3MnXVsnbGlicmFyaWVzJ107CgkgICAgICB9CgkgICAgfQoKCSAgICBmdW5jdGlvbiB0cmFuc2xhdGVPdXRwdXQgKG91dHB1dCwgbGlicmFyaWVzKSB7CgkgICAgICB0cnkgewoJICAgICAgICBvdXRwdXQgPSBKU09OLnBhcnNlKG91dHB1dCk7CgkgICAgICB9IGNhdGNoIChlKSB7CgkgICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdDb21waWxlciByZXR1cm5lZCBpbnZhbGlkIEpTT046ICcgKyBlLm1lc3NhZ2UpOwoJICAgICAgfQoJICAgICAgb3V0cHV0ID0gdHJhbnNsYXRlLnRyYW5zbGF0ZUpzb25Db21waWxlck91dHB1dChvdXRwdXQsIGxpYnJhcmllcyk7CgkgICAgICBpZiAob3V0cHV0ID09IG51bGwpIHsKCSAgICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIG91dHB1dC4nKTsKCSAgICAgIH0KCSAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvdXRwdXQpOwoJICAgIH0KCgkgICAgdmFyIHNvdXJjZXMgPSB0cmFuc2xhdGVTb3VyY2VzKGlucHV0KTsKCSAgICBpZiAoc291cmNlcyA9PT0gbnVsbCB8fCBPYmplY3Qua2V5cyhzb3VyY2VzKS5sZW5ndGggPT09IDApIHsKCSAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdGYWlsZWQgdG8gcHJvY2VzcyBzb3VyY2VzLicpOwoJICAgIH0KCgkgICAgLy8gVHJ5IGxpbmtpbmcgaWYgbGlicmFyaWVzIHdlcmUgc3VwcGxpZWQKCSAgICB2YXIgbGlicmFyaWVzID0gbGlicmFyaWVzU3VwcGxpZWQoaW5wdXQpOwoKCSAgICAvLyBUcnkgdG8gd3JhcCBhcm91bmQgb2xkIHZlcnNpb25zCgkgICAgaWYgKGNvbXBpbGVKU09OQ2FsbGJhY2sgIT09IG51bGwpIHsKCSAgICAgIHJldHVybiB0cmFuc2xhdGVPdXRwdXQoY29tcGlsZUpTT05DYWxsYmFjayhKU09OLnN0cmluZ2lmeSh7ICdzb3VyY2VzJzogc291cmNlcyB9KSwgaXNPcHRpbWl6ZXJFbmFibGVkKGlucHV0KSwgcmVhZENhbGxiYWNrKSwgbGlicmFyaWVzKTsKCSAgICB9CgoJICAgIGlmIChjb21waWxlSlNPTk11bHRpICE9PSBudWxsKSB7CgkgICAgICByZXR1cm4gdHJhbnNsYXRlT3V0cHV0KGNvbXBpbGVKU09OTXVsdGkoSlNPTi5zdHJpbmdpZnkoeyAnc291cmNlcyc6IHNvdXJjZXMgfSksIGlzT3B0aW1pemVyRW5hYmxlZChpbnB1dCkpLCBsaWJyYXJpZXMpOwoJICAgIH0KCgkgICAgLy8gVHJ5IG91ciBsdWNrIHdpdGggYW4gYW5jaWVudCBjb21waWxlcgoJICAgIGlmIChjb21waWxlSlNPTiAhPT0gbnVsbCkgewoJICAgICAgaWYgKE9iamVjdC5rZXlzKHNvdXJjZXMpLmxlbmd0aCAhPT0gMSkgewoJICAgICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignTXVsdGlwbGUgc291cmNlcyBwcm92aWRlZCwgYnV0IGNvbXBpbGVyIG9ubHkgc3VwcG9ydHMgc2luZ2xlIGlucHV0LicpOwoJICAgICAgfQoJICAgICAgcmV0dXJuIHRyYW5zbGF0ZU91dHB1dChjb21waWxlSlNPTihzb3VyY2VzW09iamVjdC5rZXlzKHNvdXJjZXMpWzBdXSwgaXNPcHRpbWl6ZXJFbmFibGVkKGlucHV0KSksIGxpYnJhcmllcyk7CgkgICAgfQoKCSAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignQ29tcGlsZXIgZG9lcyBub3Qgc3VwcG9ydCBhbnkga25vd24gaW50ZXJmYWNlLicpOwoJICB9OwoKCSAgcmV0dXJuIHsKCSAgICB2ZXJzaW9uOiB2ZXJzaW9uLAoJICAgIHNlbXZlcjogdmVyc2lvblRvU2VtdmVyLAoJICAgIGxpY2Vuc2U6IGxpY2Vuc2UsCgkgICAgbG93bGV2ZWw6IHsKCSAgICAgIGNvbXBpbGVTaW5nbGU6IGNvbXBpbGVKU09OLAoJICAgICAgY29tcGlsZU11bHRpOiBjb21waWxlSlNPTk11bHRpLAoJICAgICAgY29tcGlsZUNhbGxiYWNrOiBjb21waWxlSlNPTkNhbGxiYWNrLAoJICAgICAgY29tcGlsZVN0YW5kYXJkOiBjb21waWxlU3RhbmRhcmQKCSAgICB9LAoJICAgIGZlYXR1cmVzOiB7CgkgICAgICBsZWdhY3lTaW5nbGVJbnB1dDogY29tcGlsZUpTT04gIT09IG51bGwsCgkgICAgICBtdWx0aXBsZUlucHV0czogY29tcGlsZUpTT05NdWx0aSAhPT0gbnVsbCB8fCBjb21waWxlU3RhbmRhcmQgIT09IG51bGwsCgkgICAgICBpbXBvcnRDYWxsYmFjazogY29tcGlsZUpTT05DYWxsYmFjayAhPT0gbnVsbCB8fCBjb21waWxlU3RhbmRhcmQgIT09IG51bGwsCgkgICAgICBuYXRpdmVTdGFuZGFyZEpTT046IGNvbXBpbGVTdGFuZGFyZCAhPT0gbnVsbAoJICAgIH0sCgkgICAgY29tcGlsZTogY29tcGlsZVN0YW5kYXJkV3JhcHBlciwKCSAgICAvLyBMb2FkcyB0aGUgY29tcGlsZXIgb2YgdGhlIGdpdmVuIHZlcnNpb24gZnJvbSB0aGUgZ2l0aHViIHJlcG9zaXRvcnkKCSAgICAvLyBpbnN0ZWFkIG9mIGZyb20gdGhlIGxvY2FsIGZpbGVzeXN0ZW0uCgkgICAgbG9hZFJlbW90ZVZlcnNpb246IGZ1bmN0aW9uICh2ZXJzaW9uU3RyaW5nLCBjYikgewoJICAgICAgdmFyIG1lbSA9IG5ldyBNZW1vcnlTdHJlYW0obnVsbCwge3JlYWRhYmxlOiBmYWxzZX0pOwoJICAgICAgdmFyIHVybCA9ICdodHRwczovL2JpbmFyaWVzLnNvbGlkaXR5bGFuZy5vcmcvYmluL3NvbGpzb24tJyArIHZlcnNpb25TdHJpbmcgKyAnLmpzJzsKCSAgICAgIGh0dHBzLmdldCh1cmwsIGZ1bmN0aW9uIChyZXNwb25zZSkgewoJICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjAwKSB7CgkgICAgICAgICAgY2IobmV3IEVycm9yKCdFcnJvciByZXRyaWV2aW5nIGJpbmFyeTogJyArIHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UpKTsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXNwb25zZS5waXBlKG1lbSk7CgkgICAgICAgICAgcmVzcG9uc2Uub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGNiKG51bGwsIHNldHVwTWV0aG9kcyhyZXF1aXJlRnJvbVN0cmluZyhtZW0udG9TdHJpbmcoKSwgJ3NvbGpzb24tJyArIHZlcnNpb25TdHJpbmcgKyAnLmpzJykpKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgfQoJICAgICAgfSkub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7CgkgICAgICAgIGNiKGVycm9yKTsKCSAgICAgIH0pOwoJICAgIH0sCgkgICAgLy8gVXNlIHRoaXMgaWYgeW91IHdhbnQgdG8gYWRkIHdyYXBwZXIgZnVuY3Rpb25zIGFyb3VuZCB0aGUgcHVyZSBtb2R1bGUuCgkgICAgc2V0dXBNZXRob2RzOiBzZXR1cE1ldGhvZHMKCSAgfTsKCX0KCgl2YXIgd3JhcHBlciA9IHNldHVwTWV0aG9kczsKCgl2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IGludGVyb3BSZXF1aXJlRGVmYXVsdC5leHBvcnRzOwoKCXZhciBfd3JhcHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQod3JhcHBlcik7CgoJLyogZXNsaW50LWVudiBicm93c2VyICovCgoJLyogZ2xvYmFscyBpbXBvcnRTY3JpcHRzICovCglpbXBvcnRTY3JpcHRzKCJodHRwczovL2JpbmFyaWVzLnNvbGlkaXR5bGFuZy5vcmcvYmluL3NvbGpzb24tdjAuOC45K2NvbW1pdC5lNWVlZDYzYS5qcyIpOwoJdmFyIGNvbXBpbGVyID0gKDAsIF93cmFwcGVyWyJkZWZhdWx0Il0pKHNlbGYuTW9kdWxlKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChfcmVmKSB7CgkgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKCSAgaWYgKCdjb21waWxlJyA9PT0gZGF0YS50eXBlKSB7CgkgICAgc2VsZi5wb3N0TWVzc2FnZSh7CgkgICAgICBwYXlsb2FkOiBjb21waWxlci5jb21waWxlKGRhdGEucGF5bG9hZCksCgkgICAgICB0eXBlOiAnY29tcGlsZV9yZXN1bHQnCgkgICAgfSk7CgkgIH0KCX0pOwoJc2VsZi5wb3N0TWVzc2FnZSh7CgkgIHR5cGU6ICdsb2FkZWQnCgl9KTsKCglyZXR1cm4gU29saWRpdHlDb21waWxlcl93b3JrZXI7Cgp9KSgpOwoK",WC="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU29saWRpdHlDb21waWxlci53b3JrZXIuanMiLCJzb3VyY2VzIjpbIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvZ2xvYmFsLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3Byb2Nlc3MtZXM2LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaW5oZXJpdHMuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy91dGlsLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvYXNzZXJ0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvanMtc2hhMy9zcmMvc2hhMy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3NvbGMvbGlua2VyLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvc29sYy90cmFuc2xhdGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9lbXB0eS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3BhdGguanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yZXF1aXJlLWZyb20tc3RyaW5nL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9xcy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3VybC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL2h0dHAtbGliL2NhcGFiaWxpdHkuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL2J1ZmZlci1saXN0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9zdHJpbmdfZGVjb2Rlci9saWIvc3RyaW5nX2RlY29kZXIuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9yZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9yZWFkYWJsZS1zdHJlYW0vZHVwbGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3JlYWRhYmxlLXN0cmVhbS9wYXNzdGhyb3VnaC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3N0cmVhbS5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL2h0dHAtbGliL3Jlc3BvbnNlLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaHR0cC1saWIvdG8tYXJyYXlidWZmZXIuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9odHRwLWxpYi9yZXF1ZXN0LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvaHR0cC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL2ZvbGxvdy1yZWRpcmVjdHMvZGVidWcuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL2xpYi5janMvYnVuZGxlci9wb2xpZXMvY29tcGlsZXIvd29ya2VyL25vZGVfbW9kdWxlcy9mb2xsb3ctcmVkaXJlY3RzL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvbWVtb3J5c3RyZWFtL2luZGV4LmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9saWIuY2pzL2J1bmRsZXIvcG9saWVzL2NvbXBpbGVyL3dvcmtlci9ub2RlX21vZHVsZXMvc29sYy9ub2RlX21vZHVsZXMvc2VtdmVyL3NlbXZlci5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvbm9kZV9tb2R1bGVzL3NvbGMvd3JhcHBlci5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvbGliLmNqcy9idW5kbGVyL3BvbGllcy9jb21waWxlci93b3JrZXIvU29saWRpdHlDb21waWxlci53b3JrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyIsImV4cG9ydCBkZWZhdWx0ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDpcbiAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcbiAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KTsiLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgY3VzdG9tSW5zcGVjdFN5bWJvbCA9XG4gICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgIDogbnVsbFxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbnZhciBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmXG5leHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEhcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdFxuICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlXG4gKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgXG4gKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0XG4gKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgK1xuICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LidcbiAgKVxufVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD9cbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICB2YXIgcHJvdG8gPSB7IGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfSB9XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3RvLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90bylcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbmZ1bmN0aW9uIGZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheVZpZXcodmFsdWUpXG4gIH1cblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gICAgKVxuICB9XG5cbiAgaWYgKGlzSW5zdGFuY2UodmFsdWUsIEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBBcnJheUJ1ZmZlcikpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIChpc0luc3RhbmNlKHZhbHVlLCBTaGFyZWRBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgU2hhcmVkQXJyYXlCdWZmZXIpKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgKVxuICB9XG5cbiAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIHZhciBiID0gZnJvbU9iamVjdCh2YWx1ZSlcbiAgaWYgKGIpIHJldHVybiBiXG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShcbiAgICAgIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGhcbiAgICApXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7XG4gIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHtcbiAgICB2YXIgY29weSA9IG5ldyBVaW50OEFycmF5KGFycmF5VmlldylcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKGNvcHkuYnVmZmVyLCBjb3B5LmJ5dGVPZmZzZXQsIGNvcHkuYnl0ZUxlbmd0aClcbiAgfVxuICByZXR1cm4gZnJvbUFycmF5TGlrZShhcnJheVZpZXcpXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICB2YXIgYnVmXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgaWYgKHBvcyArIGJ1Zi5sZW5ndGggPiBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIEJ1ZmZlci5mcm9tKGJ1ZikuY29weShidWZmZXIsIHBvcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBidWYsXG4gICAgICAgICAgcG9zXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgfVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IGlzSW5zdGFuY2Uoc3RyaW5nLCBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygc3RyaW5nXG4gICAgKVxuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpXG4gIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xuICAgICAgICAgIHJldHVybiBtdXN0TWF0Y2ggPyAtMSA6IHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nXG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKClcbiAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHtcbiAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aClcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldClcbiAgICApXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0IC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFt2YWxdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA+Pj4gMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpXG4gICAgICA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpXG4gICAgICAgICAgPyAzXG4gICAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRilcbiAgICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSBoZXhTbGljZUxvb2t1cFRhYmxlW2J1ZltpXV1cbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgLy8gSWYgYnl0ZXMubGVuZ3RoIGlzIG9kZCwgdGhlIGxhc3QgOCBiaXRzIG11c3QgYmUgaWdub3JlZCAoc2FtZSBhcyBub2RlLmpzKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgKGJ5dGVzW2kgKyAxXSAqIDI1NikpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld0J1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcbiAgICB0aGlzLmNvcHlXaXRoaW4odGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpXG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKChlbmNvZGluZyA9PT0gJ3V0ZjgnICYmIGNvZGUgPCAxMjgpIHx8XG4gICAgICAgICAgZW5jb2RpbmcgPT09ICdsYXRpbjEnKSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aDogSWYgYHZhbGAgZml0cyBpbnRvIGEgc2luZ2xlIGJ5dGUsIHVzZSB0aGF0IG51bWVyaWMgdmFsdWUuXG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICB2YWwgPSBOdW1iZXIodmFsKVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG4vLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzc1xuLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNjZcbmZ1bmN0aW9uIGlzSW5zdGFuY2UgKG9iaiwgdHlwZSkge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdHlwZSB8fFxuICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmXG4gICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKVxufVxuZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikge1xuICAvLyBGb3IgSUUxMSBzdXBwb3J0XG4gIHJldHVybiBvYmogIT09IG9iaiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG4vLyBDcmVhdGUgbG9va3VwIHRhYmxlIGZvciBgdG9TdHJpbmcoJ2hleCcpYFxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMjE5XG52YXIgaGV4U2xpY2VMb29rdXBUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5YWJjZGVmJ1xuICB2YXIgdGFibGUgPSBuZXcgQXJyYXkoMjU2KVxuICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICB2YXIgaTE2ID0gaSAqIDE2XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICB0YWJsZVtpMTYgKyBqXSA9IGFscGhhYmV0W2ldICsgYWxwaGFiZXRbal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhYmxlXG59KSgpXG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbi8vIGJhc2VkIG9mZiBodHRwczovL2dpdGh1Yi5jb20vZGVmdW5jdHpvbWJpZS9ub2RlLXByb2Nlc3MvYmxvYi9tYXN0ZXIvYnJvd3Nlci5qc1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbnZhciBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuaWYgKHR5cGVvZiBnbG9iYWwuc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xufVxuaWYgKHR5cGVvZiBnbG9iYWwuY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xufVxuXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5mdW5jdGlvbiBuZXh0VGljayhmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufVxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnZhciB0aXRsZSA9ICdicm93c2VyJztcbnZhciBwbGF0Zm9ybSA9ICdicm93c2VyJztcbnZhciBicm93c2VyID0gdHJ1ZTtcbnZhciBlbnYgPSB7fTtcbnZhciBhcmd2ID0gW107XG52YXIgdmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xudmFyIHZlcnNpb25zID0ge307XG52YXIgcmVsZWFzZSA9IHt9O1xudmFyIGNvbmZpZyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIG9uID0gbm9vcDtcbnZhciBhZGRMaXN0ZW5lciA9IG5vb3A7XG52YXIgb25jZSA9IG5vb3A7XG52YXIgb2ZmID0gbm9vcDtcbnZhciByZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG52YXIgcmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnZhciBlbWl0ID0gbm9vcDtcblxuZnVuY3Rpb24gYmluZGluZyhuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufVxuXG5mdW5jdGlvbiBjd2QgKCkgeyByZXR1cm4gJy8nIH1cbmZ1bmN0aW9uIGNoZGlyIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufWZ1bmN0aW9uIHVtYXNrKCkgeyByZXR1cm4gMDsgfVxuXG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9rdW1hdmlzL2Jyb3dzZXItcHJvY2Vzcy1ocnRpbWUvYmxvYi9tYXN0ZXIvaW5kZXguanNcbnZhciBwZXJmb3JtYW5jZSA9IGdsb2JhbC5wZXJmb3JtYW5jZSB8fCB7fTtcbnZhciBwZXJmb3JtYW5jZU5vdyA9XG4gIHBlcmZvcm1hbmNlLm5vdyAgICAgICAgfHxcbiAgcGVyZm9ybWFuY2UubW96Tm93ICAgICB8fFxuICBwZXJmb3JtYW5jZS5tc05vdyAgICAgIHx8XG4gIHBlcmZvcm1hbmNlLm9Ob3cgICAgICAgfHxcbiAgcGVyZm9ybWFuY2Uud2Via2l0Tm93ICB8fFxuICBmdW5jdGlvbigpeyByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSB9O1xuXG4vLyBnZW5lcmF0ZSB0aW1lc3RhbXAgb3IgZGVsdGFcbi8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWVcbmZ1bmN0aW9uIGhydGltZShwcmV2aW91c1RpbWVzdGFtcCl7XG4gIHZhciBjbG9ja3RpbWUgPSBwZXJmb3JtYW5jZU5vdy5jYWxsKHBlcmZvcm1hbmNlKSoxZS0zO1xuICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lKTtcbiAgdmFyIG5hbm9zZWNvbmRzID0gTWF0aC5mbG9vcigoY2xvY2t0aW1lJTEpKjFlOSk7XG4gIGlmIChwcmV2aW91c1RpbWVzdGFtcCkge1xuICAgIHNlY29uZHMgPSBzZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMF07XG4gICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdO1xuICAgIGlmIChuYW5vc2Vjb25kczwwKSB7XG4gICAgICBzZWNvbmRzLS07XG4gICAgICBuYW5vc2Vjb25kcyArPSAxZTk7XG4gICAgfVxuICB9XG4gIHJldHVybiBbc2Vjb25kcyxuYW5vc2Vjb25kc11cbn1cblxudmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG5mdW5jdGlvbiB1cHRpbWUoKSB7XG4gIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XG4gIHZhciBkaWYgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcbiAgcmV0dXJuIGRpZiAvIDEwMDA7XG59XG5cbnZhciBicm93c2VyJDEgPSB7XG4gIG5leHRUaWNrOiBuZXh0VGljayxcbiAgdGl0bGU6IHRpdGxlLFxuICBicm93c2VyOiBicm93c2VyLFxuICBlbnY6IGVudixcbiAgYXJndjogYXJndixcbiAgdmVyc2lvbjogdmVyc2lvbixcbiAgdmVyc2lvbnM6IHZlcnNpb25zLFxuICBvbjogb24sXG4gIGFkZExpc3RlbmVyOiBhZGRMaXN0ZW5lcixcbiAgb25jZTogb25jZSxcbiAgb2ZmOiBvZmYsXG4gIHJlbW92ZUxpc3RlbmVyOiByZW1vdmVMaXN0ZW5lcixcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzOiByZW1vdmVBbGxMaXN0ZW5lcnMsXG4gIGVtaXQ6IGVtaXQsXG4gIGJpbmRpbmc6IGJpbmRpbmcsXG4gIGN3ZDogY3dkLFxuICBjaGRpcjogY2hkaXIsXG4gIHVtYXNrOiB1bWFzayxcbiAgaHJ0aW1lOiBocnRpbWUsXG4gIHBsYXRmb3JtOiBwbGF0Zm9ybSxcbiAgcmVsZWFzZTogcmVsZWFzZSxcbiAgY29uZmlnOiBjb25maWcsXG4gIHVwdGltZTogdXB0aW1lXG59O1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyJDE7XG5leHBvcnQgeyBhZGRMaXN0ZW5lciwgYXJndiwgYmluZGluZywgYnJvd3NlciwgY2hkaXIsIGNvbmZpZywgY3dkLCBlbWl0LCBlbnYsIGhydGltZSwgbmV4dFRpY2ssIG9mZiwgb24sIG9uY2UsIHBsYXRmb3JtLCByZWxlYXNlLCByZW1vdmVBbGxMaXN0ZW5lcnMsIHJlbW92ZUxpc3RlbmVyLCB0aXRsZSwgdW1hc2ssIHVwdGltZSwgdmVyc2lvbiwgdmVyc2lvbnMgfTtcbiIsIlxudmFyIGluaGVyaXRzO1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKXtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgaW5oZXJpdHM7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbmltcG9ydCBwcm9jZXNzIGZyb20gJ3Byb2Nlc3MnO1xudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0IGZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnbG9nKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IDA7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBpbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0J1ZmZlcihtYXliZUJ1Zikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG1heWJlQnVmKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0IGZ1bmN0aW9uIGxvZygpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xufVxuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnLi9pbmhlcml0cyc7XG5leHBvcnQge2luaGVyaXRzfVxuXG5leHBvcnQgZnVuY3Rpb24gX2V4dGVuZChvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbmhlcml0czogaW5oZXJpdHMsXG4gIF9leHRlbmQ6IF9leHRlbmQsXG4gIGxvZzogbG9nLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNFcnJvcjogaXNFcnJvcixcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzU3ltYm9sOiBpc1N5bWJvbCxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBpc051bGxPclVuZGVmaW5lZCxcbiAgaXNOdWxsOiBpc051bGwsXG4gIGlzQm9vbGVhbjogaXNCb29sZWFuLFxuICBpc0FycmF5OiBpc0FycmF5LFxuICBpbnNwZWN0OiBpbnNwZWN0LFxuICBkZXByZWNhdGU6IGRlcHJlY2F0ZSxcbiAgZm9ybWF0OiBmb3JtYXQsXG4gIGRlYnVnbG9nOiBkZWJ1Z2xvZ1xufVxuIiwiXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciB4ID0gYS5sZW5ndGg7XG4gIHZhciB5ID0gYi5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV07XG4gICAgICB5ID0gYltpXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTtcbi8vIGJhc2VkIG9uIG5vZGUgYXNzZXJ0LCBvcmlnaW5hbCBub3RpY2U6XG5cbi8vIGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1VuaXRfVGVzdGluZy8xLjBcbi8vXG4vLyBUSElTIElTIE5PVCBURVNURUQgTk9SIExJS0VMWSBUTyBXT1JLIE9VVFNJREUgVjghXG4vL1xuLy8gT3JpZ2luYWxseSBmcm9tIG5hcndoYWwuanMgKGh0dHA6Ly9uYXJ3aGFsanMub3JnKVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0b1xuLy8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbi8vIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbi8vIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuaW1wb3J0IHtpc0J1ZmZlcn0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCB7aXNQcmltaXRpdmUsIGluaGVyaXRzLCBpc0Vycm9yLCBpc0Z1bmN0aW9uLCBpc1JlZ0V4cCwgaXNEYXRlLCBpbnNwZWN0IGFzIHV0aWxJbnNwZWN0fSBmcm9tICd1dGlsJztcbnZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgX2Z1bmN0aW9uc0hhdmVOYW1lcztcbmZ1bmN0aW9uIGZ1bmN0aW9uc0hhdmVOYW1lcygpIHtcbiAgaWYgKHR5cGVvZiBfZnVuY3Rpb25zSGF2ZU5hbWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzO1xuICB9XG4gIHJldHVybiBfZnVuY3Rpb25zSGF2ZU5hbWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9vKCkge30ubmFtZSA9PT0gJ2Zvbyc7XG4gIH0oKSk7XG59XG5mdW5jdGlvbiBwVG9TdHJpbmcgKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7XG59XG5mdW5jdGlvbiBpc1ZpZXcoYXJyYnVmKSB7XG4gIGlmIChpc0J1ZmZlcihhcnJidWYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhhcnJidWYpO1xuICB9XG4gIGlmICghYXJyYnVmKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhcnJidWYgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChhcnJidWYuYnVmZmVyICYmIGFycmJ1Zi5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbi8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93XG4vLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcbi8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLlxuXG5mdW5jdGlvbiBhc3NlcnQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09Jywgb2spO1xufVxuZXhwb3J0IGRlZmF1bHQgYXNzZXJ0O1xuXG4vLyAyLiBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBhc3NlcnQuXG4vLyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQgfSlcblxudmFyIHJlZ2V4ID0gL1xccypmdW5jdGlvblxccysoW15cXChcXHNdKilcXHMqLztcbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvYmxvYi9hZGVlZWVjOGJmY2M2MDY4YjE4N2Q3ZDlmYjNkNWJiMWQzYTMwODk5L2ltcGxlbWVudGF0aW9uLmpzXG5mdW5jdGlvbiBnZXROYW1lKGZ1bmMpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmdW5jdGlvbnNIYXZlTmFtZXMoKSkge1xuICAgIHJldHVybiBmdW5jLm5hbWU7XG4gIH1cbiAgdmFyIHN0ciA9IGZ1bmMudG9TdHJpbmcoKTtcbiAgdmFyIG1hdGNoID0gc3RyLm1hdGNoKHJlZ2V4KTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdO1xufVxuYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gQXNzZXJ0aW9uRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICB0aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgdGhpcy5vcGVyYXRvciA9IG9wdGlvbnMub3BlcmF0b3I7XG4gIGlmIChvcHRpb25zLm1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSB0cnVlO1xuICB9XG4gIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIG5vbiB2OCBicm93c2VycyBzbyB3ZSBjYW4gaGF2ZSBhIHN0YWNrdHJhY2VcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCk7XG4gICAgaWYgKGVyci5zdGFjaykge1xuICAgICAgdmFyIG91dCA9IGVyci5zdGFjaztcblxuICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzXG4gICAgICB2YXIgZm5fbmFtZSA9IGdldE5hbWUoc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXFxuJyArIGZuX25hbWUpO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIC8vIG9uY2Ugd2UgaGF2ZSBsb2NhdGVkIHRoZSBmdW5jdGlvbiBmcmFtZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGJlZm9yZSBpdCAoYW5kIGl0cyBsaW5lKVxuICAgICAgICB2YXIgbmV4dF9saW5lID0gb3V0LmluZGV4T2YoJ1xcbicsIGlkeCArIDEpO1xuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKG5leHRfbGluZSArIDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YWNrID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuaW5oZXJpdHMoQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gdHJ1bmNhdGUocywgbikge1xuICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzO1xuICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0KHNvbWV0aGluZykge1xuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKCkgfHwgIWlzRnVuY3Rpb24oc29tZXRoaW5nKSkge1xuICAgIHJldHVybiB1dGlsSW5zcGVjdChzb21ldGhpbmcpO1xuICB9XG4gIHZhciByYXduYW1lID0gZ2V0TmFtZShzb21ldGhpbmcpO1xuICB2YXIgbmFtZSA9IHJhd25hbWUgPyAnOiAnICsgcmF3bmFtZSA6ICcnO1xuICByZXR1cm4gJ1tGdW5jdGlvbicgKyAgbmFtZSArICddJztcbn1cbmZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuICByZXR1cm4gdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmFjdHVhbCksIDEyOCkgKyAnICcgK1xuICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG4gICAgICAgICB0cnVuY2F0ZShpbnNwZWN0KHNlbGYuZXhwZWN0ZWQpLCAxMjgpO1xufVxuXG4vLyBBdCBwcmVzZW50IG9ubHkgdGhlIHRocmVlIGtleXMgbWVudGlvbmVkIGFib3ZlIGFyZSB1c2VkIGFuZFxuLy8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG4vLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlXG4vLyBpZ25vcmVkLlxuXG4vLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcbi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yXG4vLyBkaXNwbGF5IHB1cnBvc2VzLlxuXG5leHBvcnQgZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZ1bmN0aW9uKSB7XG4gIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcih7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uXG4gIH0pO1xufVxuXG4vLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS5cbmFzc2VydC5mYWlsID0gZmFpbDtcblxuLy8gNC4gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISFndWFyZC5cbi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpO1xuLy8gVGhpcyBzdGF0ZW1lbnQgaXMgZXF1aXZhbGVudCB0byBhc3NlcnQuZXF1YWwodHJ1ZSwgISFndWFyZCxcbi8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcbi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy5cblxuZXhwb3J0IGZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIG9rKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuZXhwb3J0IHtvayBhcyBhc3NlcnR9O1xuXG4vLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGhcbi8vID09LlxuLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5lcXVhbCA9IGVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT0nLCBlcXVhbCk7XG59XG5cbi8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWxcbi8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3RFcXVhbCA9IG5vdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9Jywgbm90RXF1YWwpO1xuICB9XG59XG5cbi8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLlxuLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5hc3NlcnQuZGVlcEVxdWFsID0gZGVlcEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBmYWxzZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBkZWVwRXF1YWwpO1xuICB9XG59XG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsID0gZGVlcFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCB0cnVlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBTdHJpY3RFcXVhbCcsIGRlZXBTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKSB7XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgJiYgaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCkgPT09IDA7XG5cbiAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuICB9IGVsc2UgaWYgKGlzRGF0ZShhY3R1YWwpICYmIGlzRGF0ZShleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kXG4gIC8vIHByb3BlcnRpZXMgKGBnbG9iYWxgLCBgbXVsdGlsaW5lYCwgYGxhc3RJbmRleGAsIGBpZ25vcmVDYXNlYCkuXG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAoYWN0dWFsKSAmJiBpc1JlZ0V4cChleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLnNvdXJjZSA9PT0gZXhwZWN0ZWQuc291cmNlICYmXG4gICAgICAgICAgIGFjdHVhbC5nbG9iYWwgPT09IGV4cGVjdGVkLmdsb2JhbCAmJlxuICAgICAgICAgICBhY3R1YWwubXVsdGlsaW5lID09PSBleHBlY3RlZC5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgYWN0dWFsLmxhc3RJbmRleCA9PT0gZXhwZWN0ZWQubGFzdEluZGV4ICYmXG4gICAgICAgICAgIGFjdHVhbC5pZ25vcmVDYXNlID09PSBleHBlY3RlZC5pZ25vcmVDYXNlO1xuXG4gIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICgoYWN0dWFsID09PSBudWxsIHx8IHR5cGVvZiBhY3R1YWwgIT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgIChleHBlY3RlZCA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwZWN0ZWQgIT09ICdvYmplY3QnKSkge1xuICAgIHJldHVybiBzdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIElmIGJvdGggdmFsdWVzIGFyZSBpbnN0YW5jZXMgb2YgdHlwZWQgYXJyYXlzLCB3cmFwIHRoZWlyIHVuZGVybHlpbmdcbiAgLy8gQXJyYXlCdWZmZXJzIGluIGEgQnVmZmVyIGVhY2ggdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2VcbiAgLy8gVGhpcyBvcHRpbWl6YXRpb24gcmVxdWlyZXMgdGhlIGFycmF5cyB0byBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY2hlY2tlZCBieVxuICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIChha2EgcFRvU3RyaW5nKS4gTmV2ZXIgcGVyZm9ybSBiaW5hcnlcbiAgLy8gY29tcGFyaXNvbnMgZm9yIEZsb2F0KkFycmF5cywgdGhvdWdoLCBzaW5jZSBlLmcuICswID09PSAtMCBidXQgdGhlaXJcbiAgLy8gYml0IHBhdHRlcm5zIGFyZSBub3QgaWRlbnRpY2FsLlxuICB9IGVsc2UgaWYgKGlzVmlldyhhY3R1YWwpICYmIGlzVmlldyhleHBlY3RlZCkgJiZcbiAgICAgICAgICAgICBwVG9TdHJpbmcoYWN0dWFsKSA9PT0gcFRvU3RyaW5nKGV4cGVjdGVkKSAmJlxuICAgICAgICAgICAgICEoYWN0dWFsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8XG4gICAgICAgICAgICAgICBhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUobmV3IFVpbnQ4QXJyYXkoYWN0dWFsLmJ1ZmZlciksXG4gICAgICAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZXhwZWN0ZWQuYnVmZmVyKSkgPT09IDA7XG5cbiAgLy8gNy41IEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIGlmIChpc0J1ZmZlcihhY3R1YWwpICE9PSBpc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbWVtb3MgPSBtZW1vcyB8fCB7YWN0dWFsOiBbXSwgZXhwZWN0ZWQ6IFtdfTtcblxuICAgIHZhciBhY3R1YWxJbmRleCA9IG1lbW9zLmFjdHVhbC5pbmRleE9mKGFjdHVhbCk7XG4gICAgaWYgKGFjdHVhbEluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGFjdHVhbEluZGV4ID09PSBtZW1vcy5leHBlY3RlZC5pbmRleE9mKGV4cGVjdGVkKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vcy5hY3R1YWwucHVzaChhY3R1YWwpO1xuICAgIG1lbW9zLmV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpO1xuXG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIHN0cmljdCwgbWVtb3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIHN0cmljdCwgYWN0dWFsVmlzaXRlZE9iamVjdHMpIHtcbiAgaWYgKGEgPT09IG51bGwgfHwgYSA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gaWYgb25lIGlzIGEgcHJpbWl0aXZlLCB0aGUgb3RoZXIgbXVzdCBiZSBzYW1lXG4gIGlmIChpc1ByaW1pdGl2ZShhKSB8fCBpc1ByaW1pdGl2ZShiKSlcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgaWYgKHN0cmljdCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSk7XG4gIHZhciBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7XG4gIGlmICgoYUlzQXJncyAmJiAhYklzQXJncykgfHwgKCFhSXNBcmdzICYmIGJJc0FyZ3MpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFJc0FyZ3MpIHtcbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIsIHN0cmljdCk7XG4gIH1cbiAgdmFyIGthID0gb2JqZWN0S2V5cyhhKTtcbiAgdmFyIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgdmFyIGtleSwgaTtcbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT09IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gOC4gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG4vLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3REZWVwRXF1YWwgPSBub3REZWVwRXF1YWw7XG5leHBvcnQgZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgbm90RGVlcEVxdWFsKTtcbiAgfVxufVxuXG5hc3NlcnQubm90RGVlcFN0cmljdEVxdWFsID0gbm90RGVlcFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdERlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIHRydWUpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcFN0cmljdEVxdWFsJywgbm90RGVlcFN0cmljdEVxdWFsKTtcbiAgfVxufVxuXG5cbi8vIDkuIFRoZSBzdHJpY3QgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHN0cmljdCBlcXVhbGl0eSwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuYXNzZXJ0LnN0cmljdEVxdWFsID0gc3RyaWN0RXF1YWw7XG5leHBvcnQgZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09PScsIHN0cmljdEVxdWFsKTtcbiAgfVxufVxuXG4vLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXNcbi8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcbmFzc2VydC5ub3RTdHJpY3RFcXVhbCA9IG5vdFN0cmljdEVxdWFsO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPT0nLCBub3RTdHJpY3RFcXVhbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLiAgVGhlIGluc3RhbmNlb2YgY2hlY2sgZG9lc24ndCB3b3JrIGZvciBhcnJvdyBmdW5jdGlvbnMuXG4gIH1cblxuICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX3RyeUJsb2NrKGJsb2NrKSB7XG4gIHZhciBlcnJvcjtcbiAgdHJ5IHtcbiAgICBibG9jaygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3IgPSBlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIHZhciBhY3R1YWw7XG5cbiAgaWYgKHR5cGVvZiBibG9jayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYmxvY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IGV4cGVjdGVkO1xuICAgIGV4cGVjdGVkID0gbnVsbDtcbiAgfVxuXG4gIGFjdHVhbCA9IF90cnlCbG9jayhibG9jayk7XG5cbiAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG4gICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpO1xuXG4gIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICB2YXIgdXNlclByb3ZpZGVkTWVzc2FnZSA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJztcbiAgdmFyIGlzVW53YW50ZWRFeGNlcHRpb24gPSAhc2hvdWxkVGhyb3cgJiYgaXNFcnJvcihhY3R1YWwpO1xuICB2YXIgaXNVbmV4cGVjdGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIGFjdHVhbCAmJiAhZXhwZWN0ZWQ7XG5cbiAgaWYgKChpc1Vud2FudGVkRXhjZXB0aW9uICYmXG4gICAgICB1c2VyUHJvdmlkZWRNZXNzYWdlICYmXG4gICAgICBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHxcbiAgICAgIGlzVW5leHBlY3RlZEV4Y2VwdGlvbikge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuLy8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7XG5hc3NlcnQudGhyb3dzID0gdGhyb3dzO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93cyhibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyh0cnVlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufVxuXG4vLyBFWFRFTlNJT04hIFRoaXMgaXMgYW5ub3lpbmcgdG8gd3JpdGUgb3V0c2lkZSB0aGlzIG1vZHVsZS5cbmFzc2VydC5kb2VzTm90VGhyb3cgPSBkb2VzTm90VGhyb3c7XG5leHBvcnQgZnVuY3Rpb24gZG9lc05vdFRocm93KGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzKGZhbHNlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufVxuXG5hc3NlcnQuaWZFcnJvciA9IGlmRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gaWZFcnJvcihlcnIpIHtcbiAgaWYgKGVycikgdGhyb3cgZXJyO1xufVxuIiwiLyoqXG4gKiBbanMtc2hhM117QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VtbjE3OC9qcy1zaGEzfVxuICpcbiAqIEB2ZXJzaW9uIDAuOC4wXG4gKiBAYXV0aG9yIENoZW4sIFlpLUN5dWFuIFtlbW4xNzhAZ21haWwuY29tXVxuICogQGNvcHlyaWdodCBDaGVuLCBZaS1DeXVhbiAyMDE1LTIwMThcbiAqIEBsaWNlbnNlIE1JVFxuICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIElOUFVUX0VSUk9SID0gJ2lucHV0IGlzIGludmFsaWQgdHlwZSc7XG4gIHZhciBGSU5BTElaRV9FUlJPUiA9ICdmaW5hbGl6ZSBhbHJlYWR5IGNhbGxlZCc7XG4gIHZhciBXSU5ET1cgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JztcbiAgdmFyIHJvb3QgPSBXSU5ET1cgPyB3aW5kb3cgOiB7fTtcbiAgaWYgKHJvb3QuSlNfU0hBM19OT19XSU5ET1cpIHtcbiAgICBXSU5ET1cgPSBmYWxzZTtcbiAgfVxuICB2YXIgV0VCX1dPUktFUiA9ICFXSU5ET1cgJiYgdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnO1xuICB2YXIgTk9ERV9KUyA9ICFyb290LkpTX1NIQTNfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7XG4gIGlmIChOT0RFX0pTKSB7XG4gICAgcm9vdCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChXRUJfV09SS0VSKSB7XG4gICAgcm9vdCA9IHNlbGY7XG4gIH1cbiAgdmFyIENPTU1PTl9KUyA9ICFyb290LkpTX1NIQTNfTk9fQ09NTU9OX0pTICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzO1xuICB2YXIgQU1EID0gdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kO1xuICB2YXIgQVJSQVlfQlVGRkVSID0gIXJvb3QuSlNfU0hBM19OT19BUlJBWV9CVUZGRVIgJiYgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJztcbiAgdmFyIEhFWF9DSEFSUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7XG4gIHZhciBTSEFLRV9QQURESU5HID0gWzMxLCA3OTM2LCAyMDMxNjE2LCA1MjAwOTM2OTZdO1xuICB2YXIgQ1NIQUtFX1BBRERJTkcgPSBbNCwgMTAyNCwgMjYyMTQ0LCA2NzEwODg2NF07XG4gIHZhciBLRUNDQUtfUEFERElORyA9IFsxLCAyNTYsIDY1NTM2LCAxNjc3NzIxNl07XG4gIHZhciBQQURESU5HID0gWzYsIDE1MzYsIDM5MzIxNiwgMTAwNjYzMjk2XTtcbiAgdmFyIFNISUZUID0gWzAsIDgsIDE2LCAyNF07XG4gIHZhciBSQyA9IFsxLCAwLCAzMjg5OCwgMCwgMzI5MDYsIDIxNDc0ODM2NDgsIDIxNDc1MTY0MTYsIDIxNDc0ODM2NDgsIDMyOTA3LCAwLCAyMTQ3NDgzNjQ5LFxuICAgIDAsIDIxNDc1MTY1NDUsIDIxNDc0ODM2NDgsIDMyNzc3LCAyMTQ3NDgzNjQ4LCAxMzgsIDAsIDEzNiwgMCwgMjE0NzUxNjQyNSwgMCxcbiAgICAyMTQ3NDgzNjU4LCAwLCAyMTQ3NTE2NTU1LCAwLCAxMzksIDIxNDc0ODM2NDgsIDMyOTA1LCAyMTQ3NDgzNjQ4LCAzMjc3MSxcbiAgICAyMTQ3NDgzNjQ4LCAzMjc3MCwgMjE0NzQ4MzY0OCwgMTI4LCAyMTQ3NDgzNjQ4LCAzMjc3OCwgMCwgMjE0NzQ4MzY1OCwgMjE0NzQ4MzY0OCxcbiAgICAyMTQ3NTE2NTQ1LCAyMTQ3NDgzNjQ4LCAzMjg5NiwgMjE0NzQ4MzY0OCwgMjE0NzQ4MzY0OSwgMCwgMjE0NzUxNjQyNCwgMjE0NzQ4MzY0OF07XG4gIHZhciBCSVRTID0gWzIyNCwgMjU2LCAzODQsIDUxMl07XG4gIHZhciBTSEFLRV9CSVRTID0gWzEyOCwgMjU2XTtcbiAgdmFyIE9VVFBVVF9UWVBFUyA9IFsnaGV4JywgJ2J1ZmZlcicsICdhcnJheUJ1ZmZlcicsICdhcnJheScsICdkaWdlc3QnXTtcbiAgdmFyIENTSEFLRV9CWVRFUEFEID0ge1xuICAgICcxMjgnOiAxNjgsXG4gICAgJzI1Nic6IDEzNlxuICB9O1xuXG4gIGlmIChyb290LkpTX1NIQTNfTk9fTk9ERV9KUyB8fCAhQXJyYXkuaXNBcnJheSkge1xuICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChBUlJBWV9CVUZGRVIgJiYgKHJvb3QuSlNfU0hBM19OT19BUlJBWV9CVUZGRVJfSVNfVklFVyB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouYnVmZmVyICYmIG9iai5idWZmZXIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyO1xuICAgIH07XG4gIH1cblxuICB2YXIgY3JlYXRlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIGJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNoYWtlT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKGJpdHMsIHBhZGRpbmcsIG91dHB1dFR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIG91dHB1dEJpdHMpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNzaGFrZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nLCBvdXRwdXRUeXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kc1snY3NoYWtlJyArIGJpdHNdLnVwZGF0ZShtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUttYWNPdXRwdXRNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZywgb3V0cHV0VHlwZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kc1sna21hYycgKyBiaXRzXS51cGRhdGUoa2V5LCBtZXNzYWdlLCBvdXRwdXRCaXRzLCBzKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZHMgPSBmdW5jdGlvbiAobWV0aG9kLCBjcmVhdGVNZXRob2QsIGJpdHMsIHBhZGRpbmcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE9VVFBVVF9UWVBFUy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHR5cGUgPSBPVVRQVVRfVFlQRVNbaV07XG4gICAgICBtZXRob2RbdHlwZV0gPSBjcmVhdGVNZXRob2QoYml0cywgcGFkZGluZywgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2Q7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZU91dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7XG4gICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgS2VjY2FrKGJpdHMsIHBhZGRpbmcsIGJpdHMpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZSgpLnVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVPdXRwdXRNZXRob2RzKG1ldGhvZCwgY3JlYXRlT3V0cHV0TWV0aG9kLCBiaXRzLCBwYWRkaW5nKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlU2hha2VNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykge1xuICAgIHZhciBtZXRob2QgPSBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZChiaXRzLCBwYWRkaW5nLCAnaGV4Jyk7XG4gICAgbWV0aG9kLmNyZWF0ZSA9IGZ1bmN0aW9uIChvdXRwdXRCaXRzKSB7XG4gICAgICByZXR1cm4gbmV3IEtlY2NhayhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKTtcbiAgICB9O1xuICAgIG1ldGhvZC51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3V0cHV0Qml0cykge1xuICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUob3V0cHV0Qml0cykudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZU91dHB1dE1ldGhvZHMobWV0aG9kLCBjcmVhdGVTaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNzaGFrZU1ldGhvZCA9IGZ1bmN0aW9uIChiaXRzLCBwYWRkaW5nKSB7XG4gICAgdmFyIHcgPSBDU0hBS0VfQllURVBBRFtiaXRzXTtcbiAgICB2YXIgbWV0aG9kID0gY3JlYXRlQ3NoYWtlT3V0cHV0TWV0aG9kKGJpdHMsIHBhZGRpbmcsICdoZXgnKTtcbiAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKG91dHB1dEJpdHMsIG4sIHMpIHtcbiAgICAgIGlmICghbiAmJiAhcykge1xuICAgICAgICByZXR1cm4gbWV0aG9kc1snc2hha2UnICsgYml0c10uY3JlYXRlKG91dHB1dEJpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLZWNjYWsoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykuYnl0ZXBhZChbbiwgc10sIHcpO1xuICAgICAgfVxuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvdXRwdXRCaXRzLCBuLCBzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kLmNyZWF0ZShvdXRwdXRCaXRzLCBuLCBzKS51cGRhdGUobWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZUNzaGFrZU91dHB1dE1ldGhvZCwgYml0cywgcGFkZGluZyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUttYWNNZXRob2QgPSBmdW5jdGlvbiAoYml0cywgcGFkZGluZykge1xuICAgIHZhciB3ID0gQ1NIQUtFX0JZVEVQQURbYml0c107XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZUttYWNPdXRwdXRNZXRob2QoYml0cywgcGFkZGluZywgJ2hleCcpO1xuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoa2V5LCBvdXRwdXRCaXRzLCBzKSB7XG4gICAgICByZXR1cm4gbmV3IEttYWMoYml0cywgcGFkZGluZywgb3V0cHV0Qml0cykuYnl0ZXBhZChbJ0tNQUMnLCBzXSwgdykuYnl0ZXBhZChba2V5XSwgdyk7XG4gICAgfTtcbiAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKGtleSwgbWVzc2FnZSwgb3V0cHV0Qml0cywgcykge1xuICAgICAgcmV0dXJuIG1ldGhvZC5jcmVhdGUoa2V5LCBvdXRwdXRCaXRzLCBzKS51cGRhdGUobWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlT3V0cHV0TWV0aG9kcyhtZXRob2QsIGNyZWF0ZUttYWNPdXRwdXRNZXRob2QsIGJpdHMsIHBhZGRpbmcpO1xuICB9O1xuXG4gIHZhciBhbGdvcml0aG1zID0gW1xuICAgIHsgbmFtZTogJ2tlY2NhaycsIHBhZGRpbmc6IEtFQ0NBS19QQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ3NoYTMnLCBwYWRkaW5nOiBQQURESU5HLCBiaXRzOiBCSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ3NoYWtlJywgcGFkZGluZzogU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVTaGFrZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ2NzaGFrZScsIHBhZGRpbmc6IENTSEFLRV9QQURESU5HLCBiaXRzOiBTSEFLRV9CSVRTLCBjcmVhdGVNZXRob2Q6IGNyZWF0ZUNzaGFrZU1ldGhvZCB9LFxuICAgIHsgbmFtZTogJ2ttYWMnLCBwYWRkaW5nOiBDU0hBS0VfUEFERElORywgYml0czogU0hBS0VfQklUUywgY3JlYXRlTWV0aG9kOiBjcmVhdGVLbWFjTWV0aG9kIH1cbiAgXTtcblxuICB2YXIgbWV0aG9kcyA9IHt9LCBtZXRob2ROYW1lcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWxnb3JpdGhtcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBhbGdvcml0aG0gPSBhbGdvcml0aG1zW2ldO1xuICAgIHZhciBiaXRzID0gYWxnb3JpdGhtLmJpdHM7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiaXRzLmxlbmd0aDsgKytqKSB7XG4gICAgICB2YXIgbWV0aG9kTmFtZSA9IGFsZ29yaXRobS5uYW1lICsgJ18nICsgYml0c1tqXTtcbiAgICAgIG1ldGhvZE5hbWVzLnB1c2gobWV0aG9kTmFtZSk7XG4gICAgICBtZXRob2RzW21ldGhvZE5hbWVdID0gYWxnb3JpdGhtLmNyZWF0ZU1ldGhvZChiaXRzW2pdLCBhbGdvcml0aG0ucGFkZGluZyk7XG4gICAgICBpZiAoYWxnb3JpdGhtLm5hbWUgIT09ICdzaGEzJykge1xuICAgICAgICB2YXIgbmV3TWV0aG9kTmFtZSA9IGFsZ29yaXRobS5uYW1lICsgYml0c1tqXTtcbiAgICAgICAgbWV0aG9kTmFtZXMucHVzaChuZXdNZXRob2ROYW1lKTtcbiAgICAgICAgbWV0aG9kc1tuZXdNZXRob2ROYW1lXSA9IG1ldGhvZHNbbWV0aG9kTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gS2VjY2FrKGJpdHMsIHBhZGRpbmcsIG91dHB1dEJpdHMpIHtcbiAgICB0aGlzLmJsb2NrcyA9IFtdO1xuICAgIHRoaXMucyA9IFtdO1xuICAgIHRoaXMucGFkZGluZyA9IHBhZGRpbmc7XG4gICAgdGhpcy5vdXRwdXRCaXRzID0gb3V0cHV0Qml0cztcbiAgICB0aGlzLnJlc2V0ID0gdHJ1ZTtcbiAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuYmxvY2sgPSAwO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuYmxvY2tDb3VudCA9ICgxNjAwIC0gKGJpdHMgPDwgMSkpID4+IDU7XG4gICAgdGhpcy5ieXRlQ291bnQgPSB0aGlzLmJsb2NrQ291bnQgPDwgMjtcbiAgICB0aGlzLm91dHB1dEJsb2NrcyA9IG91dHB1dEJpdHMgPj4gNTtcbiAgICB0aGlzLmV4dHJhQnl0ZXMgPSAob3V0cHV0Qml0cyAmIDMxKSA+PiAzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgKytpKSB7XG4gICAgICB0aGlzLnNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIEtlY2Nhay5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihGSU5BTElaRV9FUlJPUik7XG4gICAgfVxuICAgIHZhciBub3RTdHJpbmcsIHR5cGUgPSB0eXBlb2YgbWVzc2FnZTtcbiAgICBpZiAodHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7XG4gICAgICAgIH0gZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhtZXNzYWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlBVVF9FUlJPUik7XG4gICAgICB9XG4gICAgICBub3RTdHJpbmcgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgYmxvY2tzID0gdGhpcy5ibG9ja3MsIGJ5dGVDb3VudCA9IHRoaXMuYnl0ZUNvdW50LCBsZW5ndGggPSBtZXNzYWdlLmxlbmd0aCxcbiAgICAgIGJsb2NrQ291bnQgPSB0aGlzLmJsb2NrQ291bnQsIGluZGV4ID0gMCwgcyA9IHRoaXMucywgaSwgY29kZTtcblxuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMucmVzZXQpIHtcbiAgICAgICAgdGhpcy5yZXNldCA9IGZhbHNlO1xuICAgICAgICBibG9ja3NbMF0gPSB0aGlzLmJsb2NrO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkge1xuICAgICAgICAgIGJsb2Nrc1tpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub3RTdHJpbmcpIHtcbiAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IGJ5dGVDb3VudDsgKytpbmRleCkge1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgYnl0ZUNvdW50OyArK2luZGV4KSB7XG4gICAgICAgICAgY29kZSA9IG1lc3NhZ2UuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhjMCB8IChjb2RlID4+IDYpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhlMCB8IChjb2RlID4+IDEyKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKCgoY29kZSAmIDB4M2ZmKSA8PCAxMCkgfCAobWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpKTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGYwIHwgKGNvZGUgPj4gMTgpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDEyKSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7XG4gICAgICBpZiAoaSA+PSBieXRlQ291bnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGkgLSBieXRlQ291bnQ7XG4gICAgICAgIHRoaXMuYmxvY2sgPSBibG9ja3NbYmxvY2tDb3VudF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50OyArK2kpIHtcbiAgICAgICAgICBzW2ldIF49IGJsb2Nrc1tpXTtcbiAgICAgICAgfVxuICAgICAgICBmKHMpO1xuICAgICAgICB0aGlzLnJlc2V0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICh4LCByaWdodCkge1xuICAgIHZhciBvID0geCAmIDI1NSwgbiA9IDE7XG4gICAgdmFyIGJ5dGVzID0gW29dO1xuICAgIHggPSB4ID4+IDg7XG4gICAgbyA9IHggJiAyNTU7XG4gICAgd2hpbGUgKG8gPiAwKSB7XG4gICAgICBieXRlcy51bnNoaWZ0KG8pO1xuICAgICAgeCA9IHggPj4gODtcbiAgICAgIG8gPSB4ICYgMjU1O1xuICAgICAgKytuO1xuICAgIH1cbiAgICBpZiAocmlnaHQpIHtcbiAgICAgIGJ5dGVzLnB1c2gobik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ5dGVzLnVuc2hpZnQobik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKGJ5dGVzKTtcbiAgICByZXR1cm4gYnl0ZXMubGVuZ3RoO1xuICB9O1xuXG4gIEtlY2Nhay5wcm90b3R5cGUuZW5jb2RlU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHZhciBub3RTdHJpbmcsIHR5cGUgPSB0eXBlb2Ygc3RyO1xuICAgIGlmICh0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChzdHIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBzdHIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgc3RyID0gbmV3IFVpbnQ4QXJyYXkoc3RyKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzdHIpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhzdHIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5QVVRfRVJST1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOUFVUX0VSUk9SKTtcbiAgICAgIH1cbiAgICAgIG5vdFN0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBieXRlcyA9IDAsIGxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKG5vdFN0cmluZykge1xuICAgICAgYnl0ZXMgPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgIGJ5dGVzICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgYnl0ZXMgKz0gMjtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgYnl0ZXMgKz0gMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDNmZikpO1xuICAgICAgICAgIGJ5dGVzICs9IDQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYnl0ZXMgKz0gdGhpcy5lbmNvZGUoYnl0ZXMgKiA4KTtcbiAgICB0aGlzLnVwZGF0ZShzdHIpO1xuICAgIHJldHVybiBieXRlcztcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmJ5dGVwYWQgPSBmdW5jdGlvbiAoc3Rycywgdykge1xuICAgIHZhciBieXRlcyA9IHRoaXMuZW5jb2RlKHcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Rycy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMgKz0gdGhpcy5lbmNvZGVTdHJpbmcoc3Ryc1tpXSk7XG4gICAgfVxuICAgIHZhciBwYWRkaW5nQnl0ZXMgPSB3IC0gYnl0ZXMgJSB3O1xuICAgIHZhciB6ZXJvcyA9IFtdO1xuICAgIHplcm9zLmxlbmd0aCA9IHBhZGRpbmdCeXRlcztcbiAgICB0aGlzLnVwZGF0ZSh6ZXJvcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgS2VjY2FrLnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleCwgYmxvY2tDb3VudCA9IHRoaXMuYmxvY2tDb3VudCwgcyA9IHRoaXMucztcbiAgICBibG9ja3NbaSA+PiAyXSB8PSB0aGlzLnBhZGRpbmdbaSAmIDNdO1xuICAgIGlmICh0aGlzLmxhc3RCeXRlSW5kZXggPT09IHRoaXMuYnl0ZUNvdW50KSB7XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbYmxvY2tDb3VudF07XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgYmxvY2tDb3VudCArIDE7ICsraSkge1xuICAgICAgICBibG9ja3NbaV0gPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBibG9ja3NbYmxvY2tDb3VudCAtIDFdIHw9IDB4ODAwMDAwMDA7XG4gICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQ7ICsraSkge1xuICAgICAgc1tpXSBePSBibG9ja3NbaV07XG4gICAgfVxuICAgIGYocyk7XG4gIH07XG5cbiAgS2VjY2FrLnByb3RvdHlwZS50b1N0cmluZyA9IEtlY2Nhay5wcm90b3R5cGUuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcyxcbiAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDtcbiAgICB2YXIgaGV4ID0gJycsIGJsb2NrO1xuICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikge1xuICAgICAgICBibG9jayA9IHNbaV07XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgJiAweDBGXSArXG4gICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gOCkgJiAweDBGXSArXG4gICAgICAgICAgSEVYX0NIQVJTWyhibG9jayA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soYmxvY2sgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgICAgIEhFWF9DSEFSU1soYmxvY2sgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGJsb2NrID4+IDI0KSAmIDB4MEZdO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICAgIGkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXh0cmFCeXRlcykge1xuICAgICAgYmxvY2sgPSBzW2ldO1xuICAgICAgaGV4ICs9IEhFWF9DSEFSU1soYmxvY2sgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayAmIDB4MEZdO1xuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAxKSB7XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiA4KSAmIDB4MEZdO1xuICAgICAgfVxuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAyKSB7XG4gICAgICAgIGhleCArPSBIRVhfQ0hBUlNbKGJsb2NrID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhibG9jayA+PiAxNikgJiAweDBGXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbiAgfTtcblxuICBLZWNjYWsucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluYWxpemUoKTtcblxuICAgIHZhciBibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50LCBzID0gdGhpcy5zLCBvdXRwdXRCbG9ja3MgPSB0aGlzLm91dHB1dEJsb2NrcyxcbiAgICAgIGV4dHJhQnl0ZXMgPSB0aGlzLmV4dHJhQnl0ZXMsIGkgPSAwLCBqID0gMDtcbiAgICB2YXIgYnl0ZXMgPSB0aGlzLm91dHB1dEJpdHMgPj4gMztcbiAgICB2YXIgYnVmZmVyO1xuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoKG91dHB1dEJsb2NrcyArIDEpIDw8IDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZXMpO1xuICAgIH1cbiAgICB2YXIgYXJyYXkgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICB3aGlsZSAoaiA8IG91dHB1dEJsb2Nrcykge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQgJiYgaiA8IG91dHB1dEJsb2NrczsgKytpLCArK2opIHtcbiAgICAgICAgYXJyYXlbal0gPSBzW2ldO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBhcnJheVtpXSA9IHNbaV07XG4gICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UoMCwgYnl0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIEtlY2Nhay5wcm90b3R5cGUuYnVmZmVyID0gS2VjY2FrLnByb3RvdHlwZS5hcnJheUJ1ZmZlcjtcblxuICBLZWNjYWsucHJvdG90eXBlLmRpZ2VzdCA9IEtlY2Nhay5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGJsb2NrQ291bnQgPSB0aGlzLmJsb2NrQ291bnQsIHMgPSB0aGlzLnMsIG91dHB1dEJsb2NrcyA9IHRoaXMub3V0cHV0QmxvY2tzLFxuICAgICAgZXh0cmFCeXRlcyA9IHRoaXMuZXh0cmFCeXRlcywgaSA9IDAsIGogPSAwO1xuICAgIHZhciBhcnJheSA9IFtdLCBvZmZzZXQsIGJsb2NrO1xuICAgIHdoaWxlIChqIDwgb3V0cHV0QmxvY2tzKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikge1xuICAgICAgICBvZmZzZXQgPSBqIDw8IDI7XG4gICAgICAgIGJsb2NrID0gc1tpXTtcbiAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGJsb2NrICYgMHhGRjtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAoYmxvY2sgPj4gOCkgJiAweEZGO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IChibG9jayA+PiAxNikgJiAweEZGO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAzXSA9IChibG9jayA+PiAyNCkgJiAweEZGO1xuICAgICAgfVxuICAgICAgaWYgKGogJSBibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGYocyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHRyYUJ5dGVzKSB7XG4gICAgICBvZmZzZXQgPSBqIDw8IDI7XG4gICAgICBibG9jayA9IHNbaV07XG4gICAgICBhcnJheVtvZmZzZXRdID0gYmxvY2sgJiAweEZGO1xuICAgICAgaWYgKGV4dHJhQnl0ZXMgPiAxKSB7XG4gICAgICAgIGFycmF5W29mZnNldCArIDFdID0gKGJsb2NrID4+IDgpICYgMHhGRjtcbiAgICAgIH1cbiAgICAgIGlmIChleHRyYUJ5dGVzID4gMikge1xuICAgICAgICBhcnJheVtvZmZzZXQgKyAyXSA9IChibG9jayA+PiAxNikgJiAweEZGO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgZnVuY3Rpb24gS21hYyhiaXRzLCBwYWRkaW5nLCBvdXRwdXRCaXRzKSB7XG4gICAgS2VjY2FrLmNhbGwodGhpcywgYml0cywgcGFkZGluZywgb3V0cHV0Qml0cyk7XG4gIH1cblxuICBLbWFjLnByb3RvdHlwZSA9IG5ldyBLZWNjYWsoKTtcblxuICBLbWFjLnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuY29kZSh0aGlzLm91dHB1dEJpdHMsIHRydWUpO1xuICAgIHJldHVybiBLZWNjYWsucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgdmFyIGYgPSBmdW5jdGlvbiAocykge1xuICAgIHZhciBoLCBsLCBuLCBjMCwgYzEsIGMyLCBjMywgYzQsIGM1LCBjNiwgYzcsIGM4LCBjOSxcbiAgICAgIGIwLCBiMSwgYjIsIGIzLCBiNCwgYjUsIGI2LCBiNywgYjgsIGI5LCBiMTAsIGIxMSwgYjEyLCBiMTMsIGIxNCwgYjE1LCBiMTYsIGIxNyxcbiAgICAgIGIxOCwgYjE5LCBiMjAsIGIyMSwgYjIyLCBiMjMsIGIyNCwgYjI1LCBiMjYsIGIyNywgYjI4LCBiMjksIGIzMCwgYjMxLCBiMzIsIGIzMyxcbiAgICAgIGIzNCwgYjM1LCBiMzYsIGIzNywgYjM4LCBiMzksIGI0MCwgYjQxLCBiNDIsIGI0MywgYjQ0LCBiNDUsIGI0NiwgYjQ3LCBiNDgsIGI0OTtcbiAgICBmb3IgKG4gPSAwOyBuIDwgNDg7IG4gKz0gMikge1xuICAgICAgYzAgPSBzWzBdIF4gc1sxMF0gXiBzWzIwXSBeIHNbMzBdIF4gc1s0MF07XG4gICAgICBjMSA9IHNbMV0gXiBzWzExXSBeIHNbMjFdIF4gc1szMV0gXiBzWzQxXTtcbiAgICAgIGMyID0gc1syXSBeIHNbMTJdIF4gc1syMl0gXiBzWzMyXSBeIHNbNDJdO1xuICAgICAgYzMgPSBzWzNdIF4gc1sxM10gXiBzWzIzXSBeIHNbMzNdIF4gc1s0M107XG4gICAgICBjNCA9IHNbNF0gXiBzWzE0XSBeIHNbMjRdIF4gc1szNF0gXiBzWzQ0XTtcbiAgICAgIGM1ID0gc1s1XSBeIHNbMTVdIF4gc1syNV0gXiBzWzM1XSBeIHNbNDVdO1xuICAgICAgYzYgPSBzWzZdIF4gc1sxNl0gXiBzWzI2XSBeIHNbMzZdIF4gc1s0Nl07XG4gICAgICBjNyA9IHNbN10gXiBzWzE3XSBeIHNbMjddIF4gc1szN10gXiBzWzQ3XTtcbiAgICAgIGM4ID0gc1s4XSBeIHNbMThdIF4gc1syOF0gXiBzWzM4XSBeIHNbNDhdO1xuICAgICAgYzkgPSBzWzldIF4gc1sxOV0gXiBzWzI5XSBeIHNbMzldIF4gc1s0OV07XG5cbiAgICAgIGggPSBjOCBeICgoYzIgPDwgMSkgfCAoYzMgPj4+IDMxKSk7XG4gICAgICBsID0gYzkgXiAoKGMzIDw8IDEpIHwgKGMyID4+PiAzMSkpO1xuICAgICAgc1swXSBePSBoO1xuICAgICAgc1sxXSBePSBsO1xuICAgICAgc1sxMF0gXj0gaDtcbiAgICAgIHNbMTFdIF49IGw7XG4gICAgICBzWzIwXSBePSBoO1xuICAgICAgc1syMV0gXj0gbDtcbiAgICAgIHNbMzBdIF49IGg7XG4gICAgICBzWzMxXSBePSBsO1xuICAgICAgc1s0MF0gXj0gaDtcbiAgICAgIHNbNDFdIF49IGw7XG4gICAgICBoID0gYzAgXiAoKGM0IDw8IDEpIHwgKGM1ID4+PiAzMSkpO1xuICAgICAgbCA9IGMxIF4gKChjNSA8PCAxKSB8IChjNCA+Pj4gMzEpKTtcbiAgICAgIHNbMl0gXj0gaDtcbiAgICAgIHNbM10gXj0gbDtcbiAgICAgIHNbMTJdIF49IGg7XG4gICAgICBzWzEzXSBePSBsO1xuICAgICAgc1syMl0gXj0gaDtcbiAgICAgIHNbMjNdIF49IGw7XG4gICAgICBzWzMyXSBePSBoO1xuICAgICAgc1szM10gXj0gbDtcbiAgICAgIHNbNDJdIF49IGg7XG4gICAgICBzWzQzXSBePSBsO1xuICAgICAgaCA9IGMyIF4gKChjNiA8PCAxKSB8IChjNyA+Pj4gMzEpKTtcbiAgICAgIGwgPSBjMyBeICgoYzcgPDwgMSkgfCAoYzYgPj4+IDMxKSk7XG4gICAgICBzWzRdIF49IGg7XG4gICAgICBzWzVdIF49IGw7XG4gICAgICBzWzE0XSBePSBoO1xuICAgICAgc1sxNV0gXj0gbDtcbiAgICAgIHNbMjRdIF49IGg7XG4gICAgICBzWzI1XSBePSBsO1xuICAgICAgc1szNF0gXj0gaDtcbiAgICAgIHNbMzVdIF49IGw7XG4gICAgICBzWzQ0XSBePSBoO1xuICAgICAgc1s0NV0gXj0gbDtcbiAgICAgIGggPSBjNCBeICgoYzggPDwgMSkgfCAoYzkgPj4+IDMxKSk7XG4gICAgICBsID0gYzUgXiAoKGM5IDw8IDEpIHwgKGM4ID4+PiAzMSkpO1xuICAgICAgc1s2XSBePSBoO1xuICAgICAgc1s3XSBePSBsO1xuICAgICAgc1sxNl0gXj0gaDtcbiAgICAgIHNbMTddIF49IGw7XG4gICAgICBzWzI2XSBePSBoO1xuICAgICAgc1syN10gXj0gbDtcbiAgICAgIHNbMzZdIF49IGg7XG4gICAgICBzWzM3XSBePSBsO1xuICAgICAgc1s0Nl0gXj0gaDtcbiAgICAgIHNbNDddIF49IGw7XG4gICAgICBoID0gYzYgXiAoKGMwIDw8IDEpIHwgKGMxID4+PiAzMSkpO1xuICAgICAgbCA9IGM3IF4gKChjMSA8PCAxKSB8IChjMCA+Pj4gMzEpKTtcbiAgICAgIHNbOF0gXj0gaDtcbiAgICAgIHNbOV0gXj0gbDtcbiAgICAgIHNbMThdIF49IGg7XG4gICAgICBzWzE5XSBePSBsO1xuICAgICAgc1syOF0gXj0gaDtcbiAgICAgIHNbMjldIF49IGw7XG4gICAgICBzWzM4XSBePSBoO1xuICAgICAgc1szOV0gXj0gbDtcbiAgICAgIHNbNDhdIF49IGg7XG4gICAgICBzWzQ5XSBePSBsO1xuXG4gICAgICBiMCA9IHNbMF07XG4gICAgICBiMSA9IHNbMV07XG4gICAgICBiMzIgPSAoc1sxMV0gPDwgNCkgfCAoc1sxMF0gPj4+IDI4KTtcbiAgICAgIGIzMyA9IChzWzEwXSA8PCA0KSB8IChzWzExXSA+Pj4gMjgpO1xuICAgICAgYjE0ID0gKHNbMjBdIDw8IDMpIHwgKHNbMjFdID4+PiAyOSk7XG4gICAgICBiMTUgPSAoc1syMV0gPDwgMykgfCAoc1syMF0gPj4+IDI5KTtcbiAgICAgIGI0NiA9IChzWzMxXSA8PCA5KSB8IChzWzMwXSA+Pj4gMjMpO1xuICAgICAgYjQ3ID0gKHNbMzBdIDw8IDkpIHwgKHNbMzFdID4+PiAyMyk7XG4gICAgICBiMjggPSAoc1s0MF0gPDwgMTgpIHwgKHNbNDFdID4+PiAxNCk7XG4gICAgICBiMjkgPSAoc1s0MV0gPDwgMTgpIHwgKHNbNDBdID4+PiAxNCk7XG4gICAgICBiMjAgPSAoc1syXSA8PCAxKSB8IChzWzNdID4+PiAzMSk7XG4gICAgICBiMjEgPSAoc1szXSA8PCAxKSB8IChzWzJdID4+PiAzMSk7XG4gICAgICBiMiA9IChzWzEzXSA8PCAxMikgfCAoc1sxMl0gPj4+IDIwKTtcbiAgICAgIGIzID0gKHNbMTJdIDw8IDEyKSB8IChzWzEzXSA+Pj4gMjApO1xuICAgICAgYjM0ID0gKHNbMjJdIDw8IDEwKSB8IChzWzIzXSA+Pj4gMjIpO1xuICAgICAgYjM1ID0gKHNbMjNdIDw8IDEwKSB8IChzWzIyXSA+Pj4gMjIpO1xuICAgICAgYjE2ID0gKHNbMzNdIDw8IDEzKSB8IChzWzMyXSA+Pj4gMTkpO1xuICAgICAgYjE3ID0gKHNbMzJdIDw8IDEzKSB8IChzWzMzXSA+Pj4gMTkpO1xuICAgICAgYjQ4ID0gKHNbNDJdIDw8IDIpIHwgKHNbNDNdID4+PiAzMCk7XG4gICAgICBiNDkgPSAoc1s0M10gPDwgMikgfCAoc1s0Ml0gPj4+IDMwKTtcbiAgICAgIGI0MCA9IChzWzVdIDw8IDMwKSB8IChzWzRdID4+PiAyKTtcbiAgICAgIGI0MSA9IChzWzRdIDw8IDMwKSB8IChzWzVdID4+PiAyKTtcbiAgICAgIGIyMiA9IChzWzE0XSA8PCA2KSB8IChzWzE1XSA+Pj4gMjYpO1xuICAgICAgYjIzID0gKHNbMTVdIDw8IDYpIHwgKHNbMTRdID4+PiAyNik7XG4gICAgICBiNCA9IChzWzI1XSA8PCAxMSkgfCAoc1syNF0gPj4+IDIxKTtcbiAgICAgIGI1ID0gKHNbMjRdIDw8IDExKSB8IChzWzI1XSA+Pj4gMjEpO1xuICAgICAgYjM2ID0gKHNbMzRdIDw8IDE1KSB8IChzWzM1XSA+Pj4gMTcpO1xuICAgICAgYjM3ID0gKHNbMzVdIDw8IDE1KSB8IChzWzM0XSA+Pj4gMTcpO1xuICAgICAgYjE4ID0gKHNbNDVdIDw8IDI5KSB8IChzWzQ0XSA+Pj4gMyk7XG4gICAgICBiMTkgPSAoc1s0NF0gPDwgMjkpIHwgKHNbNDVdID4+PiAzKTtcbiAgICAgIGIxMCA9IChzWzZdIDw8IDI4KSB8IChzWzddID4+PiA0KTtcbiAgICAgIGIxMSA9IChzWzddIDw8IDI4KSB8IChzWzZdID4+PiA0KTtcbiAgICAgIGI0MiA9IChzWzE3XSA8PCAyMykgfCAoc1sxNl0gPj4+IDkpO1xuICAgICAgYjQzID0gKHNbMTZdIDw8IDIzKSB8IChzWzE3XSA+Pj4gOSk7XG4gICAgICBiMjQgPSAoc1syNl0gPDwgMjUpIHwgKHNbMjddID4+PiA3KTtcbiAgICAgIGIyNSA9IChzWzI3XSA8PCAyNSkgfCAoc1syNl0gPj4+IDcpO1xuICAgICAgYjYgPSAoc1szNl0gPDwgMjEpIHwgKHNbMzddID4+PiAxMSk7XG4gICAgICBiNyA9IChzWzM3XSA8PCAyMSkgfCAoc1szNl0gPj4+IDExKTtcbiAgICAgIGIzOCA9IChzWzQ3XSA8PCAyNCkgfCAoc1s0Nl0gPj4+IDgpO1xuICAgICAgYjM5ID0gKHNbNDZdIDw8IDI0KSB8IChzWzQ3XSA+Pj4gOCk7XG4gICAgICBiMzAgPSAoc1s4XSA8PCAyNykgfCAoc1s5XSA+Pj4gNSk7XG4gICAgICBiMzEgPSAoc1s5XSA8PCAyNykgfCAoc1s4XSA+Pj4gNSk7XG4gICAgICBiMTIgPSAoc1sxOF0gPDwgMjApIHwgKHNbMTldID4+PiAxMik7XG4gICAgICBiMTMgPSAoc1sxOV0gPDwgMjApIHwgKHNbMThdID4+PiAxMik7XG4gICAgICBiNDQgPSAoc1syOV0gPDwgNykgfCAoc1syOF0gPj4+IDI1KTtcbiAgICAgIGI0NSA9IChzWzI4XSA8PCA3KSB8IChzWzI5XSA+Pj4gMjUpO1xuICAgICAgYjI2ID0gKHNbMzhdIDw8IDgpIHwgKHNbMzldID4+PiAyNCk7XG4gICAgICBiMjcgPSAoc1szOV0gPDwgOCkgfCAoc1szOF0gPj4+IDI0KTtcbiAgICAgIGI4ID0gKHNbNDhdIDw8IDE0KSB8IChzWzQ5XSA+Pj4gMTgpO1xuICAgICAgYjkgPSAoc1s0OV0gPDwgMTQpIHwgKHNbNDhdID4+PiAxOCk7XG5cbiAgICAgIHNbMF0gPSBiMCBeICh+YjIgJiBiNCk7XG4gICAgICBzWzFdID0gYjEgXiAofmIzICYgYjUpO1xuICAgICAgc1sxMF0gPSBiMTAgXiAofmIxMiAmIGIxNCk7XG4gICAgICBzWzExXSA9IGIxMSBeICh+YjEzICYgYjE1KTtcbiAgICAgIHNbMjBdID0gYjIwIF4gKH5iMjIgJiBiMjQpO1xuICAgICAgc1syMV0gPSBiMjEgXiAofmIyMyAmIGIyNSk7XG4gICAgICBzWzMwXSA9IGIzMCBeICh+YjMyICYgYjM0KTtcbiAgICAgIHNbMzFdID0gYjMxIF4gKH5iMzMgJiBiMzUpO1xuICAgICAgc1s0MF0gPSBiNDAgXiAofmI0MiAmIGI0NCk7XG4gICAgICBzWzQxXSA9IGI0MSBeICh+YjQzICYgYjQ1KTtcbiAgICAgIHNbMl0gPSBiMiBeICh+YjQgJiBiNik7XG4gICAgICBzWzNdID0gYjMgXiAofmI1ICYgYjcpO1xuICAgICAgc1sxMl0gPSBiMTIgXiAofmIxNCAmIGIxNik7XG4gICAgICBzWzEzXSA9IGIxMyBeICh+YjE1ICYgYjE3KTtcbiAgICAgIHNbMjJdID0gYjIyIF4gKH5iMjQgJiBiMjYpO1xuICAgICAgc1syM10gPSBiMjMgXiAofmIyNSAmIGIyNyk7XG4gICAgICBzWzMyXSA9IGIzMiBeICh+YjM0ICYgYjM2KTtcbiAgICAgIHNbMzNdID0gYjMzIF4gKH5iMzUgJiBiMzcpO1xuICAgICAgc1s0Ml0gPSBiNDIgXiAofmI0NCAmIGI0Nik7XG4gICAgICBzWzQzXSA9IGI0MyBeICh+YjQ1ICYgYjQ3KTtcbiAgICAgIHNbNF0gPSBiNCBeICh+YjYgJiBiOCk7XG4gICAgICBzWzVdID0gYjUgXiAofmI3ICYgYjkpO1xuICAgICAgc1sxNF0gPSBiMTQgXiAofmIxNiAmIGIxOCk7XG4gICAgICBzWzE1XSA9IGIxNSBeICh+YjE3ICYgYjE5KTtcbiAgICAgIHNbMjRdID0gYjI0IF4gKH5iMjYgJiBiMjgpO1xuICAgICAgc1syNV0gPSBiMjUgXiAofmIyNyAmIGIyOSk7XG4gICAgICBzWzM0XSA9IGIzNCBeICh+YjM2ICYgYjM4KTtcbiAgICAgIHNbMzVdID0gYjM1IF4gKH5iMzcgJiBiMzkpO1xuICAgICAgc1s0NF0gPSBiNDQgXiAofmI0NiAmIGI0OCk7XG4gICAgICBzWzQ1XSA9IGI0NSBeICh+YjQ3ICYgYjQ5KTtcbiAgICAgIHNbNl0gPSBiNiBeICh+YjggJiBiMCk7XG4gICAgICBzWzddID0gYjcgXiAofmI5ICYgYjEpO1xuICAgICAgc1sxNl0gPSBiMTYgXiAofmIxOCAmIGIxMCk7XG4gICAgICBzWzE3XSA9IGIxNyBeICh+YjE5ICYgYjExKTtcbiAgICAgIHNbMjZdID0gYjI2IF4gKH5iMjggJiBiMjApO1xuICAgICAgc1syN10gPSBiMjcgXiAofmIyOSAmIGIyMSk7XG4gICAgICBzWzM2XSA9IGIzNiBeICh+YjM4ICYgYjMwKTtcbiAgICAgIHNbMzddID0gYjM3IF4gKH5iMzkgJiBiMzEpO1xuICAgICAgc1s0Nl0gPSBiNDYgXiAofmI0OCAmIGI0MCk7XG4gICAgICBzWzQ3XSA9IGI0NyBeICh+YjQ5ICYgYjQxKTtcbiAgICAgIHNbOF0gPSBiOCBeICh+YjAgJiBiMik7XG4gICAgICBzWzldID0gYjkgXiAofmIxICYgYjMpO1xuICAgICAgc1sxOF0gPSBiMTggXiAofmIxMCAmIGIxMik7XG4gICAgICBzWzE5XSA9IGIxOSBeICh+YjExICYgYjEzKTtcbiAgICAgIHNbMjhdID0gYjI4IF4gKH5iMjAgJiBiMjIpO1xuICAgICAgc1syOV0gPSBiMjkgXiAofmIyMSAmIGIyMyk7XG4gICAgICBzWzM4XSA9IGIzOCBeICh+YjMwICYgYjMyKTtcbiAgICAgIHNbMzldID0gYjM5IF4gKH5iMzEgJiBiMzMpO1xuICAgICAgc1s0OF0gPSBiNDggXiAofmI0MCAmIGI0Mik7XG4gICAgICBzWzQ5XSA9IGI0OSBeICh+YjQxICYgYjQzKTtcblxuICAgICAgc1swXSBePSBSQ1tuXTtcbiAgICAgIHNbMV0gXj0gUkNbbiArIDFdO1xuICAgIH1cbiAgfTtcblxuICBpZiAoQ09NTU9OX0pTKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBtZXRob2RzO1xuICB9IGVsc2Uge1xuICAgIGZvciAoaSA9IDA7IGkgPCBtZXRob2ROYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgcm9vdFttZXRob2ROYW1lc1tpXV0gPSBtZXRob2RzW21ldGhvZE5hbWVzW2ldXTtcbiAgICB9XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCJ2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG52YXIga2VjY2FrMjU2ID0gcmVxdWlyZSgnanMtc2hhMycpLmtlY2NhazI1NjtcblxuZnVuY3Rpb24gbGlicmFyeUhhc2hQbGFjZWhvbGRlciAoaW5wdXQpIHtcbiAgcmV0dXJuICckJyArIGtlY2NhazI1NihpbnB1dCkuc2xpY2UoMCwgMzQpICsgJyQnO1xufVxuXG52YXIgbGlua0J5dGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVjb2RlLCBsaWJyYXJpZXMpIHtcbiAgYXNzZXJ0KHR5cGVvZiBieXRlY29kZSA9PT0gJ3N0cmluZycpO1xuICBhc3NlcnQodHlwZW9mIGxpYnJhcmllcyA9PT0gJ29iamVjdCcpO1xuICAvLyBOT1RFOiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc3VwcG9ydCBvbGQgY29tcGlsZXIgd2hpY2ggZGlkbid0IHVzZSBmaWxlIG5hbWVzXG4gIHZhciBsaWJyYXJpZXNDb21wbGV0ZSA9IHt9O1xuICBmb3IgKHZhciBsaWJyYXJ5TmFtZSBpbiBsaWJyYXJpZXMpIHtcbiAgICBpZiAodHlwZW9mIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBzdGFuZGFyZCBKU09OIGkvb1xuICAgICAgZm9yICh2YXIgbGliIGluIGxpYnJhcmllc1tsaWJyYXJ5TmFtZV0pIHtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGliXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV1bbGliXTtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbbGlicmFyeU5hbWUgKyAnOicgKyBsaWJdID0gbGlicmFyaWVzW2xpYnJhcnlOYW1lXVtsaWJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSBBUEkgZm9yIGVhcmx5IHNvbGMtanMgdmVyc2lvbnNcbiAgICAgIHZhciBwYXJzZWQgPSBsaWJyYXJ5TmFtZS5tYXRjaCgvXihbXjpdKyk6KC4rKSQvKTtcbiAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgbGlicmFyaWVzQ29tcGxldGVbcGFyc2VkWzJdXSA9IGxpYnJhcmllc1tsaWJyYXJ5TmFtZV07XG4gICAgICB9XG4gICAgICBsaWJyYXJpZXNDb21wbGV0ZVtsaWJyYXJ5TmFtZV0gPSBsaWJyYXJpZXNbbGlicmFyeU5hbWVdO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGlicmFyeU5hbWUgaW4gbGlicmFyaWVzQ29tcGxldGUpIHtcbiAgICB2YXIgaGV4QWRkcmVzcyA9IGxpYnJhcmllc0NvbXBsZXRlW2xpYnJhcnlOYW1lXTtcbiAgICBpZiAoaGV4QWRkcmVzcy5zbGljZSgwLCAyKSAhPT0gJzB4JyB8fCBoZXhBZGRyZXNzLmxlbmd0aCA+IDQyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWRkcmVzcyBzcGVjaWZpZWQgZm9yICcgKyBsaWJyYXJ5TmFtZSk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSAweCBwcmVmaXhcbiAgICBoZXhBZGRyZXNzID0gaGV4QWRkcmVzcy5zbGljZSgyKTtcbiAgICBoZXhBZGRyZXNzID0gQXJyYXkoNDAgLSBoZXhBZGRyZXNzLmxlbmd0aCArIDEpLmpvaW4oJzAnKSArIGhleEFkZHJlc3M7XG5cbiAgICAvLyBTdXBwb3J0IG9sZCAobGlicmFyeSBuYW1lKSBhbmQgbmV3IChoYXNoIG9mIGxpYnJhcnkgbmFtZSlcbiAgICAvLyBwbGFjZWhvbGRlcnMuXG4gICAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gdHJ1bmNhdGUgdG8gMzcgY2hhcmFjdGVyc1xuICAgICAgdmFyIHRydW5jYXRlZE5hbWUgPSBuYW1lLnNsaWNlKDAsIDM2KTtcbiAgICAgIHZhciBsaWJMYWJlbCA9ICdfXycgKyB0cnVuY2F0ZWROYW1lICsgQXJyYXkoMzcgLSB0cnVuY2F0ZWROYW1lLmxlbmd0aCkuam9pbignXycpICsgJ19fJztcbiAgICAgIHdoaWxlIChieXRlY29kZS5pbmRleE9mKGxpYkxhYmVsKSA+PSAwKSB7XG4gICAgICAgIGJ5dGVjb2RlID0gYnl0ZWNvZGUucmVwbGFjZShsaWJMYWJlbCwgaGV4QWRkcmVzcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlcGxhY2UobGlicmFyeU5hbWUpO1xuICAgIHJlcGxhY2UobGlicmFyeUhhc2hQbGFjZWhvbGRlcihsaWJyYXJ5TmFtZSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVjb2RlO1xufTtcblxudmFyIGZpbmRMaW5rUmVmZXJlbmNlcyA9IGZ1bmN0aW9uIChieXRlY29kZSkge1xuICBhc3NlcnQodHlwZW9mIGJ5dGVjb2RlID09PSAnc3RyaW5nJyk7XG4gIC8vIGZpbmQgNDAgYnl0ZXMgaW4gdGhlIHBhdHRlcm4gb2YgX18uLi48MzYgZGlnaXRzPi4uLl9fXG4gIC8vIGUuZy4gX19MaWIuc29sOkxfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICB2YXIgbGlua1JlZmVyZW5jZXMgPSB7fTtcbiAgdmFyIG9mZnNldCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGZvdW5kID0gYnl0ZWNvZGUubWF0Y2goL19fKC57MzZ9KV9fLyk7XG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0ID0gZm91bmQuaW5kZXg7XG4gICAgLy8gdHJpbSB0cmFpbGluZyB1bmRlcnNjb3Jlc1xuICAgIC8vIE5PVEU6IHRoaXMgaGFzIG5vIHdheSBvZiBrbm93aW5nIGlmIHRoZSB0cmFpbGluZyB1bmRlcnNjb3JlIHdhcyBwYXJ0IG9mIHRoZSBuYW1lXG4gICAgdmFyIGxpYnJhcnlOYW1lID0gZm91bmRbMV0ucmVwbGFjZSgvXyskL2dtLCAnJyk7XG5cbiAgICBpZiAoIWxpbmtSZWZlcmVuY2VzW2xpYnJhcnlOYW1lXSkge1xuICAgICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdID0gW107XG4gICAgfVxuXG4gICAgbGlua1JlZmVyZW5jZXNbbGlicmFyeU5hbWVdLnB1c2goe1xuICAgICAgLy8gb2Zmc2V0cyBhcmUgaW4gYnl0ZXMgaW4gYmluYXJ5IHJlcHJlc2VudGF0aW9uIChhbmQgbm90IGhleClcbiAgICAgIHN0YXJ0OiAob2Zmc2V0ICsgc3RhcnQpIC8gMixcbiAgICAgIGxlbmd0aDogMjBcbiAgICB9KTtcblxuICAgIG9mZnNldCArPSBzdGFydCArIDIwO1xuXG4gICAgYnl0ZWNvZGUgPSBieXRlY29kZS5zbGljZShzdGFydCArIDIwKTtcbiAgfVxuICByZXR1cm4gbGlua1JlZmVyZW5jZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGlua0J5dGVjb2RlOiBsaW5rQnl0ZWNvZGUsXG4gIGZpbmRMaW5rUmVmZXJlbmNlczogZmluZExpbmtSZWZlcmVuY2VzXG59O1xuIiwidmFyIGxpbmtlciA9IHJlcXVpcmUoJy4vbGlua2VyLmpzJyk7XG5cbi8vLyBUcmFuc2xhdGUgb2xkIHN0eWxlIHZlcnNpb24gbnVtYmVycyB0byBzZW12ZXIuXG4vLy8gT2xkIHN0eWxlOiAwLjMuNi0zZmM2OGRhNS9SZWxlYXNlLUVtc2NyaXB0ZW4vY2xhbmdcbi8vLyAgICAgICAgICAgIDAuMy41LTM3MTY5MGYwL1JlbGVhc2UtRW1zY3JpcHRlbi9jbGFuZy9JbnRlcnByZXRlclxuLy8vICAgICAgICAgICAgMC4zLjUtMC9SZWxlYXNlLUVtc2NyaXB0ZW4vY2xhbmcvSW50ZXJwcmV0ZXJcbi8vLyAgICAgICAgICAgIDAuMi4wLWU3MDk4OTU4Ly4tRW1zY3JpcHRlbi9jbGFuZy9pbnQgbGlua2VkIHRvIGxpYmV0aGVyZXVtLTEuMS4xLWJiYjgwYWIwLy4tRW1zY3JpcHRlbi9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4zLTAvLi0vY2xhbmcvaW50IGxpbmtlZCB0byBsaWJldGhlcmV1bS0wLjkuOTItMC8uLS9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4yLTVjM2JmZDRiKi8uLS9jbGFuZy9pbnRcbi8vLyAgICAgICAgICAgIDAuMS4xLTZmZjRjZDZiL1JlbFdpdGhEZWJJbmZvLUVtc2NyaXB0ZW4vY2xhbmcvaW50XG4vLy8gTmV3IHN0eWxlOiAwLjQuNStjb21taXQuYjMxODM2NmUuRW1zY3JpcHRlbi5jbGFuZ1xuZnVuY3Rpb24gdmVyc2lvblRvU2VtdmVyICh2ZXJzaW9uKSB7XG4gIC8vIEZJWE1FOiBwYXJzZSBtb3JlIGRldGFpbCwgYnV0IHRoaXMgaXMgYSBnb29kIHN0YXJ0XG4gIHZhciBwYXJzZWQgPSB2ZXJzaW9uLm1hdGNoKC9eKFswLTldK1xcLlswLTldK1xcLlswLTldKyktKFswLTlhLWZdezh9KVsvKl0uKiQvKTtcbiAgaWYgKHBhcnNlZCkge1xuICAgIHJldHVybiBwYXJzZWRbMV0gKyAnK2NvbW1pdC4nICsgcGFyc2VkWzJdO1xuICB9XG4gIGlmICh2ZXJzaW9uLmluZGV4T2YoJzAuMS4zLTAnKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gJzAuMS4zJztcbiAgfVxuICBpZiAodmVyc2lvbi5pbmRleE9mKCcwLjMuNS0wJykgIT09IC0xKSB7XG4gICAgcmV0dXJuICcwLjMuNSc7XG4gIH1cbiAgLy8gYXNzdW1lIGl0IGlzIGFscmVhZHkgc2VtdmVyIGNvbXBhdGlibGVcbiAgcmV0dXJuIHZlcnNpb247XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUVycm9ycyAocmV0LCBlcnJvcnMpIHtcbiAgZm9yICh2YXIgZXJyb3IgaW4gZXJyb3JzKSB7XG4gICAgdmFyIHR5cGUgPSAnZXJyb3InO1xuICAgIHZhciBleHRyYWN0VHlwZSA9IC9eKC4qKTooXFxkKyk6KFxcZCspOiguKik6LztcbiAgICBleHRyYWN0VHlwZSA9IGV4dHJhY3RUeXBlLmV4ZWMoZXJyb3JzW2Vycm9yXSk7XG4gICAgaWYgKGV4dHJhY3RUeXBlKSB7XG4gICAgICB0eXBlID0gZXh0cmFjdFR5cGVbNF0udHJpbSgpO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JzW2Vycm9yXS5pbmRleE9mKCc6IFdhcm5pbmc6JykpIHtcbiAgICAgIHR5cGUgPSAnV2FybmluZyc7XG4gICAgfSBlbHNlIGlmIChlcnJvcnNbZXJyb3JdLmluZGV4T2YoJzogRXJyb3I6JykpIHtcbiAgICAgIHR5cGUgPSAnRXJyb3InO1xuICAgIH1cbiAgICByZXQucHVzaCh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgY29tcG9uZW50OiAnZ2VuZXJhbCcsXG4gICAgICBzZXZlcml0eTogKHR5cGUgPT09ICdXYXJuaW5nJykgPyAnd2FybmluZycgOiAnZXJyb3InLFxuICAgICAgbWVzc2FnZTogZXJyb3JzW2Vycm9yXSxcbiAgICAgIGZvcm1hdHRlZE1lc3NhZ2U6IGVycm9yc1tlcnJvcl1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMgKGdhc0VzdGltYXRlcykge1xuICBpZiAoZ2FzRXN0aW1hdGVzID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdpbmZpbml0ZSc7XG4gIH1cblxuICBpZiAodHlwZW9mIGdhc0VzdGltYXRlcyA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZ2FzRXN0aW1hdGVzLnRvU3RyaW5nKCk7XG4gIH1cblxuICB2YXIgZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZCA9IHt9O1xuICBmb3IgKHZhciBmdW5jIGluIGdhc0VzdGltYXRlcykge1xuICAgIGdhc0VzdGltYXRlc1RyYW5zbGF0ZWRbZnVuY10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzW2Z1bmNdKTtcbiAgfVxuICByZXR1cm4gZ2FzRXN0aW1hdGVzVHJhbnNsYXRlZDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0IChvdXRwdXQsIGxpYnJhcmllcykge1xuICB2YXIgcmV0ID0ge307XG5cbiAgcmV0WydlcnJvcnMnXSA9IFtdO1xuICB2YXIgZXJyb3JzO1xuICBpZiAob3V0cHV0WydlcnJvciddKSB7XG4gICAgZXJyb3JzID0gWyBvdXRwdXRbJ2Vycm9yJ10gXTtcbiAgfSBlbHNlIHtcbiAgICBlcnJvcnMgPSBvdXRwdXRbJ2Vycm9ycyddO1xuICB9XG4gIHRyYW5zbGF0ZUVycm9ycyhyZXRbJ2Vycm9ycyddLCBlcnJvcnMpO1xuXG4gIHJldFsnY29udHJhY3RzJ10gPSB7fTtcbiAgZm9yICh2YXIgY29udHJhY3QgaW4gb3V0cHV0Wydjb250cmFjdHMnXSkge1xuICAgIC8vIFNwbGl0IG5hbWUgZmlyc3QsIGNhbiBiZSBgY29udHJhY3RgLCBgOmNvbnRyYWN0YCBvciBgZmlsZW5hbWU6Y29udHJhY3RgXG4gICAgdmFyIHRtcCA9IGNvbnRyYWN0Lm1hdGNoKC9eKChbXjpdKik6KT8oW146XSspJC8pO1xuICAgIGlmICh0bXAubGVuZ3RoICE9PSA0KSB7XG4gICAgICAvLyBGb3JjZSBhYm9ydFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBmaWxlTmFtZSA9IHRtcFsyXTtcbiAgICBpZiAoZmlsZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gdGhpcyBpcyB0aGUgY2FzZSBvZiBgY29udHJhY3RgXG4gICAgICBmaWxlTmFtZSA9ICcnO1xuICAgIH1cbiAgICB2YXIgY29udHJhY3ROYW1lID0gdG1wWzNdO1xuXG4gICAgdmFyIGNvbnRyYWN0SW5wdXQgPSBvdXRwdXRbJ2NvbnRyYWN0cyddW2NvbnRyYWN0XTtcblxuICAgIHZhciBnYXNFc3RpbWF0ZXMgPSBjb250cmFjdElucHV0WydnYXNFc3RpbWF0ZXMnXTtcbiAgICB2YXIgdHJhbnNsYXRlZEdhc0VzdGltYXRlcyA9IHt9O1xuXG4gICAgaWYgKGdhc0VzdGltYXRlc1snY3JlYXRpb24nXSkge1xuICAgICAgdHJhbnNsYXRlZEdhc0VzdGltYXRlc1snY3JlYXRpb24nXSA9IHtcbiAgICAgICAgJ2NvZGVEZXBvc2l0Q29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMV0pLFxuICAgICAgICAnZXhlY3V0aW9uQ29zdCc6IHRyYW5zbGF0ZUdhc0VzdGltYXRlcyhnYXNFc3RpbWF0ZXNbJ2NyZWF0aW9uJ11bMF0pXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZ2FzRXN0aW1hdGVzWydpbnRlcm5hbCddKSB7XG4gICAgICB0cmFuc2xhdGVkR2FzRXN0aW1hdGVzWydpbnRlcm5hbCddID0gdHJhbnNsYXRlR2FzRXN0aW1hdGVzKGdhc0VzdGltYXRlc1snaW50ZXJuYWwnXSk7XG4gICAgfVxuICAgIGlmIChnYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10pIHtcbiAgICAgIHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNbJ2V4dGVybmFsJ10gPSB0cmFuc2xhdGVHYXNFc3RpbWF0ZXMoZ2FzRXN0aW1hdGVzWydleHRlcm5hbCddKTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJhY3RPdXRwdXQgPSB7XG4gICAgICAnYWJpJzogSlNPTi5wYXJzZShjb250cmFjdElucHV0WydpbnRlcmZhY2UnXSksXG4gICAgICAnbWV0YWRhdGEnOiBjb250cmFjdElucHV0WydtZXRhZGF0YSddLFxuICAgICAgJ2V2bSc6IHtcbiAgICAgICAgJ2xlZ2FjeUFzc2VtYmx5JzogY29udHJhY3RJbnB1dFsnYXNzZW1ibHknXSxcbiAgICAgICAgJ2J5dGVjb2RlJzoge1xuICAgICAgICAgICdvYmplY3QnOiBjb250cmFjdElucHV0WydieXRlY29kZSddICYmIGxpbmtlci5saW5rQnl0ZWNvZGUoY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSwgbGlicmFyaWVzIHx8IHt9KSxcbiAgICAgICAgICAnb3Bjb2Rlcyc6IGNvbnRyYWN0SW5wdXRbJ29wY29kZXMnXSxcbiAgICAgICAgICAnc291cmNlTWFwJzogY29udHJhY3RJbnB1dFsnc3JjbWFwJ10sXG4gICAgICAgICAgJ2xpbmtSZWZlcmVuY2VzJzogY29udHJhY3RJbnB1dFsnYnl0ZWNvZGUnXSAmJiBsaW5rZXIuZmluZExpbmtSZWZlcmVuY2VzKGNvbnRyYWN0SW5wdXRbJ2J5dGVjb2RlJ10pXG4gICAgICAgIH0sXG4gICAgICAgICdkZXBsb3llZEJ5dGVjb2RlJzoge1xuICAgICAgICAgICdvYmplY3QnOiBjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSAmJiBsaW5rZXIubGlua0J5dGVjb2RlKGNvbnRyYWN0SW5wdXRbJ3J1bnRpbWVCeXRlY29kZSddLCBsaWJyYXJpZXMgfHwge30pLFxuICAgICAgICAgICdzb3VyY2VNYXAnOiBjb250cmFjdElucHV0WydzcmNtYXBSdW50aW1lJ10sXG4gICAgICAgICAgJ2xpbmtSZWZlcmVuY2VzJzogY29udHJhY3RJbnB1dFsncnVudGltZUJ5dGVjb2RlJ10gJiYgbGlua2VyLmZpbmRMaW5rUmVmZXJlbmNlcyhjb250cmFjdElucHV0WydydW50aW1lQnl0ZWNvZGUnXSlcbiAgICAgICAgfSxcbiAgICAgICAgJ21ldGhvZElkZW50aWZpZXJzJzogY29udHJhY3RJbnB1dFsnZnVuY3Rpb25IYXNoZXMnXSxcbiAgICAgICAgJ2dhc0VzdGltYXRlcyc6IHRyYW5zbGF0ZWRHYXNFc3RpbWF0ZXNcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFyZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXSkge1xuICAgICAgcmV0Wydjb250cmFjdHMnXVtmaWxlTmFtZV0gPSB7fTtcbiAgICB9XG5cbiAgICByZXRbJ2NvbnRyYWN0cyddW2ZpbGVOYW1lXVtjb250cmFjdE5hbWVdID0gY29udHJhY3RPdXRwdXQ7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0ge307XG4gIGZvciAodmFyIHNvdXJjZUlkIGluIG91dHB1dFsnc291cmNlTGlzdCddKSB7XG4gICAgc291cmNlTWFwW291dHB1dFsnc291cmNlTGlzdCddW3NvdXJjZUlkXV0gPSBzb3VyY2VJZDtcbiAgfVxuXG4gIHJldFsnc291cmNlcyddID0ge307XG4gIGZvciAodmFyIHNvdXJjZSBpbiBvdXRwdXRbJ3NvdXJjZXMnXSkge1xuICAgIHJldFsnc291cmNlcyddW3NvdXJjZV0gPSB7XG4gICAgICBpZDogc291cmNlTWFwW3NvdXJjZV0sXG4gICAgICBsZWdhY3lBU1Q6IG91dHB1dFsnc291cmNlcyddW3NvdXJjZV0uQVNUXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAodGV4dCkge1xuICByZXR1cm4gdGV4dFxuICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKTtcbn1cblxuLy8gJ2FzbScgY2FuIGJlIGFuIG9iamVjdCBvciBhIHN0cmluZ1xuZnVuY3Rpb24gZm9ybWF0QXNzZW1ibHlUZXh0IChhc20sIHByZWZpeCwgc291cmNlKSB7XG4gIGlmICh0eXBlb2YgYXNtID09PSAnc3RyaW5nJyB8fCBhc20gPT09IG51bGwgfHwgYXNtID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgKGFzbSB8fCAnJykgKyAnXFxuJztcbiAgfVxuICB2YXIgdGV4dCA9IHByZWZpeCArICcuY29kZVxcbic7XG4gIGFzbVsnLmNvZGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgdmFyIHYgPSBpdGVtLnZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IGl0ZW0udmFsdWU7XG4gICAgdmFyIHNyYyA9ICcnO1xuICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmJlZ2luICE9PSB1bmRlZmluZWQgJiYgaXRlbS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3JjID0gZXNjYXBlU3RyaW5nKHNvdXJjZS5zbGljZShpdGVtLmJlZ2luLCBpdGVtLmVuZCkpO1xuICAgIH1cbiAgICBpZiAoc3JjLmxlbmd0aCA+IDMwKSB7XG4gICAgICBzcmMgPSBzcmMuc2xpY2UoMCwgMzApICsgJy4uLic7XG4gICAgfVxuICAgIGlmIChpdGVtLm5hbWUgIT09ICd0YWcnKSB7XG4gICAgICB0ZXh0ICs9ICcgICc7XG4gICAgfVxuICAgIHRleHQgKz0gcHJlZml4ICsgaXRlbS5uYW1lICsgJyAnICsgdiArICdcXHRcXHRcXHQnICsgc3JjICsgJ1xcbic7XG4gIH0pO1xuICB0ZXh0ICs9IHByZWZpeCArICcuZGF0YVxcbic7XG4gIHZhciBhc21EYXRhID0gYXNtWycuZGF0YSddIHx8IFtdO1xuICBmb3IgKHZhciBpIGluIGFzbURhdGEpIHtcbiAgICB2YXIgaXRlbSA9IGFzbURhdGFbaV07XG4gICAgdGV4dCArPSAnICAnICsgcHJlZml4ICsgJycgKyBpICsgJzpcXG4nO1xuICAgIHRleHQgKz0gZm9ybWF0QXNzZW1ibHlUZXh0KGl0ZW0sIHByZWZpeCArICcgICAgJywgc291cmNlKTtcbiAgfVxuICByZXR1cm4gdGV4dDtcbn1cblxuZnVuY3Rpb24gcHJldHR5UHJpbnRMZWdhY3lBc3NlbWJseUpTT04gKGFzc2VtYmx5LCBzb3VyY2UpIHtcbiAgcmV0dXJuIGZvcm1hdEFzc2VtYmx5VGV4dChhc3NlbWJseSwgJycsIHNvdXJjZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB2ZXJzaW9uVG9TZW12ZXI6IHZlcnNpb25Ub1NlbXZlcixcbiAgdHJhbnNsYXRlSnNvbkNvbXBpbGVyT3V0cHV0OiB0cmFuc2xhdGVKc29uQ29tcGlsZXJPdXRwdXQsXG4gIHByZXR0eVByaW50TGVnYWN5QXNzZW1ibHlKU09OOiBwcmV0dHlQcmludExlZ2FjeUFzc2VtYmx5SlNPTlxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHt9O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogJy8nO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICB2YXIgaXNQYXRoQWJzb2x1dGUgPSBpc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzUGF0aEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc1BhdGhBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc1BhdGhBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gam9pbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykge1xuICBmcm9tID0gcmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gcmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufVxuXG5leHBvcnQgdmFyIHNlcCA9ICcvJztcbmV4cG9ydCB2YXIgZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlybmFtZShwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXh0bmFtZShwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIGV4dG5hbWU6IGV4dG5hbWUsXG4gIGJhc2VuYW1lOiBiYXNlbmFtZSxcbiAgZGlybmFtZTogZGlybmFtZSxcbiAgc2VwOiBzZXAsXG4gIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICByZWxhdGl2ZTogcmVsYXRpdmUsXG4gIGpvaW46IGpvaW4sXG4gIGlzQWJzb2x1dGU6IGlzQWJzb2x1dGUsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICByZXNvbHZlOiByZXNvbHZlXG59O1xuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYicgP1xuICAgIGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfSA6XG4gICAgZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTW9kdWxlID0gcmVxdWlyZSgnbW9kdWxlJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXF1aXJlRnJvbVN0cmluZyhjb2RlLCBmaWxlbmFtZSwgb3B0cykge1xuXHRpZiAodHlwZW9mIGZpbGVuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdG9wdHMgPSBmaWxlbmFtZTtcblx0XHRmaWxlbmFtZSA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHRmaWxlbmFtZSA9IGZpbGVuYW1lIHx8ICcnO1xuXG5cdG9wdHMuYXBwZW5kUGF0aHMgPSBvcHRzLmFwcGVuZFBhdGhzIHx8IFtdO1xuXHRvcHRzLnByZXBlbmRQYXRocyA9IG9wdHMucHJlcGVuZFBhdGhzIHx8IFtdO1xuXG5cdGlmICh0eXBlb2YgY29kZSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2NvZGUgbXVzdCBiZSBhIHN0cmluZywgbm90ICcgKyB0eXBlb2YgY29kZSk7XG5cdH1cblxuXHR2YXIgcGF0aHMgPSBNb2R1bGUuX25vZGVNb2R1bGVQYXRocyhwYXRoLmRpcm5hbWUoZmlsZW5hbWUpKTtcblxuXHR2YXIgcGFyZW50ID0gbW9kdWxlLnBhcmVudDtcblx0dmFyIG0gPSBuZXcgTW9kdWxlKGZpbGVuYW1lLCBwYXJlbnQpO1xuXHRtLmZpbGVuYW1lID0gZmlsZW5hbWU7XG5cdG0ucGF0aHMgPSBbXS5jb25jYXQob3B0cy5wcmVwZW5kUGF0aHMpLmNvbmNhdChwYXRocykuY29uY2F0KG9wdHMuYXBwZW5kUGF0aHMpO1xuXHRtLl9jb21waWxlKGNvZGUsIGZpbGVuYW1lKTtcblxuXHR2YXIgZXhwb3J0cyA9IG0uZXhwb3J0cztcblx0cGFyZW50ICYmIHBhcmVudC5jaGlsZHJlbiAmJiBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG0pLCAxKTtcblxuXHRyZXR1cm4gZXhwb3J0cztcbn07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuZnVuY3Rpb24gc3RyaW5naWZ5UHJpbWl0aXZlKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSAob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gIGVuY29kZTogc3RyaW5naWZ5LFxuICBzdHJpbmdpZnk6IHN0cmluZ2lmeSxcbiAgZGVjb2RlOiBwYXJzZSxcbiAgcGFyc2U6IHBhcnNlXG59XG5leHBvcnQge3N0cmluZ2lmeSBhcyBlbmNvZGUsIHBhcnNlIGFzIGRlY29kZX07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG5pbXBvcnQge3RvQVNDSUl9IGZyb20gJ3B1bnljb2RlJztcbmltcG9ydCB7aXNPYmplY3QsaXNTdHJpbmcsaXNOdWxsT3JVbmRlZmluZWQsaXNOdWxsfSBmcm9tICd1dGlsJztcbmltcG9ydCB7cGFyc2UgYXMgcXNQYXJzZSxzdHJpbmdpZnkgYXMgcXNTdHJpbmdpZnl9IGZyb20gJ3F1ZXJ5c3RyaW5nJztcbmV4cG9ydCB7XG4gIHVybFBhcnNlIGFzIHBhcnNlLFxuICB1cmxSZXNvbHZlIGFzIHJlc29sdmUsXG4gIHVybFJlc29sdmVPYmplY3QgYXMgcmVzb2x2ZU9iamVjdCxcbiAgdXJsRm9ybWF0IGFzIGZvcm1hdFxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcGFyc2U6IHVybFBhcnNlLFxuICByZXNvbHZlOiB1cmxSZXNvbHZlLFxuICByZXNvbHZlT2JqZWN0OiB1cmxSZXNvbHZlT2JqZWN0LFxuICBmb3JtYXQ6IHVybEZvcm1hdCxcbiAgVXJsOiBVcmxcbn1cbmV4cG9ydCBmdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAvLyB0aGVtLlxuICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICB9LFxuICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgfSxcbiAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAnaHR0cCc6IHRydWUsXG4gICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAnZnRwJzogdHJ1ZSxcbiAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAnZmlsZSc6IHRydWUsXG4gICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAnZnRwOic6IHRydWUsXG4gICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICdmaWxlOic6IHRydWVcbiAgfTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIGlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICByZXR1cm4gcGFyc2UodGhpcywgdXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHNlbGYsIHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIFxcJ3VybFxcJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgJyArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgc3BsaXR0ZXIgPVxuICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHNlbGYucGF0aCA9IHJlc3Q7XG4gICAgICBzZWxmLmhyZWYgPSByZXN0O1xuICAgICAgc2VsZi5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICBzZWxmLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgc2VsZi5xdWVyeSA9IHFzUGFyc2Uoc2VsZi5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnF1ZXJ5ID0gc2VsZi5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgc2VsZi5zZWFyY2ggPSAnJztcbiAgICAgICAgc2VsZi5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHNlbGYucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICBzZWxmLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB2YXIgaSwgaGVjLCBsLCBwO1xuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgc2VsZi5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICBzZWxmLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICBwYXJzZUhvc3Qoc2VsZik7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgc2VsZi5ob3N0bmFtZSA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgIHNlbGYuaG9zdG5hbWVbc2VsZi5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSBzZWxmLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHNlbGYuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHNlbGYuaG9zdG5hbWUgPSB0b0FTQ0lJKHNlbGYuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHAgPSBzZWxmLnBvcnQgPyAnOicgKyBzZWxmLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHNlbGYuaG9zdG5hbWUgfHwgJyc7XG4gICAgc2VsZi5ob3N0ID0gaCArIHA7XG4gICAgc2VsZi5ocmVmICs9IHNlbGYuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHNlbGYuaG9zdG5hbWUgPSBzZWxmLmhvc3RuYW1lLnN1YnN0cigxLCBzZWxmLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICBzZWxmLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHNlbGYuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHNlbGYucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICBzZWxmLnF1ZXJ5ID0gcXNQYXJzZShzZWxmLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHNlbGYuc2VhcmNoID0gJyc7XG4gICAgc2VsZi5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSBzZWxmLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgIHNlbGYuaG9zdG5hbWUgJiYgIXNlbGYucGF0aG5hbWUpIHtcbiAgICBzZWxmLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAoc2VsZi5wYXRobmFtZSB8fCBzZWxmLnNlYXJjaCkge1xuICAgIHAgPSBzZWxmLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gc2VsZi5zZWFyY2ggfHwgJyc7XG4gICAgc2VsZi5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgc2VsZi5ocmVmID0gZm9ybWF0KHNlbGYpO1xuICByZXR1cm4gc2VsZjtcbn1cblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmIChpc1N0cmluZyhvYmopKSBvYmogPSBwYXJzZSh7fSwgb2JqKTtcbiAgcmV0dXJuIGZvcm1hdChvYmopO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoc2VsZikge1xuICB2YXIgYXV0aCA9IHNlbGYuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gc2VsZi5wcm90b2NvbCB8fCAnJyxcbiAgICBwYXRobmFtZSA9IHNlbGYucGF0aG5hbWUgfHwgJycsXG4gICAgaGFzaCA9IHNlbGYuaGFzaCB8fCAnJyxcbiAgICBob3N0ID0gZmFsc2UsXG4gICAgcXVlcnkgPSAnJztcblxuICBpZiAoc2VsZi5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyBzZWxmLmhvc3Q7XG4gIH0gZWxzZSBpZiAoc2VsZi5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHNlbGYuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICBzZWxmLmhvc3RuYW1lIDpcbiAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmIChzZWxmLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgc2VsZi5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWxmLnF1ZXJ5ICYmXG4gICAgaXNPYmplY3Qoc2VsZi5xdWVyeSkgJiZcbiAgICBPYmplY3Qua2V5cyhzZWxmLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHFzU3RyaW5naWZ5KHNlbGYucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHNlbGYuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmIChzZWxmLnNsYXNoZXMgfHxcbiAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZm9ybWF0KHRoaXMpO1xufVxuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKGlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIHJlbFBhdGg7XG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgIGlzUmVsQWJzID0gKFxuICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICApLFxuICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcbiAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW107XG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cbiAgdmFyIGF1dGhJbkhvc3Q7XG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIWlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHBhcnNlSG9zdCh0aGlzKTtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlSG9zdChzZWxmKSB7XG4gIHZhciBob3N0ID0gc2VsZi5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgc2VsZi5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgc2VsZi5ob3N0bmFtZSA9IGhvc3Q7XG59XG4iLCJleHBvcnQgdmFyIGhhc0ZldGNoID0gaXNGdW5jdGlvbihnbG9iYWwuZmV0Y2gpICYmIGlzRnVuY3Rpb24oZ2xvYmFsLlJlYWRhYmxlU3RyZWFtKVxuXG52YXIgX2Jsb2JDb25zdHJ1Y3RvcjtcbmV4cG9ydCBmdW5jdGlvbiBibG9iQ29uc3RydWN0b3IoKSB7XG4gIGlmICh0eXBlb2YgX2Jsb2JDb25zdHJ1Y3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gX2Jsb2JDb25zdHJ1Y3RvcjtcbiAgfVxuICB0cnkge1xuICAgIG5ldyBnbG9iYWwuQmxvYihbbmV3IEFycmF5QnVmZmVyKDEpXSlcbiAgICBfYmxvYkNvbnN0cnVjdG9yID0gdHJ1ZVxuICB9IGNhdGNoIChlKSB7XG4gICAgX2Jsb2JDb25zdHJ1Y3RvciA9IGZhbHNlXG4gIH1cbiAgcmV0dXJuIF9ibG9iQ29uc3RydWN0b3Jcbn1cbnZhciB4aHI7XG5cbmZ1bmN0aW9uIGNoZWNrVHlwZVN1cHBvcnQodHlwZSkge1xuICBpZiAoIXhocikge1xuICAgIHhociA9IG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3QoKVxuICAgIC8vIElmIGxvY2F0aW9uLmhvc3QgaXMgZW1wdHksIGUuZy4gaWYgdGhpcyBwYWdlL3dvcmtlciB3YXMgbG9hZGVkXG4gICAgLy8gZnJvbSBhIEJsb2IsIHRoZW4gdXNlIGV4YW1wbGUuY29tIHRvIGF2b2lkIGFuIGVycm9yXG4gICAgeGhyLm9wZW4oJ0dFVCcsIGdsb2JhbC5sb2NhdGlvbi5ob3N0ID8gJy8nIDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nKVxuICB9XG4gIHRyeSB7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IHR5cGVcbiAgICByZXR1cm4geGhyLnJlc3BvbnNlVHlwZSA9PT0gdHlwZVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxufVxuXG4vLyBGb3Igc29tZSBzdHJhbmdlIHJlYXNvbiwgU2FmYXJpIDcuMCByZXBvcnRzIHR5cGVvZiBnbG9iYWwuQXJyYXlCdWZmZXIgPT09ICdvYmplY3QnLlxuLy8gU2FmYXJpIDcuMSBhcHBlYXJzIHRvIGhhdmUgZml4ZWQgdGhpcyBidWcuXG52YXIgaGF2ZUFycmF5QnVmZmVyID0gdHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCdcbnZhciBoYXZlU2xpY2UgPSBoYXZlQXJyYXlCdWZmZXIgJiYgaXNGdW5jdGlvbihnbG9iYWwuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlKVxuXG5leHBvcnQgdmFyIGFycmF5YnVmZmVyID0gaGF2ZUFycmF5QnVmZmVyICYmIGNoZWNrVHlwZVN1cHBvcnQoJ2FycmF5YnVmZmVyJylcbiAgLy8gVGhlc2UgbmV4dCB0d28gdGVzdHMgdW5hdm9pZGFibHkgc2hvdyB3YXJuaW5ncyBpbiBDaHJvbWUuIFNpbmNlIGZldGNoIHdpbGwgYWx3YXlzXG4gIC8vIGJlIHVzZWQgaWYgaXQncyBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIGZhbHNlIGZvciB0aGVzZSB0byBhdm9pZCB0aGUgd2FybmluZ3MuXG5leHBvcnQgdmFyIG1zc3RyZWFtID0gIWhhc0ZldGNoICYmIGhhdmVTbGljZSAmJiBjaGVja1R5cGVTdXBwb3J0KCdtcy1zdHJlYW0nKVxuZXhwb3J0IHZhciBtb3pjaHVua2VkYXJyYXlidWZmZXIgPSAhaGFzRmV0Y2ggJiYgaGF2ZUFycmF5QnVmZmVyICYmXG4gIGNoZWNrVHlwZVN1cHBvcnQoJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJylcbmV4cG9ydCB2YXIgb3ZlcnJpZGVNaW1lVHlwZSA9IGlzRnVuY3Rpb24oeGhyLm92ZXJyaWRlTWltZVR5cGUpXG5leHBvcnQgdmFyIHZiQXJyYXkgPSBpc0Z1bmN0aW9uKGdsb2JhbC5WQkFycmF5KVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbn1cblxueGhyID0gbnVsbCAvLyBIZWxwIGdjXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtCdWZmZXJ9IGZyb20gJ2J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1ZmZlckxpc3Q7XG5cbmZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gIHRoaXMuaGVhZCA9IG51bGw7XG4gIHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn1cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogbnVsbCB9O1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gIHRoaXMudGFpbCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogdGhpcy5oZWFkIH07XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gIHRoaXMuaGVhZCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAtLXRoaXMubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn07XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAocykge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgfXJldHVybiByZXQ7XG59O1xuXG5CdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAobikge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAocCkge1xuICAgIHAuZGF0YS5jb3B5KHJldCwgaSk7XG4gICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG52YXIgYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJylcbnZhciBCdWZmZXIgPSBidWZmZXIuQnVmZmVyXG5cbi8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnNcbmZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV1cbiAgfVxufVxuaWYgKEJ1ZmZlci5mcm9tICYmIEJ1ZmZlci5hbGxvYyAmJiBCdWZmZXIuYWxsb2NVbnNhZmUgJiYgQnVmZmVyLmFsbG9jVW5zYWZlU2xvdykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlclxufSBlbHNlIHtcbiAgLy8gQ29weSBwcm9wZXJ0aWVzIGZyb20gcmVxdWlyZSgnYnVmZmVyJylcbiAgY29weVByb3BzKGJ1ZmZlciwgZXhwb3J0cylcbiAgZXhwb3J0cy5CdWZmZXIgPSBTYWZlQnVmZmVyXG59XG5cbmZ1bmN0aW9uIFNhZmVCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIENvcHkgc3RhdGljIG1ldGhvZHMgZnJvbSBCdWZmZXJcbmNvcHlQcm9wcyhCdWZmZXIsIFNhZmVCdWZmZXIpXG5cblNhZmVCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuU2FmZUJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgdmFyIGJ1ZiA9IEJ1ZmZlcihzaXplKVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuZmlsbChmaWxsKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBidWYuZmlsbCgwKVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKHNpemUpXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKVxufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IHtpbmhlcml0cywgZGVidWdsb2d9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IEJ1ZmZlckxpc3QgZnJvbSAnLi9idWZmZXItbGlzdCc7XG5pbXBvcnQge1N0cmluZ0RlY29kZXJ9IGZyb20gJ3N0cmluZ19kZWNvZGVyJztcbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL2R1cGxleCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcblxudmFyIGRlYnVnID0gZGVidWdsb2coJ3N0cmVhbScpO1xuaW5oZXJpdHMoUmVhZGFibGUsIEV2ZW50RW1pdHRlcik7XG5cbmZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4pIHtcbiAgLy8gU2FkbHkgdGhpcyBpcyBub3QgY2FjaGVhYmxlIGFzIHNvbWUgbGlicmFyaWVzIGJ1bmRsZSB0aGVpciBvd25cbiAgLy8gZXZlbnQgZW1pdHRlciBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZW0uXG4gIGlmICh0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gICAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gICAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAgIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW2V2ZW50XSlcbiAgICAgIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKVxuICAgICAgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtcbiAgICBlbHNlXG4gICAgICBlbWl0dGVyLl9ldmVudHNbZXZlbnRdID0gW2ZuLCBlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTtcbiAgfVxufVxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCAoZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufVxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyB3aGVuZXZlciB3ZSByZXR1cm4gbnVsbCwgdGhlbiB3ZSBzZXQgYSBmbGFnIHRvIHNheVxuICAvLyB0aGF0IHdlJ3JlIGF3YWl0aW5nIGEgJ3JlYWRhYmxlJyBldmVudCBlbWlzc2lvbi5cbiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIHdoZW4gcGlwaW5nLCB3ZSBvbmx5IGNhcmUgYWJvdXQgJ3JlYWRhYmxlJyBldmVudHMgdGhhdCBoYXBwZW5cbiAgLy8gYWZ0ZXIgcmVhZCgpaW5nIGFsbCB0aGUgYnl0ZXMgYW5kIG5vdCBnZXR0aW5nIGFueSBwdXNoYmFjay5cbiAgdGhpcy5yYW5PdXQgPSBmYWxzZTtcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBSZWFkYWJsZTtcbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSkgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTtcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpIHRoaXMuX3JlYWQgPSBvcHRpb25zLnJlYWQ7XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbi8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBmYWxzZSk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCAnJywgdHJ1ZSk7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlO1xufTtcblxuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQpIHtcbiAgdmFyIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gIGlmIChlcikge1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfSBlbHNlIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsgJiYgY2h1bmsubGVuZ3RoID4gMCkge1xuICAgIGlmIChzdGF0ZS5lbmRlZCAmJiAhYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJyk7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZEVtaXR0ZWQgJiYgYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIF9lID0gbmV3IEVycm9yKCdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgX2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2tpcEFkZDtcbiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICBza2lwQWRkID0gIXN0YXRlLm9iamVjdE1vZGUgJiYgY2h1bmsubGVuZ3RoID09PSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFkZFRvRnJvbnQpIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRG9uJ3QgYWRkIHRvIHRoZSBidWZmZXIgaWYgd2UndmUgZGVjb2RlZCB0byBhbiBlbXB0eSBzdHJpbmcgY2h1bmsgYW5kXG4gICAgICAvLyB3ZSdyZSBub3QgaW4gb2JqZWN0IG1vZGVcbiAgICAgIGlmICghc2tpcEFkZCkge1xuICAgICAgICAvLyBpZiB3ZSB3YW50IHRoZSBkYXRhIG5vdywganVzdCBlbWl0IGl0LlxuICAgICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICAgICAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgICAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuLy8gaWYgaXQncyBwYXN0IHRoZSBoaWdoIHdhdGVyIG1hcmssIHdlIGNhbiBwdXNoIGluIHNvbWUgbW9yZS5cbi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lXG4vLyBtb3JlIGJ5dGVzLiAgVGhpcyBpcyB0byB3b3JrIGFyb3VuZCBjYXNlcyB3aGVyZSBod209MCxcbi8vIHN1Y2ggYXMgdGhlIHJlcGwuICBBbHNvLCBpZiB0aGUgcHVzaCgpIHRyaWdnZXJlZCBhXG4vLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXRcbi8vIG5lZWRSZWFkYWJsZSB3YXMgc2V0LCB0aGVuIHdlIG91Z2h0IHRvIHB1c2ggbW9yZSwgc28gdGhhdCBhbm90aGVyXG4vLyAncmVhZGFibGUnIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLlxuZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7XG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fCBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7XG4gIHZhciBlciA9IG51bGw7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICByZXR1cm4gZXI7XG59XG5cbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcbiAgaWYgKHN0YXRlLmRlY29kZXIpIHtcbiAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuXG4gIC8vIGVtaXQgJ3JlYWRhYmxlJyBub3cgdG8gbWFrZSBzdXJlIGl0IGdldHMgcGlja2VkIHVwLlxuICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbn1cblxuLy8gRG9uJ3QgZW1pdCByZWFkYWJsZSByaWdodCBhd2F5IGluIHN5bmMgbW9kZSwgYmVjYXVzZSB0aGlzIGNhbiB0cmlnZ2VyXG4vLyBhbm90aGVyIHJlYWQoKSBjYWxsID0+IHN0YWNrIG92ZXJmbG93LiAgVGhpcyB3YXksIGl0IG1pZ2h0IHRyaWdnZXJcbi8vIGEgbmV4dFRpY2sgcmVjdXJzaW9uIHdhcm5pbmcsIGJ1dCB0aGF0J3Mgbm90IHNvIGJhZC5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHtcbiAgICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUuZmxvd2luZyk7XG4gICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICBpZiAoc3RhdGUuc3luYykgbmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpO1xuICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIG5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuXG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSk7XG5cbiAgdmFyIGVuZEZuID0gZG9FbmQgPyBvbmVuZCA6IGNsZWFudXA7XG4gIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBuZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuXG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUpIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgY2xlYW51cCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGRlYnVnKCdvbmVuZCcpO1xuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBkZXN0IGRyYWlucywgaXQgcmVkdWNlcyB0aGUgYXdhaXREcmFpbiBjb3VudGVyXG4gIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKVxuICAvLyBoYW5kbGVyIGluIGZsb3coKSwgYnV0IGFkZGluZyBhbmQgcmVtb3ZpbmcgcmVwZWF0ZWRseSBpc1xuICAvLyB0b28gc2xvdy5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gIHZhciBjbGVhbmVkVXAgPSBmYWxzZTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWJ1ZygnY2xlYW51cCcpO1xuICAgIC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAobGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgZGVidWcoJ29uZmluaXNoJyk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBzcmMubGlzdGVuZXJzKCdkYXRhJykubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsZW47IF9pKyspIHtcbiAgICAgIGRlc3RzW19pXS5lbWl0KCd1bnBpcGUnLCB0aGlzKTtcbiAgICB9cmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaSA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaSA9PT0gLTEpIHJldHVybiB0aGlzO1xuXG4gIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIG5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7XG4gICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBuZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBzZWxmLnB1c2goY2h1bmspO1xuICAgIH1cblxuICAgIHNlbGYucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IHNlbGYucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgdmFyIGV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldikge1xuICAgIHN0cmVhbS5vbihldiwgc2VsZi5lbWl0LmJpbmQoc2VsZiwgZXYpKTtcbiAgfSk7XG5cbiAgLy8gd2hlbiB3ZSB0cnkgdG8gY29uc3VtZSBzb21lIG1vcmUgYnl0ZXMsIHNpbXBseSB1bnBhdXNlIHRoZVxuICAvLyB1bmRlcmx5aW5nIHN0cmVhbS5cbiAgc2VsZi5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgX3JlYWQnLCBuKTtcbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5SZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDtcblxuLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLlxuLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHtcbiAgdmFyIHJldDtcbiAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5nc1xuICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7XG4gIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlclxuICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGFcbi8vIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkge1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICB2YXIgcmV0ID0gcC5kYXRhO1xuICBuIC09IHJldC5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgbiAtPSBuYjtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICAgICsrYztcbiAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuaGVhZCA9IHA7XG4gICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgKytjO1xuICB9XG4gIGxpc3QubGVuZ3RoIC09IGM7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgbGlzdCBvZiBidWZmZXJlZCBkYXRhIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXIobiwgbGlzdCkge1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICBwLmRhdGEuY29weShyZXQpO1xuICBuIC09IHAuZGF0YS5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuO1xuICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgbmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goeHMsIGYpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmKHhzW2ldLCBpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG4iLCIvLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cblxuaW1wb3J0IHtpbmhlcml0cywgZGVwcmVjYXRlfSBmcm9tICd1dGlsJztcbmltcG9ydCB7QnVmZmVyfSBmcm9tICdidWZmZXInO1xuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG5pbXBvcnQge0V2ZW50RW1pdHRlcn0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL2R1cGxleCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcbmluaGVyaXRzKFdyaXRhYmxlLCBFdmVudEVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBub3AoKSB7fVxuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYnVmZmVyJywge1xuICAgIGdldDogZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpO1xuICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJylcbiAgfSk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIG9iamVjdCBzdHJlYW0gZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0aGlzIHN0cmVhbVxuICAvLyBjb250YWlucyBidWZmZXJzIG9yIG9iamVjdHMuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuXG4gIGlmIChzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2VcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWZcbiAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKVxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod20gfHwgaHdtID09PSAwID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH4gfnRoaXMuaGlnaFdhdGVyTWFyaztcblxuICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlO1xuICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKVxuICB0aGlzLmVuZGluZyA9IGZhbHNlO1xuICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT9cbiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nXG4gIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuXG4gIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudFxuICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nXG4gIC8vIHNvY2tldCBvciBmaWxlLlxuICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS5cbiAgdGhpcy53cml0aW5nID0gZmFsc2U7XG5cbiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbFxuICB0aGlzLmNvcmtlZCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55XG4gIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaFxuICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndFxuICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi5cbiAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKVxuICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICBvbndyaXRlKHN0cmVhbSwgZXIpO1xuICB9O1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKVxuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuXG4gIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cblxuV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gd3JpdGFibGVTdGF0ZUdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIG91dC5wdXNoKGN1cnJlbnQpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdyaXRhYmxlO1xuZXhwb3J0IGZ1bmN0aW9uIFdyaXRhYmxlKG9wdGlvbnMpIHtcblxuICAvLyBXcml0YWJsZSBjdG9yIGlzIGFwcGxpZWQgdG8gRHVwbGV4ZXMsIHRob3VnaCB0aGV5J3JlIG5vdFxuICAvLyBpbnN0YW5jZW9mIFdyaXRhYmxlLCB0aGV5J3JlIGluc3RhbmNlb2YgUmVhZGFibGUuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBXcml0YWJsZSkgJiYgISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcblxuICB0aGlzLl93cml0YWJsZVN0YXRlID0gbmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5LlxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRldiA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGV2ID0gb3B0aW9ucy53cml0ZXY7XG4gIH1cblxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbn1cblxuLy8gT3RoZXJ3aXNlIHBlb3BsZSBjYW4gcGlwZSBXcml0YWJsZSBzdHJlYW1zLCB3aGljaCBpcyBqdXN0IHdyb25nLlxuV3JpdGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0Nhbm5vdCBwaXBlLCBub3QgcmVhZGFibGUnKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVycm9yKCd3cml0ZSBhZnRlciBlbmQnKTtcbiAgLy8gVE9ETzogZGVmZXIgZXJyb3IgZXZlbnRzIGNvbnNpc3RlbnRseSBldmVyeXdoZXJlLCBub3QganVzdCB0aGUgY2JcbiAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBuZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBJZiB3ZSBnZXQgc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgYnVmZmVyLCBzdHJpbmcsIG51bGwsIG9yIHVuZGVmaW5lZCxcbi8vIGFuZCB3ZSdyZSBub3QgaW4gb2JqZWN0TW9kZSwgdGhlbiB0aGF0J3MgYW4gZXJyb3IuXG4vLyBPdGhlcndpc2Ugc3RyZWFtIGNodW5rcyBhcmUgYWxsIGNvbnNpZGVyZWQgdG8gYmUgb2YgbGVuZ3RoPTEsIGFuZCB0aGVcbi8vIHdhdGVybWFya3MgZGV0ZXJtaW5lIGhvdyBtYW55IG9iamVjdHMgdG8ga2VlcCBpbiB0aGUgYnVmZmVyLCByYXRoZXIgdGhhblxuLy8gaG93IG1hbnkgYnl0ZXMgb3IgY2hhcmFjdGVycy5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciB2YWxpZCA9IHRydWU7XG4gIHZhciBlciA9IGZhbHNlO1xuICAvLyBBbHdheXMgdGhyb3cgZXJyb3IgaWYgYSBudWxsIGlzIHdyaXR0ZW5cbiAgLy8gaWYgd2UgYXJlIG5vdCBpbiBvYmplY3QgbW9kZSB0aGVuIHRocm93XG4gIC8vIGlmIGl0IGlzIG5vdCBhIGJ1ZmZlciwgc3RyaW5nLCBvciB1bmRlZmluZWQuXG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW0nKTtcbiAgfSBlbHNlIGlmICghQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICBpZiAoZXIpIHtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgbmV4dFRpY2soY2IsIGVyKTtcbiAgICB2YWxpZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHJldCA9IGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykgY2IgPSBub3A7XG5cbiAgaWYgKHN0YXRlLmVuZGVkKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgc3RhdGUuY29ya2VkKys7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQtLTtcblxuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIGNsZWFyQnVmZmVyKHRoaXMsIHN0YXRlKTtcbiAgfVxufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKSB7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuLy8gaWYgd2UncmUgYWxyZWFkeSB3cml0aW5nIHNvbWV0aGluZywgdGhlbiBqdXN0IHB1dCB0aGlzXG4vLyBpbiB0aGUgcXVldWUsIGFuZCB3YWl0IG91ciB0dXJuLiAgT3RoZXJ3aXNlLCBjYWxsIF93cml0ZVxuLy8gSWYgd2UgcmV0dXJuIGZhbHNlLCB0aGVuIHdlIG5lZWQgYSBkcmFpbiBldmVudCwgc28gc2V0IHRoYXQgZmxhZy5cbmZ1bmN0aW9uIHdyaXRlT3JCdWZmZXIoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjaHVuayA9IGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpO1xuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSBlbmNvZGluZyA9ICdidWZmZXInO1xuICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcblxuICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbmV3IFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKSBuZXh0VGljayhjYiwgZXIpO2Vsc2UgY2IoZXIpO1xuXG4gIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkge1xuICBzdGF0ZS53cml0aW5nID0gZmFsc2U7XG4gIHN0YXRlLndyaXRlY2IgPSBudWxsO1xuICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47XG4gIHN0YXRlLndyaXRlbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gb253cml0ZShzdHJlYW0sIGVyKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jO1xuICB2YXIgY2IgPSBzdGF0ZS53cml0ZWNiO1xuXG4gIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7XG5cbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuXG4gICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8qPHJlcGxhY2VtZW50PiovXG4gICAgICAgIG5leHRUaWNrKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgICAvKjwvcmVwbGFjZW1lbnQ+Ki9cbiAgICB9IGVsc2Uge1xuICAgICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpIHtcbiAgaWYgKCFmaW5pc2hlZCkgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpO1xuICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgY2IoKTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0XG4vLyBlbWl0ICdkcmFpbicgYmVmb3JlIHRoZSB3cml0ZSgpIGNvbnN1bWVyIGdldHMgdGhlICdmYWxzZScgcmV0dXJuXG4vLyB2YWx1ZSwgYW5kIGhhcyBhIGNoYW5jZSB0byBhdHRhY2ggYSAnZHJhaW4nIGxpc3RlbmVyLlxuZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uZWVkRHJhaW4pIHtcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTtcbiAgfVxufVxuXG4vLyBpZiB0aGVyZSdzIHNvbWV0aGluZyBpbiB0aGUgYnVmZmVyIHdhaXRpbmcsIHRoZW4gcHJvY2VzcyBpdFxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuXG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGJ1ZmZlcltjb3VudF0gPSBlbnRyeTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNsb3cgY2FzZSwgd3JpdGUgY2h1bmtzIG9uZS1ieS1vbmVcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIHZhciBjaHVuayA9IGVudHJ5LmNodW5rO1xuICAgICAgdmFyIGVuY29kaW5nID0gZW50cnkuZW5jb2Rpbmc7XG4gICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICAgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcblxuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG4gICAgICBpZiAoc3RhdGUud3JpdGluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW50cnkgPT09IG51bGwpIHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB9XG5cbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgPSAwO1xuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpO1xuXG4gIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQgPSAxO1xuICAgIHRoaXMudW5jb3JrKCk7XG4gIH1cblxuICAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG4gIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cblxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCkge1xuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmVlZDtcbn1cblxuZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHtcbiAgc3RhdGUuZW5kaW5nID0gdHJ1ZTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgbmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlO1xufVxuXG4vLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3Rcbi8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbVxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuXG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKGVycikge1xuICAgIHZhciBlbnRyeSA9IF90aGlzLmVudHJ5O1xuICAgIF90aGlzLmVudHJ5ID0gbnVsbDtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgICBjYihlcnIpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgIH1cbiAgICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dCA9IF90aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBfdGhpcztcbiAgICB9XG4gIH07XG59XG4iLCJcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHtuZXh0VGlja30gZnJvbSAncHJvY2Vzcyc7XG5pbXBvcnQge1JlYWRhYmxlfSBmcm9tICcuL3JlYWRhYmxlJztcbmltcG9ydCB7V3JpdGFibGV9IGZyb20gJy4vd3JpdGFibGUnO1xuXG5cbmluaGVyaXRzKER1cGxleCwgUmVhZGFibGUpO1xuXG52YXIga2V5cyA9IE9iamVjdC5rZXlzKFdyaXRhYmxlLnByb3RvdHlwZSk7XG5mb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgdmFyIG1ldGhvZCA9IGtleXNbdl07XG4gIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbn1cbmV4cG9ydCBkZWZhdWx0IER1cGxleDtcbmV4cG9ydCBmdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG5cbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgdGhpcy5hbGxvd0hhbGZPcGVuID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG5cbiAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7XG59XG5cbi8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcbmZ1bmN0aW9uIG9uZW5kKCkge1xuICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLFxuICAvLyB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjtcblxuICAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuICBuZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25FbmROVChzZWxmKSB7XG4gIHNlbGYuZW5kKCk7XG59XG4iLCIvLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cblxuaW1wb3J0IHtEdXBsZXh9IGZyb20gJy4vZHVwbGV4JztcblxuXG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmluaGVyaXRzKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGUoc3RyZWFtKSB7XG4gIHRoaXMuYWZ0ZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICByZXR1cm4gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSk7XG4gIH07XG5cbiAgdGhpcy5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHRoaXMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG4gIHRoaXMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRoaXMud3JpdGVlbmNvZGluZyA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcycpKTtcblxuICB0cy53cml0ZWNodW5rID0gbnVsbDtcbiAgdHMud3JpdGVjYiA9IG51bGw7XG5cbiAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSBzdHJlYW0ucHVzaChkYXRhKTtcblxuICBjYihlcik7XG5cbiAgdmFyIHJzID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHN0cmVhbS5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcblxuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IG5ldyBUcmFuc2Zvcm1TdGF0ZSh0aGlzKTtcblxuICAvLyB3aGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHZhciBzdHJlYW0gPSB0aGlzO1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICB0aGlzLm9uY2UoJ3ByZWZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIpIHtcbiAgICAgIGRvbmUoc3RyZWFtLCBlcik7XG4gICAgfSk7ZWxzZSBkb25lKHN0cmVhbSk7XG4gIH0pO1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlcikge1xuICBpZiAoZXIpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG5cbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgdmFyIHdzID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh3cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7XG5cbiAgaWYgKHRzLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufVxuIiwiXG5pbXBvcnQge1RyYW5zZm9ybX0gZnJvbSAnLi90cmFuc2Zvcm0nO1xuXG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmluaGVyaXRzKFBhc3NUaHJvdWdoLCBUcmFuc2Zvcm0pO1xuZXhwb3J0IGRlZmF1bHQgUGFzc1Rocm91Z2g7XG5leHBvcnQgZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG51bGwsIGNodW5rKTtcbn07XG4iLCJpbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuXG5pbXBvcnQge0R1cGxleH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vZHVwbGV4LmpzJztcbmltcG9ydCB7UmVhZGFibGV9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzJztcbmltcG9ydCB7V3JpdGFibGV9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLmpzJztcbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtQYXNzVGhyb3VnaH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMnO1xuaW5oZXJpdHMoU3RyZWFtLCBFRSk7XG5TdHJlYW0uUmVhZGFibGUgPSBSZWFkYWJsZTtcblN0cmVhbS5Xcml0YWJsZSA9IFdyaXRhYmxlO1xuU3RyZWFtLkR1cGxleCA9IER1cGxleDtcblN0cmVhbS5UcmFuc2Zvcm0gPSBUcmFuc2Zvcm07XG5TdHJlYW0uUGFzc1Rocm91Z2ggPSBQYXNzVGhyb3VnaDtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC40LnhcblN0cmVhbS5TdHJlYW0gPSBTdHJlYW07XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmVhbTtcbmV4cG9ydCB7UmVhZGFibGUsV3JpdGFibGUsRHVwbGV4LFRyYW5zZm9ybSxQYXNzVGhyb3VnaCxTdHJlYW19XG5cbi8vIG9sZC1zdHlsZSBzdHJlYW1zLiAgTm90ZSB0aGF0IHRoZSBwaXBlIG1ldGhvZCAodGhlIG9ubHkgcmVsZXZhbnRcbi8vIHBhcnQgb2YgdGhpcyBjbGFzcykgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmVhZGFibGUgY2xhc3MuXG5cbmZ1bmN0aW9uIFN0cmVhbSgpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbn1cblxuU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oZGVzdCwgb3B0aW9ucykge1xuICB2YXIgc291cmNlID0gdGhpcztcblxuICBmdW5jdGlvbiBvbmRhdGEoY2h1bmspIHtcbiAgICBpZiAoZGVzdC53cml0YWJsZSkge1xuICAgICAgaWYgKGZhbHNlID09PSBkZXN0LndyaXRlKGNodW5rKSAmJiBzb3VyY2UucGF1c2UpIHtcbiAgICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdkYXRhJywgb25kYXRhKTtcblxuICBmdW5jdGlvbiBvbmRyYWluKCkge1xuICAgIGlmIChzb3VyY2UucmVhZGFibGUgJiYgc291cmNlLnJlc3VtZSkge1xuICAgICAgc291cmNlLnJlc3VtZSgpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG5cbiAgLy8gSWYgdGhlICdlbmQnIG9wdGlvbiBpcyBub3Qgc3VwcGxpZWQsIGRlc3QuZW5kKCkgd2lsbCBiZSBjYWxsZWQgd2hlblxuICAvLyBzb3VyY2UgZ2V0cyB0aGUgJ2VuZCcgb3IgJ2Nsb3NlJyBldmVudHMuICBPbmx5IGRlc3QuZW5kKCkgb25jZS5cbiAgaWYgKCFkZXN0Ll9pc1N0ZGlvICYmICghb3B0aW9ucyB8fCBvcHRpb25zLmVuZCAhPT0gZmFsc2UpKSB7XG4gICAgc291cmNlLm9uKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLm9uKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9XG5cbiAgdmFyIGRpZE9uRW5kID0gZmFsc2U7XG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuO1xuICAgIGRpZE9uRW5kID0gdHJ1ZTtcblxuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBkZXN0LmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIGRlc3QuZGVzdHJveSgpO1xuICB9XG5cbiAgLy8gZG9uJ3QgbGVhdmUgZGFuZ2xpbmcgcGlwZXMgd2hlbiB0aGVyZSBhcmUgZXJyb3JzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgY2xlYW51cCgpO1xuICAgIGlmIChFRS5saXN0ZW5lckNvdW50KHRoaXMsICdlcnJvcicpID09PSAwKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkIHN0cmVhbSBlcnJvciBpbiBwaXBlLlxuICAgIH1cbiAgfVxuXG4gIHNvdXJjZS5vbignZXJyb3InLCBvbmVycm9yKTtcbiAgZGVzdC5vbignZXJyb3InLCBvbmVycm9yKTtcblxuICAvLyByZW1vdmUgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCB3ZXJlIGFkZGVkLlxuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcblxuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTtcbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApO1xuICB9XG5cbiAgc291cmNlLm9uKCdlbmQnLCBjbGVhbnVwKTtcbiAgc291cmNlLm9uKCdjbG9zZScsIGNsZWFudXApO1xuXG4gIGRlc3Qub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5lbWl0KCdwaXBlJywgc291cmNlKTtcblxuICAvLyBBbGxvdyBmb3IgdW5peC1saWtlIHVzYWdlOiBBLnBpcGUoQikucGlwZShDKVxuICByZXR1cm4gZGVzdDtcbn07XG4iLCJpbXBvcnQge292ZXJyaWRlTWltZVR5cGV9IGZyb20gJy4vY2FwYWJpbGl0eSc7XG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmltcG9ydCB7UmVhZGFibGV9IGZyb20gJ3N0cmVhbSc7XG5cbnZhciByU3RhdGVzID0ge1xuICBVTlNFTlQ6IDAsXG4gIE9QRU5FRDogMSxcbiAgSEVBREVSU19SRUNFSVZFRDogMixcbiAgTE9BRElORzogMyxcbiAgRE9ORTogNFxufVxuZXhwb3J0IHtcbiAgclN0YXRlcyBhcyByZWFkeVN0YXRlc1xufTtcbmV4cG9ydCBmdW5jdGlvbiBJbmNvbWluZ01lc3NhZ2UoeGhyLCByZXNwb25zZSwgbW9kZSkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgUmVhZGFibGUuY2FsbChzZWxmKVxuXG4gIHNlbGYuX21vZGUgPSBtb2RlXG4gIHNlbGYuaGVhZGVycyA9IHt9XG4gIHNlbGYucmF3SGVhZGVycyA9IFtdXG4gIHNlbGYudHJhaWxlcnMgPSB7fVxuICBzZWxmLnJhd1RyYWlsZXJzID0gW11cblxuICAvLyBGYWtlIHRoZSAnY2xvc2UnIGV2ZW50LCBidXQgb25seSBvbmNlICdlbmQnIGZpcmVzXG4gIHNlbGYub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgIC8vIFRoZSBuZXh0VGljayBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCB0aGUgJ3JlcXVlc3QnIG1vZHVsZSBmcm9tIGNhdXNpbmcgYW4gaW5maW5pdGUgbG9vcFxuICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVtaXQoJ2Nsb3NlJylcbiAgICB9KVxuICB9KVxuICB2YXIgcmVhZDtcbiAgaWYgKG1vZGUgPT09ICdmZXRjaCcpIHtcbiAgICBzZWxmLl9mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2VcblxuICAgIHNlbGYudXJsID0gcmVzcG9uc2UudXJsXG4gICAgc2VsZi5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzXG4gICAgc2VsZi5zdGF0dXNNZXNzYWdlID0gcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUgdmVyc2lvbiBvZiBmb3IgKDxpdGVtPiBvZiA8aXRlcmFibGU+KTpcbiAgICAgIC8vIGZvciAodmFyIDxpdGVtPixfaSxfaXQgPSA8aXRlcmFibGU+W1N5bWJvbC5pdGVyYXRvcl0oKTsgPGl0ZW0+ID0gKF9pID0gX2l0Lm5leHQoKSkudmFsdWUsIV9pLmRvbmU7KVxuICAgIGZvciAodmFyIGhlYWRlciwgX2ksIF9pdCA9IHJlc3BvbnNlLmhlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyBoZWFkZXIgPSAoX2kgPSBfaXQubmV4dCgpKS52YWx1ZSwgIV9pLmRvbmU7KSB7XG4gICAgICBzZWxmLmhlYWRlcnNbaGVhZGVyWzBdLnRvTG93ZXJDYXNlKCldID0gaGVhZGVyWzFdXG4gICAgICBzZWxmLnJhd0hlYWRlcnMucHVzaChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9XG5cbiAgICAvLyBUT0RPOiB0aGlzIGRvZXNuJ3QgcmVzcGVjdCBiYWNrcHJlc3N1cmUuIE9uY2UgV3JpdGFibGVTdHJlYW0gaXMgYXZhaWxhYmxlLCB0aGlzIGNhbiBiZSBmaXhlZFxuICAgIHZhciByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpXG5cbiAgICByZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBpZiAoc2VsZi5fZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICBzZWxmLnB1c2gobnVsbClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZWxmLnB1c2gobmV3IEJ1ZmZlcihyZXN1bHQudmFsdWUpKVxuICAgICAgICByZWFkKClcbiAgICAgIH0pXG4gICAgfVxuICAgIHJlYWQoKVxuXG4gIH0gZWxzZSB7XG4gICAgc2VsZi5feGhyID0geGhyXG4gICAgc2VsZi5fcG9zID0gMFxuXG4gICAgc2VsZi51cmwgPSB4aHIucmVzcG9uc2VVUkxcbiAgICBzZWxmLnN0YXR1c0NvZGUgPSB4aHIuc3RhdHVzXG4gICAgc2VsZi5zdGF0dXNNZXNzYWdlID0geGhyLnN0YXR1c1RleHRcbiAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgvXFxyP1xcbi8pXG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgdmFyIG1hdGNoZXMgPSBoZWFkZXIubWF0Y2goL14oW146XSspOlxccyooLiopLylcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBrZXkgPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgaWYgKHNlbGYuaGVhZGVyc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gW11cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5oZWFkZXJzW2tleV0ucHVzaChtYXRjaGVzWzJdKVxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaGVhZGVyc1trZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWxmLmhlYWRlcnNba2V5XSArPSAnLCAnICsgbWF0Y2hlc1syXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZGVyc1trZXldID0gbWF0Y2hlc1syXVxuICAgICAgICB9XG4gICAgICAgIHNlbGYucmF3SGVhZGVycy5wdXNoKG1hdGNoZXNbMV0sIG1hdGNoZXNbMl0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHNlbGYuX2NoYXJzZXQgPSAneC11c2VyLWRlZmluZWQnXG4gICAgaWYgKCFvdmVycmlkZU1pbWVUeXBlKSB7XG4gICAgICB2YXIgbWltZVR5cGUgPSBzZWxmLnJhd0hlYWRlcnNbJ21pbWUtdHlwZSddXG4gICAgICBpZiAobWltZVR5cGUpIHtcbiAgICAgICAgdmFyIGNoYXJzZXRNYXRjaCA9IG1pbWVUeXBlLm1hdGNoKC87XFxzKmNoYXJzZXQ9KFteO10pKDt8JCkvKVxuICAgICAgICBpZiAoY2hhcnNldE1hdGNoKSB7XG4gICAgICAgICAgc2VsZi5fY2hhcnNldCA9IGNoYXJzZXRNYXRjaFsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2VsZi5fY2hhcnNldClcbiAgICAgICAgc2VsZi5fY2hhcnNldCA9ICd1dGYtOCcgLy8gYmVzdCBndWVzc1xuICAgIH1cbiAgfVxufVxuXG5pbmhlcml0cyhJbmNvbWluZ01lc3NhZ2UsIFJlYWRhYmxlKVxuXG5JbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24oKSB7fVxuXG5JbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIHZhciB4aHIgPSBzZWxmLl94aHJcblxuICB2YXIgcmVzcG9uc2UgPSBudWxsXG4gIHN3aXRjaCAoc2VsZi5fbW9kZSkge1xuICBjYXNlICd0ZXh0OnZiYXJyYXknOiAvLyBGb3IgSUU5XG4gICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSByU3RhdGVzLkRPTkUpXG4gICAgICBicmVha1xuICAgIHRyeSB7XG4gICAgICAvLyBUaGlzIGZhaWxzIGluIElFOFxuICAgICAgcmVzcG9uc2UgPSBuZXcgZ2xvYmFsLlZCQXJyYXkoeGhyLnJlc3BvbnNlQm9keSkudG9BcnJheSgpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gcGFzc1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UgIT09IG51bGwpIHtcbiAgICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKHJlc3BvbnNlKSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIC8vIEZhbGxzIHRocm91Z2ggaW4gSUU4XG4gIGNhc2UgJ3RleHQnOlxuICAgIHRyeSB7IC8vIFRoaXMgd2lsbCBmYWlsIHdoZW4gcmVhZHlTdGF0ZSA9IDMgaW4gSUU5LiBTd2l0Y2ggbW9kZSBhbmQgd2FpdCBmb3IgcmVhZHlTdGF0ZSA9IDRcbiAgICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNlbGYuX21vZGUgPSAndGV4dDp2YmFycmF5J1xuICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+IHNlbGYuX3Bvcykge1xuICAgICAgdmFyIG5ld0RhdGEgPSByZXNwb25zZS5zdWJzdHIoc2VsZi5fcG9zKVxuICAgICAgaWYgKHNlbGYuX2NoYXJzZXQgPT09ICd4LXVzZXItZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIobmV3RGF0YS5sZW5ndGgpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3RGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICBidWZmZXJbaV0gPSBuZXdEYXRhLmNoYXJDb2RlQXQoaSkgJiAweGZmXG5cbiAgICAgICAgc2VsZi5wdXNoKGJ1ZmZlcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYucHVzaChuZXdEYXRhLCBzZWxmLl9jaGFyc2V0KVxuICAgICAgfVxuICAgICAgc2VsZi5fcG9zID0gcmVzcG9uc2UubGVuZ3RoXG4gICAgfVxuICAgIGJyZWFrXG4gIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuRE9ORSB8fCAheGhyLnJlc3BvbnNlKVxuICAgICAgYnJlYWtcbiAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVxuICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG4gICAgYnJlYWtcbiAgY2FzZSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInOiAvLyB0YWtlIHdob2xlXG4gICAgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2VcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuTE9BRElORyB8fCAhcmVzcG9uc2UpXG4gICAgICBicmVha1xuICAgIHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG4gICAgYnJlYWtcbiAgY2FzZSAnbXMtc3RyZWFtJzpcbiAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVxuICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5MT0FESU5HKVxuICAgICAgYnJlYWtcbiAgICB2YXIgcmVhZGVyID0gbmV3IGdsb2JhbC5NU1N0cmVhbVJlYWRlcigpXG4gICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyZWFkZXIucmVzdWx0LmJ5dGVMZW5ndGggPiBzZWxmLl9wb3MpIHtcbiAgICAgICAgc2VsZi5wdXNoKG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkocmVhZGVyLnJlc3VsdC5zbGljZShzZWxmLl9wb3MpKSkpXG4gICAgICAgIHNlbGYuX3BvcyA9IHJlYWRlci5yZXN1bHQuYnl0ZUxlbmd0aFxuICAgICAgfVxuICAgIH1cbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnB1c2gobnVsbClcbiAgICB9XG4gICAgICAvLyByZWFkZXIub25lcnJvciA9ID8/PyAvLyBUT0RPOiB0aGlzXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHJlc3BvbnNlKVxuICAgIGJyZWFrXG4gIH1cblxuICAvLyBUaGUgbXMtc3RyZWFtIGNhc2UgaGFuZGxlcyBlbmQgc2VwYXJhdGVseSBpbiByZWFkZXIub25sb2FkKClcbiAgaWYgKHNlbGYuX3hoci5yZWFkeVN0YXRlID09PSByU3RhdGVzLkRPTkUgJiYgc2VsZi5fbW9kZSAhPT0gJ21zLXN0cmVhbScpIHtcbiAgICBzZWxmLnB1c2gobnVsbClcbiAgfVxufVxuIiwiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vamhpZXNleS90by1hcnJheWJ1ZmZlci9ibG9iLzY1MDJkOTg1MGU3MGJhNzkzNWE3ZGY0YWQ4NmIzNThmYzIxNmY5ZjAvaW5kZXguanNcblxuLy8gTUlUIExpY2Vuc2Vcbi8vIENvcHlyaWdodCAoYykgMjAxNiBKb2huIEhpZXNleVxuaW1wb3J0IHtpc0J1ZmZlcn0gZnJvbSAnYnVmZmVyJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChidWYpIHtcbiAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBiYWNrZWQgYnkgYSBVaW50OEFycmF5LCBhIGZhc3RlciB2ZXJzaW9uIHdpbGwgd29ya1xuICBpZiAoYnVmIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIC8vIElmIHRoZSBidWZmZXIgaXNuJ3QgYSBzdWJhcnJheSwgcmV0dXJuIHRoZSB1bmRlcmx5aW5nIEFycmF5QnVmZmVyXG4gICAgaWYgKGJ1Zi5ieXRlT2Zmc2V0ID09PSAwICYmIGJ1Zi5ieXRlTGVuZ3RoID09PSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHJldHVybiBidWYuYnVmZmVyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYnVmLmJ1ZmZlci5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gT3RoZXJ3aXNlIHdlIG5lZWQgdG8gZ2V0IGEgcHJvcGVyIGNvcHlcbiAgICAgIHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc0J1ZmZlcihidWYpKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgc2xvdyB2ZXJzaW9uIHRoYXQgd2lsbCB3b3JrIHdpdGggYW55IEJ1ZmZlclxuICAgIC8vIGltcGxlbWVudGF0aW9uIChldmVuIGluIG9sZCBicm93c2VycylcbiAgICB2YXIgYXJyYXlDb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmxlbmd0aClcbiAgICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFycmF5Q29weVtpXSA9IGJ1ZltpXVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlDb3B5LmJ1ZmZlclxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGNhcGFiaWxpdHkgZnJvbSAnLi9jYXBhYmlsaXR5JztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHtJbmNvbWluZ01lc3NhZ2UsIHJlYWR5U3RhdGVzIGFzIHJTdGF0ZXN9IGZyb20gJy4vcmVzcG9uc2UnO1xuaW1wb3J0IHtXcml0YWJsZX0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCB0b0FycmF5QnVmZmVyIGZyb20gJy4vdG8tYXJyYXlidWZmZXInO1xuXG5mdW5jdGlvbiBkZWNpZGVNb2RlKHByZWZlckJpbmFyeSwgdXNlRmV0Y2gpIHtcbiAgaWYgKGNhcGFiaWxpdHkuaGFzRmV0Y2ggJiYgdXNlRmV0Y2gpIHtcbiAgICByZXR1cm4gJ2ZldGNoJ1xuICB9IGVsc2UgaWYgKGNhcGFiaWxpdHkubW96Y2h1bmtlZGFycmF5YnVmZmVyKSB7XG4gICAgcmV0dXJuICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcidcbiAgfSBlbHNlIGlmIChjYXBhYmlsaXR5Lm1zc3RyZWFtKSB7XG4gICAgcmV0dXJuICdtcy1zdHJlYW0nXG4gIH0gZWxzZSBpZiAoY2FwYWJpbGl0eS5hcnJheWJ1ZmZlciAmJiBwcmVmZXJCaW5hcnkpIHtcbiAgICByZXR1cm4gJ2FycmF5YnVmZmVyJ1xuICB9IGVsc2UgaWYgKGNhcGFiaWxpdHkudmJBcnJheSAmJiBwcmVmZXJCaW5hcnkpIHtcbiAgICByZXR1cm4gJ3RleHQ6dmJhcnJheSdcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3RleHQnXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENsaWVudFJlcXVlc3Q7XG5cbmZ1bmN0aW9uIENsaWVudFJlcXVlc3Qob3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgV3JpdGFibGUuY2FsbChzZWxmKVxuXG4gIHNlbGYuX29wdHMgPSBvcHRzXG4gIHNlbGYuX2JvZHkgPSBbXVxuICBzZWxmLl9oZWFkZXJzID0ge31cbiAgaWYgKG9wdHMuYXV0aClcbiAgICBzZWxmLnNldEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgbmV3IEJ1ZmZlcihvcHRzLmF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKSlcbiAgT2JqZWN0LmtleXMob3B0cy5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBzZWxmLnNldEhlYWRlcihuYW1lLCBvcHRzLmhlYWRlcnNbbmFtZV0pXG4gIH0pXG5cbiAgdmFyIHByZWZlckJpbmFyeVxuICB2YXIgdXNlRmV0Y2ggPSB0cnVlXG4gIGlmIChvcHRzLm1vZGUgPT09ICdkaXNhYmxlLWZldGNoJykge1xuICAgIC8vIElmIHRoZSB1c2Ugb2YgWEhSIHNob3VsZCBiZSBwcmVmZXJyZWQgYW5kIGluY2x1ZGVzIHByZXNlcnZpbmcgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlclxuICAgIHVzZUZldGNoID0gZmFsc2VcbiAgICBwcmVmZXJCaW5hcnkgPSB0cnVlXG4gIH0gZWxzZSBpZiAob3B0cy5tb2RlID09PSAncHJlZmVyLXN0cmVhbWluZycpIHtcbiAgICAvLyBJZiBzdHJlYW1pbmcgaXMgYSBoaWdoIHByaW9yaXR5IGJ1dCBiaW5hcnkgY29tcGF0aWJpbGl0eSBhbmRcbiAgICAvLyB0aGUgYWNjdXJhY3kgb2YgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlciBhcmVuJ3RcbiAgICBwcmVmZXJCaW5hcnkgPSBmYWxzZVxuICB9IGVsc2UgaWYgKG9wdHMubW9kZSA9PT0gJ2FsbG93LXdyb25nLWNvbnRlbnQtdHlwZScpIHtcbiAgICAvLyBJZiBzdHJlYW1pbmcgaXMgbW9yZSBpbXBvcnRhbnQgdGhhbiBwcmVzZXJ2aW5nIHRoZSAnY29udGVudC10eXBlJyBoZWFkZXJcbiAgICBwcmVmZXJCaW5hcnkgPSAhY2FwYWJpbGl0eS5vdmVycmlkZU1pbWVUeXBlXG4gIH0gZWxzZSBpZiAoIW9wdHMubW9kZSB8fCBvcHRzLm1vZGUgPT09ICdkZWZhdWx0JyB8fCBvcHRzLm1vZGUgPT09ICdwcmVmZXItZmFzdCcpIHtcbiAgICAvLyBVc2UgYmluYXJ5IGlmIHRleHQgc3RyZWFtaW5nIG1heSBjb3JydXB0IGRhdGEgb3IgdGhlIGNvbnRlbnQtdHlwZSBoZWFkZXIsIG9yIGZvciBzcGVlZFxuICAgIHByZWZlckJpbmFyeSA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIG9wdHMubW9kZScpXG4gIH1cbiAgc2VsZi5fbW9kZSA9IGRlY2lkZU1vZGUocHJlZmVyQmluYXJ5LCB1c2VGZXRjaClcblxuICBzZWxmLm9uKCdmaW5pc2gnLCBmdW5jdGlvbigpIHtcbiAgICBzZWxmLl9vbkZpbmlzaCgpXG4gIH0pXG59XG5cbmluaGVyaXRzKENsaWVudFJlcXVlc3QsIFdyaXRhYmxlKVxuLy8gVGFrZW4gZnJvbSBodHRwOi8vd3d3LnczLm9yZy9UUi9YTUxIdHRwUmVxdWVzdC8jdGhlLXNldHJlcXVlc3RoZWFkZXIlMjglMjktbWV0aG9kXG52YXIgdW5zYWZlSGVhZGVycyA9IFtcbiAgJ2FjY2VwdC1jaGFyc2V0JyxcbiAgJ2FjY2VwdC1lbmNvZGluZycsXG4gICdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnLFxuICAnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnLFxuICAnY29ubmVjdGlvbicsXG4gICdjb250ZW50LWxlbmd0aCcsXG4gICdjb29raWUnLFxuICAnY29va2llMicsXG4gICdkYXRlJyxcbiAgJ2RudCcsXG4gICdleHBlY3QnLFxuICAnaG9zdCcsXG4gICdrZWVwLWFsaXZlJyxcbiAgJ29yaWdpbicsXG4gICdyZWZlcmVyJyxcbiAgJ3RlJyxcbiAgJ3RyYWlsZXInLFxuICAndHJhbnNmZXItZW5jb2RpbmcnLFxuICAndXBncmFkZScsXG4gICd1c2VyLWFnZW50JyxcbiAgJ3ZpYSdcbl1cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICB2YXIgbG93ZXJOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgLy8gVGhpcyBjaGVjayBpcyBub3QgbmVjZXNzYXJ5LCBidXQgaXQgcHJldmVudHMgd2FybmluZ3MgZnJvbSBicm93c2VycyBhYm91dCBzZXR0aW5nIHVuc2FmZVxuICAgIC8vIGhlYWRlcnMuIFRvIGJlIGhvbmVzdCBJJ20gbm90IGVudGlyZWx5IHN1cmUgaGlkaW5nIHRoZXNlIHdhcm5pbmdzIGlzIGEgZ29vZCB0aGluZywgYnV0XG4gICAgLy8gaHR0cC1icm93c2VyaWZ5IGRpZCBpdCwgc28gSSB3aWxsIHRvby5cbiAgaWYgKHVuc2FmZUhlYWRlcnMuaW5kZXhPZihsb3dlck5hbWUpICE9PSAtMSlcbiAgICByZXR1cm5cblxuICBzZWxmLl9oZWFkZXJzW2xvd2VyTmFtZV0gPSB7XG4gICAgbmFtZTogbmFtZSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICByZXR1cm4gc2VsZi5faGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldLnZhbHVlXG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGRlbGV0ZSBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV1cbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX29uRmluaXNoID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIGlmIChzZWxmLl9kZXN0cm95ZWQpXG4gICAgcmV0dXJuXG4gIHZhciBvcHRzID0gc2VsZi5fb3B0c1xuXG4gIHZhciBoZWFkZXJzT2JqID0gc2VsZi5faGVhZGVyc1xuICB2YXIgYm9keVxuICBpZiAob3B0cy5tZXRob2QgPT09ICdQT1NUJyB8fCBvcHRzLm1ldGhvZCA9PT0gJ1BVVCcgfHwgb3B0cy5tZXRob2QgPT09ICdQQVRDSCcpIHtcbiAgICBpZiAoY2FwYWJpbGl0eS5ibG9iQ29uc3RydWN0b3IoKSkge1xuICAgICAgYm9keSA9IG5ldyBnbG9iYWwuQmxvYihzZWxmLl9ib2R5Lm1hcChmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHRvQXJyYXlCdWZmZXIoYnVmZmVyKVxuICAgICAgfSksIHtcbiAgICAgICAgdHlwZTogKGhlYWRlcnNPYmpbJ2NvbnRlbnQtdHlwZSddIHx8IHt9KS52YWx1ZSB8fCAnJ1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2V0IHV0Zjggc3RyaW5nXG4gICAgICBib2R5ID0gQnVmZmVyLmNvbmNhdChzZWxmLl9ib2R5KS50b1N0cmluZygpXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGYuX21vZGUgPT09ICdmZXRjaCcpIHtcbiAgICB2YXIgaGVhZGVycyA9IE9iamVjdC5rZXlzKGhlYWRlcnNPYmopLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gW2hlYWRlcnNPYmpbbmFtZV0ubmFtZSwgaGVhZGVyc09ialtuYW1lXS52YWx1ZV1cbiAgICB9KVxuXG4gICAgZ2xvYmFsLmZldGNoKHNlbGYuX29wdHMudXJsLCB7XG4gICAgICBtZXRob2Q6IHNlbGYuX29wdHMubWV0aG9kLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBtb2RlOiAnY29ycycsXG4gICAgICBjcmVkZW50aWFsczogb3B0cy53aXRoQ3JlZGVudGlhbHMgPyAnaW5jbHVkZScgOiAnc2FtZS1vcmlnaW4nXG4gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgc2VsZi5fZmV0Y2hSZXNwb25zZSA9IHJlc3BvbnNlXG4gICAgICBzZWxmLl9jb25uZWN0KClcbiAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCByZWFzb24pXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICB2YXIgeGhyID0gc2VsZi5feGhyID0gbmV3IGdsb2JhbC5YTUxIdHRwUmVxdWVzdCgpXG4gICAgdHJ5IHtcbiAgICAgIHhoci5vcGVuKHNlbGYuX29wdHMubWV0aG9kLCBzZWxmLl9vcHRzLnVybCwgdHJ1ZSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQ2FuJ3Qgc2V0IHJlc3BvbnNlVHlwZSBvbiByZWFsbHkgb2xkIGJyb3dzZXJzXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhocilcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBzZWxmLl9tb2RlLnNwbGl0KCc6JylbMF1cblxuICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpXG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISFvcHRzLndpdGhDcmVkZW50aWFsc1xuXG4gICAgaWYgKHNlbGYuX21vZGUgPT09ICd0ZXh0JyAmJiAnb3ZlcnJpZGVNaW1lVHlwZScgaW4geGhyKVxuICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUoJ3RleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQnKVxuXG4gICAgT2JqZWN0LmtleXMoaGVhZGVyc09iaikuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJzT2JqW25hbWVdLm5hbWUsIGhlYWRlcnNPYmpbbmFtZV0udmFsdWUpXG4gICAgfSlcblxuICAgIHNlbGYuX3Jlc3BvbnNlID0gbnVsbFxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAoeGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgIGNhc2UgclN0YXRlcy5MT0FESU5HOlxuICAgICAgY2FzZSByU3RhdGVzLkRPTkU6XG4gICAgICAgIHNlbGYuX29uWEhSUHJvZ3Jlc3MoKVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICAgIC8vIE5lY2Vzc2FyeSBmb3Igc3RyZWFtaW5nIGluIEZpcmVmb3gsIHNpbmNlIHhoci5yZXNwb25zZSBpcyBPTkxZIGRlZmluZWRcbiAgICAgIC8vIGluIG9ucHJvZ3Jlc3MsIG5vdCBpbiBvbnJlYWR5c3RhdGVjaGFuZ2Ugd2l0aCB4aHIucmVhZHlTdGF0ZSA9IDNcbiAgICBpZiAoc2VsZi5fbW9kZSA9PT0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJykge1xuICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fb25YSFJQcm9ncmVzcygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLl9kZXN0cm95ZWQpXG4gICAgICAgIHJldHVyblxuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignWEhSIGVycm9yJykpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKGJvZHkpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiB4aHIuc3RhdHVzIGlzIHJlYWRhYmxlIGFuZCBub24temVybywgaW5kaWNhdGluZyBubyBlcnJvci5cbiAqIEV2ZW4gdGhvdWdoIHRoZSBzcGVjIHNheXMgaXQgc2hvdWxkIGJlIGF2YWlsYWJsZSBpbiByZWFkeVN0YXRlIDMsXG4gKiBhY2Nlc3NpbmcgaXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpbiBJRThcbiAqL1xuZnVuY3Rpb24gc3RhdHVzVmFsaWQoeGhyKSB7XG4gIHRyeSB7XG4gICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXNcbiAgICByZXR1cm4gKHN0YXR1cyAhPT0gbnVsbCAmJiBzdGF0dXMgIT09IDApXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fb25YSFJQcm9ncmVzcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBpZiAoIXN0YXR1c1ZhbGlkKHNlbGYuX3hocikgfHwgc2VsZi5fZGVzdHJveWVkKVxuICAgIHJldHVyblxuXG4gIGlmICghc2VsZi5fcmVzcG9uc2UpXG4gICAgc2VsZi5fY29ubmVjdCgpXG5cbiAgc2VsZi5fcmVzcG9uc2UuX29uWEhSUHJvZ3Jlc3MoKVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBpZiAoc2VsZi5fZGVzdHJveWVkKVxuICAgIHJldHVyblxuXG4gIHNlbGYuX3Jlc3BvbnNlID0gbmV3IEluY29taW5nTWVzc2FnZShzZWxmLl94aHIsIHNlbGYuX2ZldGNoUmVzcG9uc2UsIHNlbGYuX21vZGUpXG4gIHNlbGYuZW1pdCgncmVzcG9uc2UnLCBzZWxmLl9yZXNwb25zZSlcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBzZWxmLl9ib2R5LnB1c2goY2h1bmspXG4gIGNiKClcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuYWJvcnQgPSBDbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlXG4gIGlmIChzZWxmLl9yZXNwb25zZSlcbiAgICBzZWxmLl9yZXNwb25zZS5fZGVzdHJveWVkID0gdHJ1ZVxuICBpZiAoc2VsZi5feGhyKVxuICAgIHNlbGYuX3hoci5hYm9ydCgpXG4gICAgLy8gQ3VycmVudGx5LCB0aGVyZSBpc24ndCBhIHdheSB0byB0cnVseSBhYm9ydCBhIGZldGNoLlxuICAgIC8vIElmIHlvdSBsaWtlIGJpa2VzaGVkZGluZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZmV0Y2gvaXNzdWVzLzI3XG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGRhdGEsIGVuY29kaW5nLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBkYXRhXG4gICAgZGF0YSA9IHVuZGVmaW5lZFxuICB9XG5cbiAgV3JpdGFibGUucHJvdG90eXBlLmVuZC5jYWxsKHNlbGYsIGRhdGEsIGVuY29kaW5nLCBjYilcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZmx1c2hIZWFkZXJzID0gZnVuY3Rpb24oKSB7fVxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge31cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldE5vRGVsYXkgPSBmdW5jdGlvbigpIHt9XG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5zZXRTb2NrZXRLZWVwQWxpdmUgPSBmdW5jdGlvbigpIHt9XG4iLCIvKlxudGhpcyBhbmQgaHR0cC1saWIgZm9sZGVyXG5cblRoZSBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIDIwMTUgSm9obiBIaWVzZXlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsXG50byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmRcbmFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvXG5kZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbndpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LFxubWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbVxudGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbnN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZVxuc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG5FWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbk9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC5cbklOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1JcbkFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULFxuVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEVcblNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4qL1xuaW1wb3J0IENsaWVudFJlcXVlc3QgZnJvbSAnLi9odHRwLWxpYi9yZXF1ZXN0JztcbmltcG9ydCB7cGFyc2V9IGZyb20gJ3VybCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpXG4gICAgb3B0cyA9IHBhcnNlKG9wdHMpXG5cblxuICAvLyBOb3JtYWxseSwgdGhlIHBhZ2UgaXMgbG9hZGVkIGZyb20gaHR0cCBvciBodHRwcywgc28gbm90IHNwZWNpZnlpbmcgYSBwcm90b2NvbFxuICAvLyB3aWxsIHJlc3VsdCBpbiBhICh2YWxpZCkgcHJvdG9jb2wtcmVsYXRpdmUgdXJsLiBIb3dldmVyLCB0aGlzIHdvbid0IHdvcmsgaWZcbiAgLy8gdGhlIHByb3RvY29sIGlzIHNvbWV0aGluZyBlbHNlLCBsaWtlICdmaWxlOidcbiAgdmFyIGRlZmF1bHRQcm90b2NvbCA9IGdsb2JhbC5sb2NhdGlvbi5wcm90b2NvbC5zZWFyY2goL15odHRwcz86JC8pID09PSAtMSA/ICdodHRwOicgOiAnJ1xuXG4gIHZhciBwcm90b2NvbCA9IG9wdHMucHJvdG9jb2wgfHwgZGVmYXVsdFByb3RvY29sXG4gIHZhciBob3N0ID0gb3B0cy5ob3N0bmFtZSB8fCBvcHRzLmhvc3RcbiAgdmFyIHBvcnQgPSBvcHRzLnBvcnRcbiAgdmFyIHBhdGggPSBvcHRzLnBhdGggfHwgJy8nXG5cbiAgLy8gTmVjZXNzYXJ5IGZvciBJUHY2IGFkZHJlc3Nlc1xuICBpZiAoaG9zdCAmJiBob3N0LmluZGV4T2YoJzonKSAhPT0gLTEpXG4gICAgaG9zdCA9ICdbJyArIGhvc3QgKyAnXSdcblxuICAvLyBUaGlzIG1heSBiZSBhIHJlbGF0aXZlIHVybC4gVGhlIGJyb3dzZXIgc2hvdWxkIGFsd2F5cyBiZSBhYmxlIHRvIGludGVycHJldCBpdCBjb3JyZWN0bHkuXG4gIG9wdHMudXJsID0gKGhvc3QgPyAocHJvdG9jb2wgKyAnLy8nICsgaG9zdCkgOiAnJykgKyAocG9ydCA/ICc6JyArIHBvcnQgOiAnJykgKyBwYXRoXG4gIG9wdHMubWV0aG9kID0gKG9wdHMubWV0aG9kIHx8ICdHRVQnKS50b1VwcGVyQ2FzZSgpXG4gIG9wdHMuaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fVxuXG4gIC8vIEFsc28gdmFsaWQgb3B0cy5hdXRoLCBvcHRzLm1vZGVcblxuICB2YXIgcmVxID0gbmV3IENsaWVudFJlcXVlc3Qob3B0cylcbiAgaWYgKGNiKVxuICAgIHJlcS5vbigncmVzcG9uc2UnLCBjYilcbiAgcmV0dXJuIHJlcVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9wdHMsIGNiKSB7XG4gIHZhciByZXEgPSByZXF1ZXN0KG9wdHMsIGNiKVxuICByZXEuZW5kKClcbiAgcmV0dXJuIHJlcVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWdlbnQoKSB7fVxuQWdlbnQuZGVmYXVsdE1heFNvY2tldHMgPSA0XG5cbmV4cG9ydCB2YXIgTUVUSE9EUyA9IFtcbiAgJ0NIRUNLT1VUJyxcbiAgJ0NPTk5FQ1QnLFxuICAnQ09QWScsXG4gICdERUxFVEUnLFxuICAnR0VUJyxcbiAgJ0hFQUQnLFxuICAnTE9DSycsXG4gICdNLVNFQVJDSCcsXG4gICdNRVJHRScsXG4gICdNS0FDVElWSVRZJyxcbiAgJ01LQ09MJyxcbiAgJ01PVkUnLFxuICAnTk9USUZZJyxcbiAgJ09QVElPTlMnLFxuICAnUEFUQ0gnLFxuICAnUE9TVCcsXG4gICdQUk9QRklORCcsXG4gICdQUk9QUEFUQ0gnLFxuICAnUFVSR0UnLFxuICAnUFVUJyxcbiAgJ1JFUE9SVCcsXG4gICdTRUFSQ0gnLFxuICAnU1VCU0NSSUJFJyxcbiAgJ1RSQUNFJyxcbiAgJ1VOTE9DSycsXG4gICdVTlNVQlNDUklCRSdcbl1cbmV4cG9ydCB2YXIgU1RBVFVTX0NPREVTID0ge1xuICAxMDA6ICdDb250aW51ZScsXG4gIDEwMTogJ1N3aXRjaGluZyBQcm90b2NvbHMnLFxuICAxMDI6ICdQcm9jZXNzaW5nJywgLy8gUkZDIDI1MTgsIG9ic29sZXRlZCBieSBSRkMgNDkxOFxuICAyMDA6ICdPSycsXG4gIDIwMTogJ0NyZWF0ZWQnLFxuICAyMDI6ICdBY2NlcHRlZCcsXG4gIDIwMzogJ05vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uJyxcbiAgMjA0OiAnTm8gQ29udGVudCcsXG4gIDIwNTogJ1Jlc2V0IENvbnRlbnQnLFxuICAyMDY6ICdQYXJ0aWFsIENvbnRlbnQnLFxuICAyMDc6ICdNdWx0aS1TdGF0dXMnLCAvLyBSRkMgNDkxOFxuICAzMDA6ICdNdWx0aXBsZSBDaG9pY2VzJyxcbiAgMzAxOiAnTW92ZWQgUGVybWFuZW50bHknLFxuICAzMDI6ICdNb3ZlZCBUZW1wb3JhcmlseScsXG4gIDMwMzogJ1NlZSBPdGhlcicsXG4gIDMwNDogJ05vdCBNb2RpZmllZCcsXG4gIDMwNTogJ1VzZSBQcm94eScsXG4gIDMwNzogJ1RlbXBvcmFyeSBSZWRpcmVjdCcsXG4gIDQwMDogJ0JhZCBSZXF1ZXN0JyxcbiAgNDAxOiAnVW5hdXRob3JpemVkJyxcbiAgNDAyOiAnUGF5bWVudCBSZXF1aXJlZCcsXG4gIDQwMzogJ0ZvcmJpZGRlbicsXG4gIDQwNDogJ05vdCBGb3VuZCcsXG4gIDQwNTogJ01ldGhvZCBOb3QgQWxsb3dlZCcsXG4gIDQwNjogJ05vdCBBY2NlcHRhYmxlJyxcbiAgNDA3OiAnUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWQnLFxuICA0MDg6ICdSZXF1ZXN0IFRpbWUtb3V0JyxcbiAgNDA5OiAnQ29uZmxpY3QnLFxuICA0MTA6ICdHb25lJyxcbiAgNDExOiAnTGVuZ3RoIFJlcXVpcmVkJyxcbiAgNDEyOiAnUHJlY29uZGl0aW9uIEZhaWxlZCcsXG4gIDQxMzogJ1JlcXVlc3QgRW50aXR5IFRvbyBMYXJnZScsXG4gIDQxNDogJ1JlcXVlc3QtVVJJIFRvbyBMYXJnZScsXG4gIDQxNTogJ1Vuc3VwcG9ydGVkIE1lZGlhIFR5cGUnLFxuICA0MTY6ICdSZXF1ZXN0ZWQgUmFuZ2UgTm90IFNhdGlzZmlhYmxlJyxcbiAgNDE3OiAnRXhwZWN0YXRpb24gRmFpbGVkJyxcbiAgNDE4OiAnSVxcJ20gYSB0ZWFwb3QnLCAvLyBSRkMgMjMyNFxuICA0MjI6ICdVbnByb2Nlc3NhYmxlIEVudGl0eScsIC8vIFJGQyA0OTE4XG4gIDQyMzogJ0xvY2tlZCcsIC8vIFJGQyA0OTE4XG4gIDQyNDogJ0ZhaWxlZCBEZXBlbmRlbmN5JywgLy8gUkZDIDQ5MThcbiAgNDI1OiAnVW5vcmRlcmVkIENvbGxlY3Rpb24nLCAvLyBSRkMgNDkxOFxuICA0MjY6ICdVcGdyYWRlIFJlcXVpcmVkJywgLy8gUkZDIDI4MTdcbiAgNDI4OiAnUHJlY29uZGl0aW9uIFJlcXVpcmVkJywgLy8gUkZDIDY1ODVcbiAgNDI5OiAnVG9vIE1hbnkgUmVxdWVzdHMnLCAvLyBSRkMgNjU4NVxuICA0MzE6ICdSZXF1ZXN0IEhlYWRlciBGaWVsZHMgVG9vIExhcmdlJywgLy8gUkZDIDY1ODVcbiAgNTAwOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyxcbiAgNTAxOiAnTm90IEltcGxlbWVudGVkJyxcbiAgNTAyOiAnQmFkIEdhdGV3YXknLFxuICA1MDM6ICdTZXJ2aWNlIFVuYXZhaWxhYmxlJyxcbiAgNTA0OiAnR2F0ZXdheSBUaW1lLW91dCcsXG4gIDUwNTogJ0hUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkJyxcbiAgNTA2OiAnVmFyaWFudCBBbHNvIE5lZ290aWF0ZXMnLCAvLyBSRkMgMjI5NVxuICA1MDc6ICdJbnN1ZmZpY2llbnQgU3RvcmFnZScsIC8vIFJGQyA0OTE4XG4gIDUwOTogJ0JhbmR3aWR0aCBMaW1pdCBFeGNlZWRlZCcsXG4gIDUxMDogJ05vdCBFeHRlbmRlZCcsIC8vIFJGQyAyNzc0XG4gIDUxMTogJ05ldHdvcmsgQXV0aGVudGljYXRpb24gUmVxdWlyZWQnIC8vIFJGQyA2NTg1XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlcXVlc3QsXG4gIGdldCxcbiAgQWdlbnQsXG4gIE1FVEhPRFMsXG4gIFNUQVRVU19DT0RFU1xufVxuIiwidmFyIGRlYnVnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFkZWJ1Zykge1xuICAgIHRyeSB7XG4gICAgICAvKiBlc2xpbnQgZ2xvYmFsLXJlcXVpcmU6IG9mZiAqL1xuICAgICAgZGVidWcgPSByZXF1aXJlKFwiZGVidWdcIikoXCJmb2xsb3ctcmVkaXJlY3RzXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgLyogKi8gfVxuICAgIGlmICh0eXBlb2YgZGVidWcgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZGVidWcgPSBmdW5jdGlvbiAoKSB7IC8qICovIH07XG4gICAgfVxuICB9XG4gIGRlYnVnLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuIiwidmFyIHVybCA9IHJlcXVpcmUoXCJ1cmxcIik7XG52YXIgVVJMID0gdXJsLlVSTDtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XG52YXIgV3JpdGFibGUgPSByZXF1aXJlKFwic3RyZWFtXCIpLldyaXRhYmxlO1xudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XG52YXIgZGVidWcgPSByZXF1aXJlKFwiLi9kZWJ1Z1wiKTtcblxuLy8gQ3JlYXRlIGhhbmRsZXJzIHRoYXQgcGFzcyBldmVudHMgZnJvbSBuYXRpdmUgcmVxdWVzdHNcbnZhciBldmVudHMgPSBbXCJhYm9ydFwiLCBcImFib3J0ZWRcIiwgXCJjb25uZWN0XCIsIFwiZXJyb3JcIiwgXCJzb2NrZXRcIiwgXCJ0aW1lb3V0XCJdO1xudmFyIGV2ZW50SGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGV2ZW50SGFuZGxlcnNbZXZlbnRdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICB0aGlzLl9yZWRpcmVjdGFibGUuZW1pdChldmVudCwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH07XG59KTtcblxuLy8gRXJyb3IgdHlwZXMgd2l0aCBjb2Rlc1xudmFyIFJlZGlyZWN0aW9uRXJyb3IgPSBjcmVhdGVFcnJvclR5cGUoXG4gIFwiRVJSX0ZSX1JFRElSRUNUSU9OX0ZBSUxVUkVcIixcbiAgXCJSZWRpcmVjdGVkIHJlcXVlc3QgZmFpbGVkXCJcbik7XG52YXIgVG9vTWFueVJlZGlyZWN0c0Vycm9yID0gY3JlYXRlRXJyb3JUeXBlKFxuICBcIkVSUl9GUl9UT09fTUFOWV9SRURJUkVDVFNcIixcbiAgXCJNYXhpbXVtIG51bWJlciBvZiByZWRpcmVjdHMgZXhjZWVkZWRcIlxuKTtcbnZhciBNYXhCb2R5TGVuZ3RoRXhjZWVkZWRFcnJvciA9IGNyZWF0ZUVycm9yVHlwZShcbiAgXCJFUlJfRlJfTUFYX0JPRFlfTEVOR1RIX0VYQ0VFREVEXCIsXG4gIFwiUmVxdWVzdCBib2R5IGxhcmdlciB0aGFuIG1heEJvZHlMZW5ndGggbGltaXRcIlxuKTtcbnZhciBXcml0ZUFmdGVyRW5kRXJyb3IgPSBjcmVhdGVFcnJvclR5cGUoXG4gIFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIixcbiAgXCJ3cml0ZSBhZnRlciBlbmRcIlxuKTtcblxuLy8gQW4gSFRUUChTKSByZXF1ZXN0IHRoYXQgY2FuIGJlIHJlZGlyZWN0ZWRcbmZ1bmN0aW9uIFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgcmVzcG9uc2VDYWxsYmFjaykge1xuICAvLyBJbml0aWFsaXplIHRoZSByZXF1ZXN0XG4gIFdyaXRhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuX3Nhbml0aXplT3B0aW9ucyhvcHRpb25zKTtcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMuX2VuZGVkID0gZmFsc2U7XG4gIHRoaXMuX2VuZGluZyA9IGZhbHNlO1xuICB0aGlzLl9yZWRpcmVjdENvdW50ID0gMDtcbiAgdGhpcy5fcmVkaXJlY3RzID0gW107XG4gIHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoID0gMDtcbiAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107XG5cbiAgLy8gQXR0YWNoIGEgY2FsbGJhY2sgaWYgcGFzc2VkXG4gIGlmIChyZXNwb25zZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbihcInJlc3BvbnNlXCIsIHJlc3BvbnNlQ2FsbGJhY2spO1xuICB9XG5cbiAgLy8gUmVhY3QgdG8gcmVzcG9uc2VzIG9mIG5hdGl2ZSByZXF1ZXN0c1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX29uTmF0aXZlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBzZWxmLl9wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gdGhlIGZpcnN0IHJlcXVlc3RcbiAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTtcbn1cblJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZS5wcm90b3R5cGUpO1xuXG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgYWJvcnRSZXF1ZXN0KHRoaXMuX2N1cnJlbnRSZXF1ZXN0KTtcbiAgdGhpcy5lbWl0KFwiYWJvcnRcIik7XG59O1xuXG4vLyBXcml0ZXMgYnVmZmVyZWQgZGF0YSB0byB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdFxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIC8vIFdyaXRpbmcgaXMgbm90IGFsbG93ZWQgaWYgZW5kIGhhcyBiZWVuIGNhbGxlZFxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgdGhyb3cgbmV3IFdyaXRlQWZ0ZXJFbmRFcnJvcigpO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgaW5wdXQgYW5kIHNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmICghKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIChcImxlbmd0aFwiIGluIGRhdGEpKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXRhIHNob3VsZCBiZSBhIHN0cmluZywgQnVmZmVyIG9yIFVpbnQ4QXJyYXlcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY2FsbGJhY2sgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICAvLyBJZ25vcmUgZW1wdHkgYnVmZmVycywgc2luY2Ugd3JpdGluZyB0aGVtIGRvZXNuJ3QgaW52b2tlIHRoZSBjYWxsYmFja1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzIyMDY2XG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE9ubHkgd3JpdGUgd2hlbiB3ZSBkb24ndCBleGNlZWQgdGhlIG1heGltdW0gYm9keSBsZW5ndGhcbiAgaWYgKHRoaXMuX3JlcXVlc3RCb2R5TGVuZ3RoICsgZGF0YS5sZW5ndGggPD0gdGhpcy5fb3B0aW9ucy5tYXhCb2R5TGVuZ3RoKSB7XG4gICAgdGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggKz0gZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzLnB1c2goeyBkYXRhOiBkYXRhLCBlbmNvZGluZzogZW5jb2RpbmcgfSk7XG4gICAgdGhpcy5fY3VycmVudFJlcXVlc3Qud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgfVxuICAvLyBFcnJvciB3aGVuIHdlIGV4Y2VlZCB0aGUgbWF4aW11bSBib2R5IGxlbmd0aFxuICBlbHNlIHtcbiAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBuZXcgTWF4Qm9keUxlbmd0aEV4Y2VlZGVkRXJyb3IoKSk7XG4gICAgdGhpcy5hYm9ydCgpO1xuICB9XG59O1xuXG4vLyBFbmRzIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gIC8vIFNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY2FsbGJhY2sgPSBkYXRhO1xuICAgIGRhdGEgPSBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjYWxsYmFjayA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIC8vIFdyaXRlIGRhdGEgaWYgbmVlZGVkIGFuZCBlbmRcbiAgaWYgKCFkYXRhKSB7XG4gICAgdGhpcy5fZW5kZWQgPSB0aGlzLl9lbmRpbmcgPSB0cnVlO1xuICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjdXJyZW50UmVxdWVzdCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0O1xuICAgIHRoaXMud3JpdGUoZGF0YSwgZW5jb2RpbmcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRSZXF1ZXN0LmVuZChudWxsLCBudWxsLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZTtcbiAgfVxufTtcblxuLy8gU2V0cyBhIGhlYWRlciB2YWx1ZSBvbiB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdFxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICB0aGlzLl9jdXJyZW50UmVxdWVzdC5zZXRIZWFkZXIobmFtZSwgdmFsdWUpO1xufTtcblxuLy8gQ2xlYXJzIGEgaGVhZGVyIHZhbHVlIG9uIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICBkZWxldGUgdGhpcy5fb3B0aW9ucy5oZWFkZXJzW25hbWVdO1xuICB0aGlzLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVIZWFkZXIobmFtZSk7XG59O1xuXG4vLyBHbG9iYWwgdGltZW91dCBmb3IgYWxsIHVuZGVybHlpbmcgcmVxdWVzdHNcblJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAobXNlY3MsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBEZXN0cm95cyB0aGUgc29ja2V0IG9uIHRpbWVvdXRcbiAgZnVuY3Rpb24gZGVzdHJveU9uVGltZW91dChzb2NrZXQpIHtcbiAgICBzb2NrZXQuc2V0VGltZW91dChtc2Vjcyk7XG4gICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKFwidGltZW91dFwiLCBzb2NrZXQuZGVzdHJveSk7XG4gICAgc29ja2V0LmFkZExpc3RlbmVyKFwidGltZW91dFwiLCBzb2NrZXQuZGVzdHJveSk7XG4gIH1cblxuICAvLyBTZXRzIHVwIGEgdGltZXIgdG8gdHJpZ2dlciBhIHRpbWVvdXQgZXZlbnRcbiAgZnVuY3Rpb24gc3RhcnRUaW1lcihzb2NrZXQpIHtcbiAgICBpZiAoc2VsZi5fdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpO1xuICAgIH1cbiAgICBzZWxmLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmVtaXQoXCJ0aW1lb3V0XCIpO1xuICAgICAgY2xlYXJUaW1lcigpO1xuICAgIH0sIG1zZWNzKTtcbiAgICBkZXN0cm95T25UaW1lb3V0KHNvY2tldCk7XG4gIH1cblxuICAvLyBTdG9wcyBhIHRpbWVvdXQgZnJvbSB0cmlnZ2VyaW5nXG4gIGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXRcbiAgICBpZiAoc2VsZi5fdGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXQpO1xuICAgICAgc2VsZi5fdGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgYWxsIGF0dGFjaGVkIGxpc3RlbmVyc1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLCBjbGVhclRpbWVyKTtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgY2xlYXJUaW1lcik7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihcInJlc3BvbnNlXCIsIGNsZWFyVGltZXIpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihcInRpbWVvdXRcIiwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBpZiAoIXNlbGYuc29ja2V0KSB7XG4gICAgICBzZWxmLl9jdXJyZW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcihcInNvY2tldFwiLCBzdGFydFRpbWVyKTtcbiAgICB9XG4gIH1cblxuICAvLyBBdHRhY2ggY2FsbGJhY2sgaWYgcGFzc2VkXG4gIGlmIChjYWxsYmFjaykge1xuICAgIHRoaXMub24oXCJ0aW1lb3V0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IHRoZSB0aW1lciBpZiBvciB3aGVuIHRoZSBzb2NrZXQgaXMgb3BlbmVkXG4gIGlmICh0aGlzLnNvY2tldCkge1xuICAgIHN0YXJ0VGltZXIodGhpcy5zb2NrZXQpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0Lm9uY2UoXCJzb2NrZXRcIiwgc3RhcnRUaW1lcik7XG4gIH1cblxuICAvLyBDbGVhbiB1cCBvbiBldmVudHNcbiAgdGhpcy5vbihcInNvY2tldFwiLCBkZXN0cm95T25UaW1lb3V0KTtcbiAgdGhpcy5vbihcImFib3J0XCIsIGNsZWFyVGltZXIpO1xuICB0aGlzLm9uKFwiZXJyb3JcIiwgY2xlYXJUaW1lcik7XG4gIHRoaXMub24oXCJyZXNwb25zZVwiLCBjbGVhclRpbWVyKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIFByb3h5IGFsbCBvdGhlciBwdWJsaWMgQ2xpZW50UmVxdWVzdCBtZXRob2RzXG5bXG4gIFwiZmx1c2hIZWFkZXJzXCIsIFwiZ2V0SGVhZGVyXCIsXG4gIFwic2V0Tm9EZWxheVwiLCBcInNldFNvY2tldEtlZXBBbGl2ZVwiLFxuXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W21ldGhvZF0oYSwgYik7XG4gIH07XG59KTtcblxuLy8gUHJveHkgYWxsIHB1YmxpYyBDbGllbnRSZXF1ZXN0IHByb3BlcnRpZXNcbltcImFib3J0ZWRcIiwgXCJjb25uZWN0aW9uXCIsIFwic29ja2V0XCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZSwgcHJvcGVydHksIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRSZXF1ZXN0W3Byb3BlcnR5XTsgfSxcbiAgfSk7XG59KTtcblxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3Nhbml0aXplT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIC8vIEVuc3VyZSBoZWFkZXJzIGFyZSBhbHdheXMgcHJlc2VudFxuICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IHt9O1xuICB9XG5cbiAgLy8gU2luY2UgaHR0cC5yZXF1ZXN0IHRyZWF0cyBob3N0IGFzIGFuIGFsaWFzIG9mIGhvc3RuYW1lLFxuICAvLyBidXQgdGhlIHVybCBtb2R1bGUgaW50ZXJwcmV0cyBob3N0IGFzIGhvc3RuYW1lIHBsdXMgcG9ydCxcbiAgLy8gZWxpbWluYXRlIHRoZSBob3N0IHByb3BlcnR5IHRvIGF2b2lkIGNvbmZ1c2lvbi5cbiAgaWYgKG9wdGlvbnMuaG9zdCkge1xuICAgIC8vIFVzZSBob3N0bmFtZSBpZiBzZXQsIGJlY2F1c2UgaXQgaGFzIHByZWNlZGVuY2VcbiAgICBpZiAoIW9wdGlvbnMuaG9zdG5hbWUpIHtcbiAgICAgIG9wdGlvbnMuaG9zdG5hbWUgPSBvcHRpb25zLmhvc3Q7XG4gICAgfVxuICAgIGRlbGV0ZSBvcHRpb25zLmhvc3Q7XG4gIH1cblxuICAvLyBDb21wbGV0ZSB0aGUgVVJMIG9iamVjdCB3aGVuIG5lY2Vzc2FyeVxuICBpZiAoIW9wdGlvbnMucGF0aG5hbWUgJiYgb3B0aW9ucy5wYXRoKSB7XG4gICAgdmFyIHNlYXJjaFBvcyA9IG9wdGlvbnMucGF0aC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoc2VhcmNoUG9zIDwgMCkge1xuICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvcHRpb25zLnBhdGhuYW1lID0gb3B0aW9ucy5wYXRoLnN1YnN0cmluZygwLCBzZWFyY2hQb3MpO1xuICAgICAgb3B0aW9ucy5zZWFyY2ggPSBvcHRpb25zLnBhdGguc3Vic3RyaW5nKHNlYXJjaFBvcyk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8vIEV4ZWN1dGVzIHRoZSBuZXh0IG5hdGl2ZSByZXF1ZXN0IChpbml0aWFsIG9yIHJlZGlyZWN0KVxuUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuX3BlcmZvcm1SZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAvLyBMb2FkIHRoZSBuYXRpdmUgcHJvdG9jb2xcbiAgdmFyIHByb3RvY29sID0gdGhpcy5fb3B0aW9ucy5wcm90b2NvbDtcbiAgdmFyIG5hdGl2ZVByb3RvY29sID0gdGhpcy5fb3B0aW9ucy5uYXRpdmVQcm90b2NvbHNbcHJvdG9jb2xdO1xuICBpZiAoIW5hdGl2ZVByb3RvY29sKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiICsgcHJvdG9jb2wpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBzcGVjaWZpZWQsIHVzZSB0aGUgYWdlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdG9jb2xcbiAgLy8gKEhUVFAgYW5kIEhUVFBTIHVzZSBkaWZmZXJlbnQgdHlwZXMgb2YgYWdlbnRzKVxuICBpZiAodGhpcy5fb3B0aW9ucy5hZ2VudHMpIHtcbiAgICB2YXIgc2NoZW1lID0gcHJvdG9jb2wuc3Vic3RyKDAsIHByb3RvY29sLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuX29wdGlvbnMuYWdlbnQgPSB0aGlzLl9vcHRpb25zLmFnZW50c1tzY2hlbWVdO1xuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBuYXRpdmUgcmVxdWVzdFxuICB2YXIgcmVxdWVzdCA9IHRoaXMuX2N1cnJlbnRSZXF1ZXN0ID1cbiAgICAgICAgbmF0aXZlUHJvdG9jb2wucmVxdWVzdCh0aGlzLl9vcHRpb25zLCB0aGlzLl9vbk5hdGl2ZVJlc3BvbnNlKTtcbiAgdGhpcy5fY3VycmVudFVybCA9IHVybC5mb3JtYXQodGhpcy5fb3B0aW9ucyk7XG5cbiAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzXG4gIHJlcXVlc3QuX3JlZGlyZWN0YWJsZSA9IHRoaXM7XG4gIGZvciAodmFyIGUgPSAwOyBlIDwgZXZlbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgcmVxdWVzdC5vbihldmVudHNbZV0sIGV2ZW50SGFuZGxlcnNbZXZlbnRzW2VdXSk7XG4gIH1cblxuICAvLyBFbmQgYSByZWRpcmVjdGVkIHJlcXVlc3RcbiAgLy8gKFRoZSBmaXJzdCByZXF1ZXN0IG11c3QgYmUgZW5kZWQgZXhwbGljaXRseSB3aXRoIFJlZGlyZWN0YWJsZVJlcXVlc3QjZW5kKVxuICBpZiAodGhpcy5faXNSZWRpcmVjdCkge1xuICAgIC8vIFdyaXRlIHRoZSByZXF1ZXN0IGVudGl0eSBhbmQgZW5kLlxuICAgIHZhciBpID0gMDtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJ1ZmZlcnMgPSB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnM7XG4gICAgKGZ1bmN0aW9uIHdyaXRlTmV4dChlcnJvcikge1xuICAgICAgLy8gT25seSB3cml0ZSBpZiB0aGlzIHJlcXVlc3QgaGFzIG5vdCBiZWVuIHJlZGlyZWN0ZWQgeWV0XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHJlcXVlc3QgPT09IHNlbGYuX2N1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgIC8vIFJlcG9ydCBhbnkgd3JpdGUgZXJyb3JzXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JpdGUgdGhlIG5leHQgYnVmZmVyIGlmIHRoZXJlIGFyZSBzdGlsbCBsZWZ0XG4gICAgICAgIGVsc2UgaWYgKGkgPCBidWZmZXJzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2krK107XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoIXJlcXVlc3QuZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJlcXVlc3Qud3JpdGUoYnVmZmVyLmRhdGEsIGJ1ZmZlci5lbmNvZGluZywgd3JpdGVOZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5kIHRoZSByZXF1ZXN0IGlmIGBlbmRgIGhhcyBiZWVuIGNhbGxlZCBvbiB1c1xuICAgICAgICBlbHNlIGlmIChzZWxmLl9lbmRlZCkge1xuICAgICAgICAgIHJlcXVlc3QuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KCkpO1xuICB9XG59O1xuXG4vLyBQcm9jZXNzZXMgYSByZXNwb25zZSBmcm9tIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0XG5SZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fcHJvY2Vzc1Jlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gIC8vIFN0b3JlIHRoZSByZWRpcmVjdGVkIHJlc3BvbnNlXG4gIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgaWYgKHRoaXMuX29wdGlvbnMudHJhY2tSZWRpcmVjdHMpIHtcbiAgICB0aGlzLl9yZWRpcmVjdHMucHVzaCh7XG4gICAgICB1cmw6IHRoaXMuX2N1cnJlbnRVcmwsXG4gICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJGQzcyMzHCpzYuNDogVGhlIDN4eCAoUmVkaXJlY3Rpb24pIGNsYXNzIG9mIHN0YXR1cyBjb2RlIGluZGljYXRlc1xuICAvLyB0aGF0IGZ1cnRoZXIgYWN0aW9uIG5lZWRzIHRvIGJlIHRha2VuIGJ5IHRoZSB1c2VyIGFnZW50IGluIG9yZGVyIHRvXG4gIC8vIGZ1bGZpbGwgdGhlIHJlcXVlc3QuIElmIGEgTG9jYXRpb24gaGVhZGVyIGZpZWxkIGlzIHByb3ZpZGVkLFxuICAvLyB0aGUgdXNlciBhZ2VudCBNQVkgYXV0b21hdGljYWxseSByZWRpcmVjdCBpdHMgcmVxdWVzdCB0byB0aGUgVVJJXG4gIC8vIHJlZmVyZW5jZWQgYnkgdGhlIExvY2F0aW9uIGZpZWxkIHZhbHVlLFxuICAvLyBldmVuIGlmIHRoZSBzcGVjaWZpYyBzdGF0dXMgY29kZSBpcyBub3QgdW5kZXJzdG9vZC5cblxuICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IGEgcmVkaXJlY3Q7IHJldHVybiBpdCBhcy1pc1xuICB2YXIgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uO1xuICBpZiAoIWxvY2F0aW9uIHx8IHRoaXMuX29wdGlvbnMuZm9sbG93UmVkaXJlY3RzID09PSBmYWxzZSB8fFxuICAgICAgc3RhdHVzQ29kZSA8IDMwMCB8fCBzdGF0dXNDb2RlID49IDQwMCkge1xuICAgIHJlc3BvbnNlLnJlc3BvbnNlVXJsID0gdGhpcy5fY3VycmVudFVybDtcbiAgICByZXNwb25zZS5yZWRpcmVjdHMgPSB0aGlzLl9yZWRpcmVjdHM7XG4gICAgdGhpcy5lbWl0KFwicmVzcG9uc2VcIiwgcmVzcG9uc2UpO1xuXG4gICAgLy8gQ2xlYW4gdXBcbiAgICB0aGlzLl9yZXF1ZXN0Qm9keUJ1ZmZlcnMgPSBbXTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUaGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCwgc28gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdFxuICBhYm9ydFJlcXVlc3QodGhpcy5fY3VycmVudFJlcXVlc3QpO1xuICAvLyBEaXNjYXJkIHRoZSByZW1haW5kZXIgb2YgdGhlIHJlc3BvbnNlIHRvIGF2b2lkIHdhaXRpbmcgZm9yIGRhdGFcbiAgcmVzcG9uc2UuZGVzdHJveSgpO1xuXG4gIC8vIFJGQzcyMzHCpzYuNDogQSBjbGllbnQgU0hPVUxEIGRldGVjdCBhbmQgaW50ZXJ2ZW5lXG4gIC8vIGluIGN5Y2xpY2FsIHJlZGlyZWN0aW9ucyAoaS5lLiwgXCJpbmZpbml0ZVwiIHJlZGlyZWN0aW9uIGxvb3BzKS5cbiAgaWYgKCsrdGhpcy5fcmVkaXJlY3RDb3VudCA+IHRoaXMuX29wdGlvbnMubWF4UmVkaXJlY3RzKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFRvb01hbnlSZWRpcmVjdHNFcnJvcigpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSRkM3MjMxwqc2LjQ6IEF1dG9tYXRpYyByZWRpcmVjdGlvbiBuZWVkcyB0byBkb25lIHdpdGhcbiAgLy8gY2FyZSBmb3IgbWV0aG9kcyBub3Qga25vd24gdG8gYmUgc2FmZSwgW+KApl1cbiAgLy8gUkZDNzIzMcKnNi40LjLigJMzOiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBhIHVzZXIgYWdlbnQgTUFZIGNoYW5nZVxuICAvLyB0aGUgcmVxdWVzdCBtZXRob2QgZnJvbSBQT1NUIHRvIEdFVCBmb3IgdGhlIHN1YnNlcXVlbnQgcmVxdWVzdC5cbiAgaWYgKChzdGF0dXNDb2RlID09PSAzMDEgfHwgc3RhdHVzQ29kZSA9PT0gMzAyKSAmJiB0aGlzLl9vcHRpb25zLm1ldGhvZCA9PT0gXCJQT1NUXCIgfHxcbiAgICAgIC8vIFJGQzcyMzHCpzYuNC40OiBUaGUgMzAzIChTZWUgT3RoZXIpIHN0YXR1cyBjb2RlIGluZGljYXRlcyB0aGF0XG4gICAgICAvLyB0aGUgc2VydmVyIGlzIHJlZGlyZWN0aW5nIHRoZSB1c2VyIGFnZW50IHRvIGEgZGlmZmVyZW50IHJlc291cmNlIFvigKZdXG4gICAgICAvLyBBIHVzZXIgYWdlbnQgY2FuIHBlcmZvcm0gYSByZXRyaWV2YWwgcmVxdWVzdCB0YXJnZXRpbmcgdGhhdCBVUklcbiAgICAgIC8vIChhIEdFVCBvciBIRUFEIHJlcXVlc3QgaWYgdXNpbmcgSFRUUCkgW+KApl1cbiAgICAgIChzdGF0dXNDb2RlID09PSAzMDMpICYmICEvXig/OkdFVHxIRUFEKSQvLnRlc3QodGhpcy5fb3B0aW9ucy5tZXRob2QpKSB7XG4gICAgdGhpcy5fb3B0aW9ucy5tZXRob2QgPSBcIkdFVFwiO1xuICAgIC8vIERyb3AgYSBwb3NzaWJsZSBlbnRpdHkgYW5kIGhlYWRlcnMgcmVsYXRlZCB0byBpdFxuICAgIHRoaXMuX3JlcXVlc3RCb2R5QnVmZmVycyA9IFtdO1xuICAgIHJlbW92ZU1hdGNoaW5nSGVhZGVycygvXmNvbnRlbnQtL2ksIHRoaXMuX29wdGlvbnMuaGVhZGVycyk7XG4gIH1cblxuICAvLyBEcm9wIHRoZSBIb3N0IGhlYWRlciwgYXMgdGhlIHJlZGlyZWN0IG1pZ2h0IGxlYWQgdG8gYSBkaWZmZXJlbnQgaG9zdFxuICB2YXIgY3VycmVudEhvc3RIZWFkZXIgPSByZW1vdmVNYXRjaGluZ0hlYWRlcnMoL15ob3N0JC9pLCB0aGlzLl9vcHRpb25zLmhlYWRlcnMpO1xuXG4gIC8vIElmIHRoZSByZWRpcmVjdCBpcyByZWxhdGl2ZSwgY2Fycnkgb3ZlciB0aGUgaG9zdCBvZiB0aGUgbGFzdCByZXF1ZXN0XG4gIHZhciBjdXJyZW50VXJsUGFydHMgPSB1cmwucGFyc2UodGhpcy5fY3VycmVudFVybCk7XG4gIHZhciBjdXJyZW50SG9zdCA9IGN1cnJlbnRIb3N0SGVhZGVyIHx8IGN1cnJlbnRVcmxQYXJ0cy5ob3N0O1xuICB2YXIgY3VycmVudFVybCA9IC9eXFx3KzovLnRlc3QobG9jYXRpb24pID8gdGhpcy5fY3VycmVudFVybCA6XG4gICAgdXJsLmZvcm1hdChPYmplY3QuYXNzaWduKGN1cnJlbnRVcmxQYXJ0cywgeyBob3N0OiBjdXJyZW50SG9zdCB9KSk7XG5cbiAgLy8gRGV0ZXJtaW5lIHRoZSBVUkwgb2YgdGhlIHJlZGlyZWN0aW9uXG4gIHZhciByZWRpcmVjdFVybDtcbiAgdHJ5IHtcbiAgICByZWRpcmVjdFVybCA9IHVybC5yZXNvbHZlKGN1cnJlbnRVcmwsIGxvY2F0aW9uKTtcbiAgfVxuICBjYXRjaCAoY2F1c2UpIHtcbiAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBuZXcgUmVkaXJlY3Rpb25FcnJvcihjYXVzZSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgcmVkaXJlY3RlZCByZXF1ZXN0XG4gIGRlYnVnKFwicmVkaXJlY3RpbmcgdG9cIiwgcmVkaXJlY3RVcmwpO1xuICB0aGlzLl9pc1JlZGlyZWN0ID0gdHJ1ZTtcbiAgdmFyIHJlZGlyZWN0VXJsUGFydHMgPSB1cmwucGFyc2UocmVkaXJlY3RVcmwpO1xuICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIHJlZGlyZWN0VXJsUGFydHMpO1xuXG4gIC8vIERyb3AgY29uZmlkZW50aWFsIGhlYWRlcnMgd2hlbiByZWRpcmVjdGluZyB0byBhIGxlc3Mgc2VjdXJlIHByb3RvY29sXG4gIC8vIG9yIHRvIGEgZGlmZmVyZW50IGRvbWFpbiB0aGF0IGlzIG5vdCBhIHN1cGVyZG9tYWluXG4gIGlmIChyZWRpcmVjdFVybFBhcnRzLnByb3RvY29sICE9PSBjdXJyZW50VXJsUGFydHMucHJvdG9jb2wgJiZcbiAgICAgcmVkaXJlY3RVcmxQYXJ0cy5wcm90b2NvbCAhPT0gXCJodHRwczpcIiB8fFxuICAgICByZWRpcmVjdFVybFBhcnRzLmhvc3QgIT09IGN1cnJlbnRIb3N0ICYmXG4gICAgICFpc1N1YmRvbWFpbihyZWRpcmVjdFVybFBhcnRzLmhvc3QsIGN1cnJlbnRIb3N0KSkge1xuICAgIHJlbW92ZU1hdGNoaW5nSGVhZGVycygvXig/OmF1dGhvcml6YXRpb258Y29va2llKSQvaSwgdGhpcy5fb3B0aW9ucy5oZWFkZXJzKTtcbiAgfVxuXG4gIC8vIEV2YWx1YXRlIHRoZSBiZWZvcmVSZWRpcmVjdCBjYWxsYmFja1xuICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuYmVmb3JlUmVkaXJlY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciByZXNwb25zZURldGFpbHMgPSB7IGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMgfTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fb3B0aW9ucy5iZWZvcmVSZWRpcmVjdC5jYWxsKG51bGwsIHRoaXMuX29wdGlvbnMsIHJlc3BvbnNlRGV0YWlscyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Nhbml0aXplT3B0aW9ucyh0aGlzLl9vcHRpb25zKTtcbiAgfVxuXG4gIC8vIFBlcmZvcm0gdGhlIHJlZGlyZWN0ZWQgcmVxdWVzdFxuICB0cnkge1xuICAgIHRoaXMuX3BlcmZvcm1SZXF1ZXN0KCk7XG4gIH1cbiAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgbmV3IFJlZGlyZWN0aW9uRXJyb3IoY2F1c2UpKTtcbiAgfVxufTtcblxuLy8gV3JhcHMgdGhlIGtleS92YWx1ZSBvYmplY3Qgb2YgcHJvdG9jb2xzIHdpdGggcmVkaXJlY3QgZnVuY3Rpb25hbGl0eVxuZnVuY3Rpb24gd3JhcChwcm90b2NvbHMpIHtcbiAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICB2YXIgZXhwb3J0cyA9IHtcbiAgICBtYXhSZWRpcmVjdHM6IDIxLFxuICAgIG1heEJvZHlMZW5ndGg6IDEwICogMTAyNCAqIDEwMjQsXG4gIH07XG5cbiAgLy8gV3JhcCBlYWNoIHByb3RvY29sXG4gIHZhciBuYXRpdmVQcm90b2NvbHMgPSB7fTtcbiAgT2JqZWN0LmtleXMocHJvdG9jb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlbWUpIHtcbiAgICB2YXIgcHJvdG9jb2wgPSBzY2hlbWUgKyBcIjpcIjtcbiAgICB2YXIgbmF0aXZlUHJvdG9jb2wgPSBuYXRpdmVQcm90b2NvbHNbcHJvdG9jb2xdID0gcHJvdG9jb2xzW3NjaGVtZV07XG4gICAgdmFyIHdyYXBwZWRQcm90b2NvbCA9IGV4cG9ydHNbc2NoZW1lXSA9IE9iamVjdC5jcmVhdGUobmF0aXZlUHJvdG9jb2wpO1xuXG4gICAgLy8gRXhlY3V0ZXMgYSByZXF1ZXN0LCBmb2xsb3dpbmcgcmVkaXJlY3RzXG4gICAgZnVuY3Rpb24gcmVxdWVzdChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIC8vIFBhcnNlIHBhcmFtZXRlcnNcbiAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIHVybFN0ciA9IGlucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlucHV0ID0gdXJsVG9PcHRpb25zKG5ldyBVUkwodXJsU3RyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaW5wdXQgPSB1cmwucGFyc2UodXJsU3RyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoVVJMICYmIChpbnB1dCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgaW5wdXQgPSB1cmxUb09wdGlvbnMoaW5wdXQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IGlucHV0O1xuICAgICAgICBpbnB1dCA9IHsgcHJvdG9jb2w6IHByb3RvY29sIH07XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbWF4UmVkaXJlY3RzOiBleHBvcnRzLm1heFJlZGlyZWN0cyxcbiAgICAgICAgbWF4Qm9keUxlbmd0aDogZXhwb3J0cy5tYXhCb2R5TGVuZ3RoLFxuICAgICAgfSwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5uYXRpdmVQcm90b2NvbHMgPSBuYXRpdmVQcm90b2NvbHM7XG5cbiAgICAgIGFzc2VydC5lcXVhbChvcHRpb25zLnByb3RvY29sLCBwcm90b2NvbCwgXCJwcm90b2NvbCBtaXNtYXRjaFwiKTtcbiAgICAgIGRlYnVnKFwib3B0aW9uc1wiLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBuZXcgUmVkaXJlY3RhYmxlUmVxdWVzdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZXMgYSBHRVQgcmVxdWVzdCwgZm9sbG93aW5nIHJlZGlyZWN0c1xuICAgIGZ1bmN0aW9uIGdldChpbnB1dCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIHZhciB3cmFwcGVkUmVxdWVzdCA9IHdyYXBwZWRQcm90b2NvbC5yZXF1ZXN0KGlucHV0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB3cmFwcGVkUmVxdWVzdC5lbmQoKTtcbiAgICAgIHJldHVybiB3cmFwcGVkUmVxdWVzdDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgdGhlIHByb3BlcnRpZXMgb24gdGhlIHdyYXBwZWQgcHJvdG9jb2xcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cmFwcGVkUHJvdG9jb2wsIHtcbiAgICAgIHJlcXVlc3Q6IHsgdmFsdWU6IHJlcXVlc3QsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgIGdldDogeyB2YWx1ZTogZ2V0LCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZXhwb3J0cztcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7IC8qIGVtcHR5ICovIH1cblxuLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2ludGVybmFsL3VybC5qc1xuZnVuY3Rpb24gdXJsVG9PcHRpb25zKHVybE9iamVjdCkge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBwcm90b2NvbDogdXJsT2JqZWN0LnByb3RvY29sLFxuICAgIGhvc3RuYW1lOiB1cmxPYmplY3QuaG9zdG5hbWUuc3RhcnRzV2l0aChcIltcIikgP1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHVybE9iamVjdC5ob3N0bmFtZS5zbGljZSgxLCAtMSkgOlxuICAgICAgdXJsT2JqZWN0Lmhvc3RuYW1lLFxuICAgIGhhc2g6IHVybE9iamVjdC5oYXNoLFxuICAgIHNlYXJjaDogdXJsT2JqZWN0LnNlYXJjaCxcbiAgICBwYXRobmFtZTogdXJsT2JqZWN0LnBhdGhuYW1lLFxuICAgIHBhdGg6IHVybE9iamVjdC5wYXRobmFtZSArIHVybE9iamVjdC5zZWFyY2gsXG4gICAgaHJlZjogdXJsT2JqZWN0LmhyZWYsXG4gIH07XG4gIGlmICh1cmxPYmplY3QucG9ydCAhPT0gXCJcIikge1xuICAgIG9wdGlvbnMucG9ydCA9IE51bWJlcih1cmxPYmplY3QucG9ydCk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU1hdGNoaW5nSGVhZGVycyhyZWdleCwgaGVhZGVycykge1xuICB2YXIgbGFzdFZhbHVlO1xuICBmb3IgKHZhciBoZWFkZXIgaW4gaGVhZGVycykge1xuICAgIGlmIChyZWdleC50ZXN0KGhlYWRlcikpIHtcbiAgICAgIGxhc3RWYWx1ZSA9IGhlYWRlcnNbaGVhZGVyXTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgfVxuICB9XG4gIHJldHVybiAobGFzdFZhbHVlID09PSBudWxsIHx8IHR5cGVvZiBsYXN0VmFsdWUgPT09IFwidW5kZWZpbmVkXCIpID9cbiAgICB1bmRlZmluZWQgOiBTdHJpbmcobGFzdFZhbHVlKS50cmltKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBkZWZhdWx0TWVzc2FnZSkge1xuICBmdW5jdGlvbiBDdXN0b21FcnJvcihjYXVzZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIGlmICghY2F1c2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRNZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRNZXNzYWdlICsgXCI6IFwiICsgY2F1c2UubWVzc2FnZTtcbiAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICB9XG4gIH1cbiAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG4gIEN1c3RvbUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbUVycm9yO1xuICBDdXN0b21FcnJvci5wcm90b3R5cGUubmFtZSA9IFwiRXJyb3IgW1wiICsgY29kZSArIFwiXVwiO1xuICBDdXN0b21FcnJvci5wcm90b3R5cGUuY29kZSA9IGNvZGU7XG4gIHJldHVybiBDdXN0b21FcnJvcjtcbn1cblxuZnVuY3Rpb24gYWJvcnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgZm9yICh2YXIgZSA9IDA7IGUgPCBldmVudHMubGVuZ3RoOyBlKyspIHtcbiAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKGV2ZW50c1tlXSwgZXZlbnRIYW5kbGVyc1tldmVudHNbZV1dKTtcbiAgfVxuICByZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgbm9vcCk7XG4gIHJlcXVlc3QuYWJvcnQoKTtcbn1cblxuZnVuY3Rpb24gaXNTdWJkb21haW4oc3ViZG9tYWluLCBkb21haW4pIHtcbiAgY29uc3QgZG90ID0gc3ViZG9tYWluLmxlbmd0aCAtIGRvbWFpbi5sZW5ndGggLSAxO1xuICByZXR1cm4gZG90ID4gMCAmJiBzdWJkb21haW5bZG90XSA9PT0gXCIuXCIgJiYgc3ViZG9tYWluLmVuZHNXaXRoKGRvbWFpbik7XG59XG5cbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gd3JhcCh7IGh0dHA6IGh0dHAsIGh0dHBzOiBodHRwcyB9KTtcbm1vZHVsZS5leHBvcnRzLndyYXAgPSB3cmFwO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU1RSRUFNID0gcmVxdWlyZSgnc3RyZWFtJyksXG4gICAgVVRJTCA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyO1xuXG5mdW5jdGlvbiBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVJlYWRhYmxlU3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbiAgICBNZW1vcnlSZWFkYWJsZVN0cmVhbS5zdXBlcl8uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB0aGlzLmluaXQoZGF0YSwgb3B0aW9ucyk7XG59XG5VVElMLmluaGVyaXRzKE1lbW9yeVJlYWRhYmxlU3RyZWFtLCBTVFJFQU0uUmVhZGFibGUpO1xuXG5cbmZ1bmN0aW9uIE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5V3JpdGFibGVTdHJlYW0pKVxuICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVdyaXRhYmxlU3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIE1lbW9yeVdyaXRhYmxlU3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTtcbn1cblVUSUwuaW5oZXJpdHMoTWVtb3J5V3JpdGFibGVTdHJlYW0sIFNUUkVBTS5Xcml0YWJsZSk7XG5cblxuZnVuY3Rpb24gTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWVtb3J5RHVwbGV4U3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlEdXBsZXhTdHJlYW0oZGF0YSwgb3B0aW9ucyk7XG4gICAgTWVtb3J5RHVwbGV4U3RyZWFtLnN1cGVyXy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdChkYXRhLCBvcHRpb25zKTtcbn1cblVUSUwuaW5oZXJpdHMoTWVtb3J5RHVwbGV4U3RyZWFtLCBTVFJFQU0uRHVwbGV4KTtcblxuXG5NZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9XG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuaW5pdCA9XG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiBpbml0IChkYXRhLCBvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IFsgZGF0YSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgaWYgKCEoY2h1bmsgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsgPSBuZXcgQnVmZmVyKGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucXVldWUucHVzaChjaHVuayk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgIFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgIHRoaXMubWF4YnVmc2l6ZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heGJ1ZnNpemUnKSA/IG9wdGlvbnMubWF4YnVmc2l6ZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuYnVmb3ZlcmZsb3cgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdidWZvdmVyZmxvdycpID8gb3B0aW9ucy5idWZvdmVyZmxvd1xuICAgICAgICAgICAgOiBudWxsO1xuICAgIHRoaXMuZnJlcXVlbmNlID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZnJlcXVlbmNlJykgPyBvcHRpb25zLmZyZXF1ZW5jZVxuICAgICAgICAgICAgOiBudWxsO1xufTtcblxuZnVuY3Rpb24gTWVtb3J5U3RyZWFtIChkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1lbW9yeVN0cmVhbSkpXG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5U3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgIHZhciByZWFkYWJsZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3JlYWRhYmxlJykgPyBvcHRpb25zLnJlYWRhYmxlIDogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd3cml0YWJsZScpID8gb3B0aW9ucy53cml0YWJsZSA6IHRydWU7XG4gICAgXG4gICAgaWYgKHJlYWRhYmxlICYmIHdyaXRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5RHVwbGV4U3RyZWFtKGRhdGEsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAocmVhZGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZW1vcnlSZWFkYWJsZVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHdyaXRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVtb3J5V3JpdGFibGVTdHJlYW0oZGF0YSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzdHJlYW0gdHlwZSAgUmVhZGFibGUsIFdyaXRhYmxlIG9yIER1cGxleCBcIik7XG4gICAgfVxufVxuXG5cbk1lbW9yeVN0cmVhbS5jcmVhdGVSZWFkU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlYWRhYmxlID0gdHJ1ZTtcbiAgICBvcHRpb25zLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbn07XG5cblxuTWVtb3J5U3RyZWFtLmNyZWF0ZVdyaXRlU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgb3B0aW9ucy53cml0YWJsZSA9IHRydWU7XG5cbiAgICByZXR1cm4gbmV3IE1lbW9yeVN0cmVhbShkYXRhLCBvcHRpb25zKTtcbn07XG5cblxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLl9yZWFkID1cbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiBfcmVhZCAobikge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJlcXVlbmNlID0gc2VsZi5mcmVxdWVuY2UgfHwgMCxcbiAgICAgICAgd2FpdF9kYXRhID0gdGhpcyBpbnN0YW5jZW9mIFNUUkVBTS5EdXBsZXggJiYgISB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGlmICggISB0aGlzLnF1ZXVlLmxlbmd0aCAmJiAhIHdhaXRfZGF0YSkge1xuICAgICAgICB0aGlzLnB1c2gobnVsbCk7Ly8gZmluaXNoIHN0cmVhbVxuICAgIH0gZWxzZSBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBzZWxmLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rICYmICEgc2VsZi5fcmVhZGFibGVTdGF0ZS5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICEgc2VsZi5wdXNoKGNodW5rKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucXVldWUudW5zaGlmdChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyZXF1ZW5jZSk7XG4gICAgfVxufTtcblxuXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID1cbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gICAgdmFyIGRlY29kZXIgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIGRlY29kZXIgPSB0aGlzLmRlY29kZVN0cmluZ3MgJiYgZW5jb2RpbmcgPyBuZXcgU3RyaW5nRGVjb2RlcihlbmNvZGluZykgOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycil7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgZGVjb2RlZF9jaHVuayA9IGRlY29kZXIgPyBkZWNvZGVyLndyaXRlKGNodW5rKSA6IGNodW5rLFxuICAgICAgICBxdWV1ZV9zaXplID0gdGhpcy5fZ2V0UXVldWVTaXplKCksXG4gICAgICAgIGNodW5rX3NpemUgPSBkZWNvZGVkX2NodW5rLmxlbmd0aDtcbiAgICBcbiAgICBpZiAodGhpcy5tYXhidWZzaXplICYmIChxdWV1ZV9zaXplICsgY2h1bmtfc2l6ZSkgPiB0aGlzLm1heGJ1ZnNpemUgKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1Zm92ZXJmbG93KSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoXCJCdWZmZXIgb3ZlcmZsb3dlZCAoXCIgKyB0aGlzLmJ1Zm92ZXJmbG93ICsgXCIvXCIgKyBxdWV1ZV9zaXplICsgXCIpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTVFJFQU0uRHVwbGV4KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wdXNoKHRoaXMucXVldWUuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoKGRlY29kZWRfY2h1bmspO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChkZWNvZGVkX2NodW5rKTtcbiAgICB9XG4gICAgY2IoKTtcbn07XG5cblxuTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gTWVtb3J5RHVwbGV4U3RyZWFtLnN1cGVyXy5wcm90b3R5cGUuZW5kLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucHVzaChudWxsKTsvL2ZpbmlzaCByZWFkYmxlIHN0cmVhbSB0b29cbiAgICAgICAgaWYgKGNiKSBjYigpO1xuICAgIH0pO1xufTtcblxuXG5NZW1vcnlSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUuX2dldFF1ZXVlU2l6ZSA9ICBcbk1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS5fZ2V0UXVldWVTaXplID0gXG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLl9nZXRRdWV1ZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHF1ZXVlc2l6ZSA9IDAsIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMucXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcXVldWVzaXplICs9IEFycmF5LmlzQXJyYXkodGhpcy5xdWV1ZVtpXSkgPyB0aGlzLnF1ZXVlW2ldWzBdLmxlbmd0aFxuICAgICAgICAgICAgICAgIDogdGhpcy5xdWV1ZVtpXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZXNpemU7XG59O1xuXG5cbk1lbW9yeVdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IFxuTWVtb3J5RHVwbGV4U3RyZWFtLnByb3RvdHlwZS50b1N0cmluZyA9IFxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUuZ2V0QWxsID0gXG5NZW1vcnlEdXBsZXhTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IFxuTWVtb3J5UmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJldCA9ICcnO1xuICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXQgKz0gZGF0YTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuXG5NZW1vcnlXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSBcbk1lbW9yeUR1cGxleFN0cmVhbS5wcm90b3R5cGUudG9CdWZmZXIgPSBcbk1lbW9yeVJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLl9nZXRRdWV1ZVNpemUoKSksXG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkYXRhX2J1ZmZlciA9IGRhdGEgaW5zdGFuY2VvZiBCdWZmZXIgPyBkYXRhIDogbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICAgICAgZGF0YV9idWZmZXIuY29weShidWZmZXIsIGN1cnJlbnRPZmZzZXQpO1xuICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGRhdGEubGVuZ3RoO1xuICAgIH0pO1xuICAgIHJldHVybiBidWZmZXI7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTWVtb3J5U3RyZWFtO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG5cbnZhciBkZWJ1Z1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgICBwcm9jZXNzLmVudiAmJlxuICAgIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgICAvXFxic2VtdmVyXFxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHKSkge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMClcbiAgICBhcmdzLnVuc2hpZnQoJ1NFTVZFUicpXG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncylcbiAgfVxufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiAoKSB7fVxufVxuXG4vLyBOb3RlOiB0aGlzIGlzIHRoZSBzZW12ZXIub3JnIHZlcnNpb24gb2YgdGhlIHNwZWMgdGhhdCBpdCBpbXBsZW1lbnRzXG4vLyBOb3QgbmVjZXNzYXJpbHkgdGhlIHBhY2thZ2UgdmVyc2lvbiBvZiB0aGlzIGNvZGUuXG5leHBvcnRzLlNFTVZFUl9TUEVDX1ZFUlNJT04gPSAnMi4wLjAnXG5cbnZhciBNQVhfTEVOR1RIID0gMjU2XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDkwMDcxOTkyNTQ3NDA5OTFcblxuLy8gTWF4IHNhZmUgc2VnbWVudCBsZW5ndGggZm9yIGNvZXJjaW9uLlxudmFyIE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggPSAxNlxuXG4vLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZVxudmFyIHJlID0gZXhwb3J0cy5yZSA9IFtdXG52YXIgc3JjID0gZXhwb3J0cy5zcmMgPSBbXVxudmFyIFIgPSAwXG5cbi8vIFRoZSBmb2xsb3dpbmcgUmVndWxhciBFeHByZXNzaW9ucyBjYW4gYmUgdXNlZCBmb3IgdG9rZW5pemluZyxcbi8vIHZhbGlkYXRpbmcsIGFuZCBwYXJzaW5nIFNlbVZlciB2ZXJzaW9uIHN0cmluZ3MuXG5cbi8vICMjIE51bWVyaWMgSWRlbnRpZmllclxuLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuXG5cbnZhciBOVU1FUklDSURFTlRJRklFUiA9IFIrK1xuc3JjW05VTUVSSUNJREVOVElGSUVSXSA9ICcwfFsxLTldXFxcXGQqJ1xudmFyIE5VTUVSSUNJREVOVElGSUVSTE9PU0UgPSBSKytcbnNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSA9ICdbMC05XSsnXG5cbi8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXJcbi8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvclxuLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuXG5cbnZhciBOT05OVU1FUklDSURFTlRJRklFUiA9IFIrK1xuc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSA9ICdcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qJ1xuXG4vLyAjIyBNYWluIFZlcnNpb25cbi8vIFRocmVlIGRvdC1zZXBhcmF0ZWQgbnVtZXJpYyBpZGVudGlmaWVycy5cblxudmFyIE1BSU5WRVJTSU9OID0gUisrXG5zcmNbTUFJTlZFUlNJT05dID0gJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJylcXFxcLicgK1xuICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKSdcblxudmFyIE1BSU5WRVJTSU9OTE9PU0UgPSBSKytcbnNyY1tNQUlOVkVSU0lPTkxPT1NFXSA9ICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpXFxcXC4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArICcpJ1xuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uIElkZW50aWZpZXJcbi8vIEEgbnVtZXJpYyBpZGVudGlmaWVyLCBvciBhIG5vbi1udW1lcmljIGlkZW50aWZpZXIuXG5cbnZhciBQUkVSRUxFQVNFSURFTlRJRklFUiA9IFIrK1xuc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJ1xuXG52YXIgUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRSA9IFIrK1xuc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdID0gJyg/OicgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJ1xuXG4vLyAjIyBQcmUtcmVsZWFzZSBWZXJzaW9uXG4vLyBIeXBoZW4sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIGRvdC1zZXBhcmF0ZWQgcHJlLXJlbGVhc2UgdmVyc2lvblxuLy8gaWRlbnRpZmllcnMuXG5cbnZhciBQUkVSRUxFQVNFID0gUisrXG5zcmNbUFJFUkVMRUFTRV0gPSAnKD86LSgnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAnKD86XFxcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArICcpKikpJ1xuXG52YXIgUFJFUkVMRUFTRUxPT1NFID0gUisrXG5zcmNbUFJFUkVMRUFTRUxPT1NFXSA9ICcoPzotPygnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuJyArIHNyY1tQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXSArICcpKikpJ1xuXG4vLyAjIyBCdWlsZCBNZXRhZGF0YSBJZGVudGlmaWVyXG4vLyBBbnkgY29tYmluYXRpb24gb2YgZGlnaXRzLCBsZXR0ZXJzLCBvciBoeXBoZW5zLlxuXG52YXIgQlVJTERJREVOVElGSUVSID0gUisrXG5zcmNbQlVJTERJREVOVElGSUVSXSA9ICdbMC05QS1aYS16LV0rJ1xuXG4vLyAjIyBCdWlsZCBNZXRhZGF0YVxuLy8gUGx1cyBzaWduLCBmb2xsb3dlZCBieSBvbmUgb3IgbW9yZSBwZXJpb2Qtc2VwYXJhdGVkIGJ1aWxkIG1ldGFkYXRhXG4vLyBpZGVudGlmaWVycy5cblxudmFyIEJVSUxEID0gUisrXG5zcmNbQlVJTERdID0gJyg/OlxcXFwrKCcgKyBzcmNbQlVJTERJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgJyg/OlxcXFwuJyArIHNyY1tCVUlMRElERU5USUZJRVJdICsgJykqKSknXG5cbi8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmdcbi8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmRcbi8vIGJ1aWxkIG1ldGFkYXRhLlxuXG4vLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mXG4vLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGFcbi8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uXG4vLyBjb21wYXJpc29uLlxuXG52YXIgRlVMTCA9IFIrK1xudmFyIEZVTExQTEFJTiA9ICd2PycgKyBzcmNbTUFJTlZFUlNJT05dICtcbiAgICAgICAgICAgICAgICBzcmNbUFJFUkVMRUFTRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPydcblxuc3JjW0ZVTExdID0gJ14nICsgRlVMTFBMQUlOICsgJyQnXG5cbi8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy5cbi8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5XG4vLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS5cbnZhciBMT09TRVBMQUlOID0gJ1t2PVxcXFxzXSonICsgc3JjW01BSU5WRVJTSU9OTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nXG5cbnZhciBMT09TRSA9IFIrK1xuc3JjW0xPT1NFXSA9ICdeJyArIExPT1NFUExBSU4gKyAnJCdcblxudmFyIEdUTFQgPSBSKytcbnNyY1tHVExUXSA9ICcoKD86PHw+KT89PyknXG5cbi8vIFNvbWV0aGluZyBsaWtlIFwiMi4qXCIgb3IgXCIxLjIueFwiLlxuLy8gTm90ZSB0aGF0IFwieC54XCIgaXMgYSB2YWxpZCB4UmFuZ2UgaWRlbnRpZmVyLCBtZWFuaW5nIFwiYW55IHZlcnNpb25cIlxuLy8gT25seSB0aGUgZmlyc3QgaXRlbSBpcyBzdHJpY3RseSByZXF1aXJlZC5cbnZhciBYUkFOR0VJREVOVElGSUVSTE9PU0UgPSBSKytcbnNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdID0gc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsgJ3x4fFh8XFxcXConXG52YXIgWFJBTkdFSURFTlRJRklFUiA9IFIrK1xuc3JjW1hSQU5HRUlERU5USUZJRVJdID0gc3JjW05VTUVSSUNJREVOVElGSUVSXSArICd8eHxYfFxcXFwqJ1xuXG52YXIgWFJBTkdFUExBSU4gPSBSKytcbnNyY1tYUkFOR0VQTEFJTl0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VdICsgJyk/JyArXG4gICAgICAgICAgICAgICAgICAgc3JjW0JVSUxEXSArICc/JyArXG4gICAgICAgICAgICAgICAgICAgJyk/KT8nXG5cbnZhciBYUkFOR0VQTEFJTkxPT1NFID0gUisrXG5zcmNbWFJBTkdFUExBSU5MT09TRV0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnKT8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyk/KT8nXG5cbnZhciBYUkFOR0UgPSBSKytcbnNyY1tYUkFOR0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKicgKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgWFJBTkdFTE9PU0UgPSBSKytcbnNyY1tYUkFOR0VMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJ1xuXG4vLyBDb2VyY2lvbi5cbi8vIEV4dHJhY3QgYW55dGhpbmcgdGhhdCBjb3VsZCBjb25jZWl2YWJseSBiZSBhIHBhcnQgb2YgYSB2YWxpZCBzZW12ZXJcbnZhciBDT0VSQ0UgPSBSKytcbnNyY1tDT0VSQ0VdID0gJyg/Ol58W15cXFxcZF0pJyArXG4gICAgICAgICAgICAgICcoXFxcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KScgK1xuICAgICAgICAgICAgICAnKD86XFxcXC4oXFxcXGR7MSwnICsgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCArICd9KSk/JyArXG4gICAgICAgICAgICAgICcoPzpcXFxcLihcXFxcZHsxLCcgKyBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIICsgJ30pKT8nICtcbiAgICAgICAgICAgICAgJyg/OiR8W15cXFxcZF0pJ1xuXG4vLyBUaWxkZSByYW5nZXMuXG4vLyBNZWFuaW5nIGlzIFwicmVhc29uYWJseSBhdCBvciBncmVhdGVyIHRoYW5cIlxudmFyIExPTkVUSUxERSA9IFIrK1xuc3JjW0xPTkVUSUxERV0gPSAnKD86fj4/KSdcblxudmFyIFRJTERFVFJJTSA9IFIrK1xuc3JjW1RJTERFVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVUSUxERV0gKyAnXFxcXHMrJ1xucmVbVElMREVUUklNXSA9IG5ldyBSZWdFeHAoc3JjW1RJTERFVFJJTV0sICdnJylcbnZhciB0aWxkZVRyaW1SZXBsYWNlID0gJyQxfidcblxudmFyIFRJTERFID0gUisrXG5zcmNbVElMREVdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgVElMREVMT09TRSA9IFIrK1xuc3JjW1RJTERFTE9PU0VdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCdcblxuLy8gQ2FyZXQgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoXCJcbnZhciBMT05FQ0FSRVQgPSBSKytcbnNyY1tMT05FQ0FSRVRdID0gJyg/OlxcXFxeKSdcblxudmFyIENBUkVUVFJJTSA9IFIrK1xuc3JjW0NBUkVUVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVDQVJFVF0gKyAnXFxcXHMrJ1xucmVbQ0FSRVRUUklNXSA9IG5ldyBSZWdFeHAoc3JjW0NBUkVUVFJJTV0sICdnJylcbnZhciBjYXJldFRyaW1SZXBsYWNlID0gJyQxXidcblxudmFyIENBUkVUID0gUisrXG5zcmNbQ0FSRVRdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnXG52YXIgQ0FSRVRMT09TRSA9IFIrK1xuc3JjW0NBUkVUTE9PU0VdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCdcblxuLy8gQSBzaW1wbGUgZ3QvbHQvZXEgdGhpbmcsIG9yIGp1c3QgXCJcIiB0byBpbmRpY2F0ZSBcImFueSB2ZXJzaW9uXCJcbnZhciBDT01QQVJBVE9STE9PU0UgPSBSKytcbnNyY1tDT01QQVJBVE9STE9PU0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKignICsgTE9PU0VQTEFJTiArICcpJHxeJCdcbnZhciBDT01QQVJBVE9SID0gUisrXG5zcmNbQ09NUEFSQVRPUl0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqKCcgKyBGVUxMUExBSU4gKyAnKSR8XiQnXG5cbi8vIEFuIGV4cHJlc3Npb24gdG8gc3RyaXAgYW55IHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZ3RsdCBhbmQgdGhlIHRoaW5nXG4vLyBpdCBtb2RpZmllcywgc28gdGhhdCBgPiAxLjIuM2AgPT0+IGA+MS4yLjNgXG52YXIgQ09NUEFSQVRPUlRSSU0gPSBSKytcbnNyY1tDT01QQVJBVE9SVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0dUTFRdICtcbiAgICAgICAgICAgICAgICAgICAgICAnXFxcXHMqKCcgKyBMT09TRVBMQUlOICsgJ3wnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJ1xuXG4vLyB0aGlzIG9uZSBoYXMgdG8gdXNlIHRoZSAvZyBmbGFnXG5yZVtDT01QQVJBVE9SVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDT01QQVJBVE9SVFJJTV0sICdnJylcbnZhciBjb21wYXJhdG9yVHJpbVJlcGxhY2UgPSAnJDEkMiQzJ1xuXG4vLyBTb21ldGhpbmcgbGlrZSBgMS4yLjMgLSAxLjIuNGBcbi8vIE5vdGUgdGhhdCB0aGVzZSBhbGwgdXNlIHRoZSBsb29zZSBmb3JtLCBiZWNhdXNlIHRoZXknbGwgYmVcbi8vIGNoZWNrZWQgYWdhaW5zdCBlaXRoZXIgdGhlIHN0cmljdCBvciBsb29zZSBjb21wYXJhdG9yIGZvcm1cbi8vIGxhdGVyLlxudmFyIEhZUEhFTlJBTkdFID0gUisrXG5zcmNbSFlQSEVOUkFOR0VdID0gJ15cXFxccyooJyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICdcXFxccystXFxcXHMrJyArXG4gICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJ1xcXFxzKiQnXG5cbnZhciBIWVBIRU5SQU5HRUxPT1NFID0gUisrXG5zcmNbSFlQSEVOUkFOR0VMT09TRV0gPSAnXlxcXFxzKignICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXFxccystXFxcXHMrJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcXFxzKiQnXG5cbi8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC5cbnZhciBTVEFSID0gUisrXG5zcmNbU1RBUl0gPSAnKDx8Pik/PT9cXFxccypcXFxcKidcblxuLy8gQ29tcGlsZSB0byBhY3R1YWwgcmVnZXhwIG9iamVjdHMuXG4vLyBBbGwgYXJlIGZsYWctZnJlZSwgdW5sZXNzIHRoZXkgd2VyZSBjcmVhdGVkIGFib3ZlIHdpdGggYSBmbGFnLlxuZm9yICh2YXIgaSA9IDA7IGkgPCBSOyBpKyspIHtcbiAgZGVidWcoaSwgc3JjW2ldKVxuICBpZiAoIXJlW2ldKSB7XG4gICAgcmVbaV0gPSBuZXcgUmVnRXhwKHNyY1tpXSlcbiAgfVxufVxuXG5leHBvcnRzLnBhcnNlID0gcGFyc2VcbmZ1bmN0aW9uIHBhcnNlICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgbG9vc2U6ICEhb3B0aW9ucyxcbiAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB2YXIgciA9IG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXVxuICBpZiAoIXIudGVzdCh2ZXJzaW9uKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnRzLnZhbGlkID0gdmFsaWRcbmZ1bmN0aW9uIHZhbGlkICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIHZhciB2ID0gcGFyc2UodmVyc2lvbiwgb3B0aW9ucylcbiAgcmV0dXJuIHYgPyB2LnZlcnNpb24gOiBudWxsXG59XG5cbmV4cG9ydHMuY2xlYW4gPSBjbGVhblxuZnVuY3Rpb24gY2xlYW4gKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIG9wdGlvbnMpXG4gIHJldHVybiBzID8gcy52ZXJzaW9uIDogbnVsbFxufVxuXG5leHBvcnRzLlNlbVZlciA9IFNlbVZlclxuXG5mdW5jdGlvbiBTZW1WZXIgKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgaWYgKHZlcnNpb24ubG9vc2UgPT09IG9wdGlvbnMubG9vc2UpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnZlcnNpb25cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBWZXJzaW9uOiAnICsgdmVyc2lvbilcbiAgfVxuXG4gIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICcgKyBNQVhfTEVOR1RIICsgJyBjaGFyYWN0ZXJzJylcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgb3B0aW9ucylcbiAgfVxuXG4gIGRlYnVnKCdTZW1WZXInLCB2ZXJzaW9uLCBvcHRpb25zKVxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIHRoaXMubG9vc2UgPSAhIW9wdGlvbnMubG9vc2VcblxuICB2YXIgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVtMT09TRV0gOiByZVtGVUxMXSlcblxuICBpZiAoIW0pIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFZlcnNpb246ICcgKyB2ZXJzaW9uKVxuICB9XG5cbiAgdGhpcy5yYXcgPSB2ZXJzaW9uXG5cbiAgLy8gdGhlc2UgYXJlIGFjdHVhbGx5IG51bWJlcnNcbiAgdGhpcy5tYWpvciA9ICttWzFdXG4gIHRoaXMubWlub3IgPSArbVsyXVxuICB0aGlzLnBhdGNoID0gK21bM11cblxuICBpZiAodGhpcy5tYWpvciA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5tYWpvciA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuICB9XG5cbiAgaWYgKHRoaXMubWlub3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWlub3IgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJylcbiAgfVxuXG4gIGlmICh0aGlzLnBhdGNoID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLnBhdGNoIDwgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG4gIH1cblxuICAvLyBudW1iZXJpZnkgYW55IHByZXJlbGVhc2UgbnVtZXJpYyBpZHNcbiAgaWYgKCFtWzRdKSB7XG4gICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgaWYgKC9eWzAtOV0rJC8udGVzdChpZCkpIHtcbiAgICAgICAgdmFyIG51bSA9ICtpZFxuICAgICAgICBpZiAobnVtID49IDAgJiYgbnVtIDwgTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgIHJldHVybiBudW1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlkXG4gICAgfSlcbiAgfVxuXG4gIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW11cbiAgdGhpcy5mb3JtYXQoKVxufVxuXG5TZW1WZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy52ZXJzaW9uID0gdGhpcy5tYWpvciArICcuJyArIHRoaXMubWlub3IgKyAnLicgKyB0aGlzLnBhdGNoXG4gIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgdGhpcy52ZXJzaW9uICs9ICctJyArIHRoaXMucHJlcmVsZWFzZS5qb2luKCcuJylcbiAgfVxuICByZXR1cm4gdGhpcy52ZXJzaW9uXG59XG5cblNlbVZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb25cbn1cblxuU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcilcbiAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gdGhpcy5jb21wYXJlTWFpbihvdGhlcikgfHwgdGhpcy5jb21wYXJlUHJlKG90aGVyKVxufVxuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmVNYWluID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaClcbn1cblxuU2VtVmVyLnByb3RvdHlwZS5jb21wYXJlUHJlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICB9XG5cbiAgLy8gTk9UIGhhdmluZyBhIHByZXJlbGVhc2UgaXMgPiBoYXZpbmcgb25lXG4gIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmICFvdGhlci5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmIG90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIGlmICghdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gMFxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIGRvIHtcbiAgICB2YXIgYSA9IHRoaXMucHJlcmVsZWFzZVtpXVxuICAgIHZhciBiID0gb3RoZXIucHJlcmVsZWFzZVtpXVxuICAgIGRlYnVnKCdwcmVyZWxlYXNlIGNvbXBhcmUnLCBpLCBhLCBiKVxuICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMFxuICAgIH0gZWxzZSBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH0gZWxzZSBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICB9XG4gIH0gd2hpbGUgKCsraSlcbn1cblxuLy8gcHJlbWlub3Igd2lsbCBidW1wIHRoZSB2ZXJzaW9uIHVwIHRvIHRoZSBuZXh0IG1pbm9yIHJlbGVhc2UsIGFuZCBpbW1lZGlhdGVseVxuLy8gZG93biB0byBwcmUtcmVsZWFzZS4gcHJlbWFqb3IgYW5kIHByZXBhdGNoIHdvcmsgdGhlIHNhbWUgd2F5LlxuU2VtVmVyLnByb3RvdHlwZS5pbmMgPSBmdW5jdGlvbiAocmVsZWFzZSwgaWRlbnRpZmllcikge1xuICBzd2l0Y2ggKHJlbGVhc2UpIHtcbiAgICBjYXNlICdwcmVtYWpvcic6XG4gICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgIHRoaXMubWlub3IgPSAwXG4gICAgICB0aGlzLm1ham9yKytcbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdwcmVtaW5vcic6XG4gICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgIHRoaXMubWlub3IrK1xuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3ByZXBhdGNoJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYWxyZWFkeSBhIHByZXJlbGVhc2UsIGl0IHdpbGwgYnVtcCB0byB0aGUgbmV4dCB2ZXJzaW9uXG4gICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgLy8gcmVsZXZhbnQgYXQgdGhpcyBwb2ludC5cbiAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpXG4gICAgICBicmVha1xuICAgIC8vIElmIHRoZSBpbnB1dCBpcyBhIG5vbi1wcmVyZWxlYXNlIHZlcnNpb24sIHRoaXMgYWN0cyB0aGUgc2FtZSBhc1xuICAgIC8vIHByZXBhdGNoLlxuICAgIGNhc2UgJ3ByZXJlbGVhc2UnOlxuICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5pbmMoJ3BhdGNoJywgaWRlbnRpZmllcilcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ21ham9yJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtYWpvci5cbiAgICAgIC8vIDEuMC4wLTUgYnVtcHMgdG8gMS4wLjBcbiAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICBpZiAodGhpcy5taW5vciAhPT0gMCB8fFxuICAgICAgICAgIHRoaXMucGF0Y2ggIT09IDAgfHxcbiAgICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWFqb3IrK1xuICAgICAgfVxuICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdtaW5vcic6XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgcHJlLW1pbm9yIHZlcnNpb24sIGJ1bXAgdXAgdG8gdGhlIHNhbWUgbWlub3IgdmVyc2lvbi5cbiAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuXG4gICAgICAvLyAxLjIuMC01IGJ1bXBzIHRvIDEuMi4wXG4gICAgICAvLyAxLjIuMSBidW1wcyB0byAxLjMuMFxuICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1pbm9yKytcbiAgICAgIH1cbiAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdwYXRjaCc6XG4gICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIHByZS1yZWxlYXNlIHZlcnNpb24sIGl0IHdpbGwgaW5jcmVtZW50IHRoZSBwYXRjaC5cbiAgICAgIC8vIElmIGl0IGlzIGEgcHJlLXJlbGVhc2UgaXQgd2lsbCBidW1wIHVwIHRvIHRoZSBzYW1lIHBhdGNoIHZlcnNpb24uXG4gICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgIC8vIDEuMi4wIHBhdGNoZXMgdG8gMS4yLjFcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMucGF0Y2grK1xuICAgICAgfVxuICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgIGJyZWFrXG4gICAgLy8gVGhpcyBwcm9iYWJseSBzaG91bGRuJ3QgYmUgdXNlZCBwdWJsaWNseS5cbiAgICAvLyAxLjAuMCBcInByZVwiIHdvdWxkIGJlY29tZSAxLjAuMC0wIHdoaWNoIGlzIHRoZSB3cm9uZyBkaXJlY3Rpb24uXG4gICAgY2FzZSAncHJlJzpcbiAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFswXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVyZWxlYXNlW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKytcbiAgICAgICAgICAgIGkgPSAtMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBkaWRuJ3QgaW5jcmVtZW50IGFueXRoaW5nXG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgLy8gMS4yLjAtYmV0YS4xIGJ1bXBzIHRvIDEuMi4wLWJldGEuMixcbiAgICAgICAgLy8gMS4yLjAtYmV0YS5mb29ibHogb3IgMS4yLjAtYmV0YSBidW1wcyB0byAxLjIuMC1iZXRhLjBcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZVswXSA9PT0gaWRlbnRpZmllcikge1xuICAgICAgICAgIGlmIChpc05hTih0aGlzLnByZXJlbGVhc2VbMV0pKSB7XG4gICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluY3JlbWVudCBhcmd1bWVudDogJyArIHJlbGVhc2UpXG4gIH1cbiAgdGhpcy5mb3JtYXQoKVxuICB0aGlzLnJhdyA9IHRoaXMudmVyc2lvblxuICByZXR1cm4gdGhpc1xufVxuXG5leHBvcnRzLmluYyA9IGluY1xuZnVuY3Rpb24gaW5jICh2ZXJzaW9uLCByZWxlYXNlLCBsb29zZSwgaWRlbnRpZmllcikge1xuICBpZiAodHlwZW9mIChsb29zZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgaWRlbnRpZmllciA9IGxvb3NlXG4gICAgbG9vc2UgPSB1bmRlZmluZWRcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgbG9vc2UpLmluYyhyZWxlYXNlLCBpZGVudGlmaWVyKS52ZXJzaW9uXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnRzLmRpZmYgPSBkaWZmXG5mdW5jdGlvbiBkaWZmICh2ZXJzaW9uMSwgdmVyc2lvbjIpIHtcbiAgaWYgKGVxKHZlcnNpb24xLCB2ZXJzaW9uMikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9IGVsc2Uge1xuICAgIHZhciB2MSA9IHBhcnNlKHZlcnNpb24xKVxuICAgIHZhciB2MiA9IHBhcnNlKHZlcnNpb24yKVxuICAgIHZhciBwcmVmaXggPSAnJ1xuICAgIGlmICh2MS5wcmVyZWxlYXNlLmxlbmd0aCB8fCB2Mi5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgICAgcHJlZml4ID0gJ3ByZSdcbiAgICAgIHZhciBkZWZhdWx0UmVzdWx0ID0gJ3ByZXJlbGVhc2UnXG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiB2MSkge1xuICAgICAgaWYgKGtleSA9PT0gJ21ham9yJyB8fCBrZXkgPT09ICdtaW5vcicgfHwga2V5ID09PSAncGF0Y2gnKSB7XG4gICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCArIGtleVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVzdWx0IC8vIG1heSBiZSB1bmRlZmluZWRcbiAgfVxufVxuXG5leHBvcnRzLmNvbXBhcmVJZGVudGlmaWVycyA9IGNvbXBhcmVJZGVudGlmaWVyc1xuXG52YXIgbnVtZXJpYyA9IC9eWzAtOV0rJC9cbmZ1bmN0aW9uIGNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikge1xuICB2YXIgYW51bSA9IG51bWVyaWMudGVzdChhKVxuICB2YXIgYm51bSA9IG51bWVyaWMudGVzdChiKVxuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2FcbiAgICBiID0gK2JcbiAgfVxuXG4gIHJldHVybiBhID09PSBiID8gMFxuICAgIDogKGFudW0gJiYgIWJudW0pID8gLTFcbiAgICA6IChibnVtICYmICFhbnVtKSA/IDFcbiAgICA6IGEgPCBiID8gLTFcbiAgICA6IDFcbn1cblxuZXhwb3J0cy5yY29tcGFyZUlkZW50aWZpZXJzID0gcmNvbXBhcmVJZGVudGlmaWVyc1xuZnVuY3Rpb24gcmNvbXBhcmVJZGVudGlmaWVycyAoYSwgYikge1xuICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGIsIGEpXG59XG5cbmV4cG9ydHMubWFqb3IgPSBtYWpvclxuZnVuY3Rpb24gbWFqb3IgKGEsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5tYWpvclxufVxuXG5leHBvcnRzLm1pbm9yID0gbWlub3JcbmZ1bmN0aW9uIG1pbm9yIChhLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkubWlub3Jcbn1cblxuZXhwb3J0cy5wYXRjaCA9IHBhdGNoXG5mdW5jdGlvbiBwYXRjaCAoYSwgbG9vc2UpIHtcbiAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLnBhdGNoXG59XG5cbmV4cG9ydHMuY29tcGFyZSA9IGNvbXBhcmVcbmZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5jb21wYXJlKG5ldyBTZW1WZXIoYiwgbG9vc2UpKVxufVxuXG5leHBvcnRzLmNvbXBhcmVMb29zZSA9IGNvbXBhcmVMb29zZVxuZnVuY3Rpb24gY29tcGFyZUxvb3NlIChhLCBiKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIHRydWUpXG59XG5cbmV4cG9ydHMucmNvbXBhcmUgPSByY29tcGFyZVxuZnVuY3Rpb24gcmNvbXBhcmUgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGIsIGEsIGxvb3NlKVxufVxuXG5leHBvcnRzLnNvcnQgPSBzb3J0XG5mdW5jdGlvbiBzb3J0IChsaXN0LCBsb29zZSkge1xuICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZShhLCBiLCBsb29zZSlcbiAgfSlcbn1cblxuZXhwb3J0cy5yc29ydCA9IHJzb3J0XG5mdW5jdGlvbiByc29ydCAobGlzdCwgbG9vc2UpIHtcbiAgcmV0dXJuIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBleHBvcnRzLnJjb21wYXJlKGEsIGIsIGxvb3NlKVxuICB9KVxufVxuXG5leHBvcnRzLmd0ID0gZ3RcbmZ1bmN0aW9uIGd0IChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPiAwXG59XG5cbmV4cG9ydHMubHQgPSBsdFxuZnVuY3Rpb24gbHQgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDBcbn1cblxuZXhwb3J0cy5lcSA9IGVxXG5mdW5jdGlvbiBlcSAoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpID09PSAwXG59XG5cbmV4cG9ydHMubmVxID0gbmVxXG5mdW5jdGlvbiBuZXEgKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSAhPT0gMFxufVxuXG5leHBvcnRzLmd0ZSA9IGd0ZVxuZnVuY3Rpb24gZ3RlIChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMFxufVxuXG5leHBvcnRzLmx0ZSA9IGx0ZVxuZnVuY3Rpb24gbHRlIChhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPD0gMFxufVxuXG5leHBvcnRzLmNtcCA9IGNtcFxuZnVuY3Rpb24gY21wIChhLCBvcCwgYiwgbG9vc2UpIHtcbiAgc3dpdGNoIChvcCkge1xuICAgIGNhc2UgJz09PSc6XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKVxuICAgICAgICBhID0gYS52ZXJzaW9uXG4gICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKVxuICAgICAgICBiID0gYi52ZXJzaW9uXG4gICAgICByZXR1cm4gYSA9PT0gYlxuXG4gICAgY2FzZSAnIT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpXG4gICAgICAgIGEgPSBhLnZlcnNpb25cbiAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcpXG4gICAgICAgIGIgPSBiLnZlcnNpb25cbiAgICAgIHJldHVybiBhICE9PSBiXG5cbiAgICBjYXNlICcnOlxuICAgIGNhc2UgJz0nOlxuICAgIGNhc2UgJz09JzpcbiAgICAgIHJldHVybiBlcShhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJyE9JzpcbiAgICAgIHJldHVybiBuZXEoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc+JzpcbiAgICAgIHJldHVybiBndChhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJz49JzpcbiAgICAgIHJldHVybiBndGUoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc8JzpcbiAgICAgIHJldHVybiBsdChhLCBiLCBsb29zZSlcblxuICAgIGNhc2UgJzw9JzpcbiAgICAgIHJldHVybiBsdGUoYSwgYiwgbG9vc2UpXG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBvcGVyYXRvcjogJyArIG9wKVxuICB9XG59XG5cbmV4cG9ydHMuQ29tcGFyYXRvciA9IENvbXBhcmF0b3JcbmZ1bmN0aW9uIENvbXBhcmF0b3IgKGNvbXAsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgaWYgKGNvbXAubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSkge1xuICAgICAgcmV0dXJuIGNvbXBcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcCA9IGNvbXAudmFsdWVcbiAgICB9XG4gIH1cblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICByZXR1cm4gbmV3IENvbXBhcmF0b3IoY29tcCwgb3B0aW9ucylcbiAgfVxuXG4gIGRlYnVnKCdjb21wYXJhdG9yJywgY29tcCwgb3B0aW9ucylcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gIHRoaXMucGFyc2UoY29tcClcblxuICBpZiAodGhpcy5zZW12ZXIgPT09IEFOWSkge1xuICAgIHRoaXMudmFsdWUgPSAnJ1xuICB9IGVsc2Uge1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLm9wZXJhdG9yICsgdGhpcy5zZW12ZXIudmVyc2lvblxuICB9XG5cbiAgZGVidWcoJ2NvbXAnLCB0aGlzKVxufVxuXG52YXIgQU5ZID0ge31cbkNvbXBhcmF0b3IucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNvbXApIHtcbiAgdmFyIHIgPSB0aGlzLm9wdGlvbnMubG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl1cbiAgdmFyIG0gPSBjb21wLm1hdGNoKHIpXG5cbiAgaWYgKCFtKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjb21wYXJhdG9yOiAnICsgY29tcClcbiAgfVxuXG4gIHRoaXMub3BlcmF0b3IgPSBtWzFdXG4gIGlmICh0aGlzLm9wZXJhdG9yID09PSAnPScpIHtcbiAgICB0aGlzLm9wZXJhdG9yID0gJydcbiAgfVxuXG4gIC8vIGlmIGl0IGxpdGVyYWxseSBpcyBqdXN0ICc+JyBvciAnJyB0aGVuIGFsbG93IGFueXRoaW5nLlxuICBpZiAoIW1bMl0pIHtcbiAgICB0aGlzLnNlbXZlciA9IEFOWVxuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VtdmVyID0gbmV3IFNlbVZlcihtWzJdLCB0aGlzLm9wdGlvbnMubG9vc2UpXG4gIH1cbn1cblxuQ29tcGFyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlXG59XG5cbkNvbXBhcmF0b3IucHJvdG90eXBlLnRlc3QgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICBkZWJ1ZygnQ29tcGFyYXRvci50ZXN0JywgdmVyc2lvbiwgdGhpcy5vcHRpb25zLmxvb3NlKVxuXG4gIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCB0aGlzLm9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gY21wKHZlcnNpb24sIHRoaXMub3BlcmF0b3IsIHRoaXMuc2VtdmVyLCB0aGlzLm9wdGlvbnMpXG59XG5cbkNvbXBhcmF0b3IucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiAoY29tcCwgb3B0aW9ucykge1xuICBpZiAoIShjb21wIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIENvbXBhcmF0b3IgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgdmFyIHJhbmdlVG1wXG5cbiAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucylcbiAgICByZXR1cm4gc2F0aXNmaWVzKHRoaXMudmFsdWUsIHJhbmdlVG1wLCBvcHRpb25zKVxuICB9IGVsc2UgaWYgKGNvbXAub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgcmFuZ2VUbXAgPSBuZXcgUmFuZ2UodGhpcy52YWx1ZSwgb3B0aW9ucylcbiAgICByZXR1cm4gc2F0aXNmaWVzKGNvbXAuc2VtdmVyLCByYW5nZVRtcCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBzYW1lRGlyZWN0aW9uSW5jcmVhc2luZyA9XG4gICAgKHRoaXMub3BlcmF0b3IgPT09ICc+PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJz4nKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JylcbiAgdmFyIHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nID1cbiAgICAodGhpcy5vcGVyYXRvciA9PT0gJzw9JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPCcpICYmXG4gICAgKGNvbXAub3BlcmF0b3IgPT09ICc8PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzwnKVxuICB2YXIgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb25cbiAgdmFyIGRpZmZlcmVudERpcmVjdGlvbnNJbmNsdXNpdmUgPVxuICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8PScpICYmXG4gICAgKGNvbXAub3BlcmF0b3IgPT09ICc+PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzw9JylcbiAgdmFyIG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuID1cbiAgICBjbXAodGhpcy5zZW12ZXIsICc8JywgY29tcC5zZW12ZXIsIG9wdGlvbnMpICYmXG4gICAgKCh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpKVxuICB2YXIgb3Bwb3NpdGVEaXJlY3Rpb25zR3JlYXRlclRoYW4gPVxuICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAoKHRoaXMub3BlcmF0b3IgPT09ICc8PScgfHwgdGhpcy5vcGVyYXRvciA9PT0gJzwnKSAmJlxuICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JykpXG5cbiAgcmV0dXJuIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nIHx8IHNhbWVEaXJlY3Rpb25EZWNyZWFzaW5nIHx8XG4gICAgKHNhbWVTZW1WZXIgJiYgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSkgfHxcbiAgICBvcHBvc2l0ZURpcmVjdGlvbnNMZXNzVGhhbiB8fCBvcHBvc2l0ZURpcmVjdGlvbnNHcmVhdGVyVGhhblxufVxuXG5leHBvcnRzLlJhbmdlID0gUmFuZ2VcbmZ1bmN0aW9uIFJhbmdlIChyYW5nZSwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGxvb3NlOiAhIW9wdGlvbnMsXG4gICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkge1xuICAgIGlmIChyYW5nZS5sb29zZSA9PT0gISFvcHRpb25zLmxvb3NlICYmXG4gICAgICAgIHJhbmdlLmluY2x1ZGVQcmVyZWxlYXNlID09PSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpIHtcbiAgICAgIHJldHVybiByYW5nZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLnJhdywgb3B0aW9ucylcbiAgICB9XG4gIH1cblxuICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS52YWx1ZSwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gIHRoaXMuaW5jbHVkZVByZXJlbGVhc2UgPSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2VcblxuICAvLyBGaXJzdCwgc3BsaXQgYmFzZWQgb24gYm9vbGVhbiBvciB8fFxuICB0aGlzLnJhdyA9IHJhbmdlXG4gIHRoaXMuc2V0ID0gcmFuZ2Uuc3BsaXQoL1xccypcXHxcXHxcXHMqLykubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuICAgIHJldHVybiB0aGlzLnBhcnNlUmFuZ2UocmFuZ2UudHJpbSgpKVxuICB9LCB0aGlzKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAvLyB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCByZWxldmFudCBmb3Igd2hhdGV2ZXIgcmVhc29uXG4gICAgcmV0dXJuIGMubGVuZ3RoXG4gIH0pXG5cbiAgaWYgKCF0aGlzLnNldC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFNlbVZlciBSYW5nZTogJyArIHJhbmdlKVxuICB9XG5cbiAgdGhpcy5mb3JtYXQoKVxufVxuXG5SYW5nZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJhbmdlID0gdGhpcy5zZXQubWFwKGZ1bmN0aW9uIChjb21wcykge1xuICAgIHJldHVybiBjb21wcy5qb2luKCcgJykudHJpbSgpXG4gIH0pLmpvaW4oJ3x8JykudHJpbSgpXG4gIHJldHVybiB0aGlzLnJhbmdlXG59XG5cblJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucmFuZ2Vcbn1cblxuUmFuZ2UucHJvdG90eXBlLnBhcnNlUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgdmFyIGxvb3NlID0gdGhpcy5vcHRpb25zLmxvb3NlXG4gIHJhbmdlID0gcmFuZ2UudHJpbSgpXG4gIC8vIGAxLjIuMyAtIDEuMi40YCA9PiBgPj0xLjIuMyA8PTEuMi40YFxuICB2YXIgaHIgPSBsb29zZSA/IHJlW0hZUEhFTlJBTkdFTE9PU0VdIDogcmVbSFlQSEVOUkFOR0VdXG4gIHJhbmdlID0gcmFuZ2UucmVwbGFjZShociwgaHlwaGVuUmVwbGFjZSlcbiAgZGVidWcoJ2h5cGhlbiByZXBsYWNlJywgcmFuZ2UpXG4gIC8vIGA+IDEuMi4zIDwgMS4yLjVgID0+IGA+MS4yLjMgPDEuMi41YFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbQ09NUEFSQVRPUlRSSU1dLCBjb21wYXJhdG9yVHJpbVJlcGxhY2UpXG4gIGRlYnVnKCdjb21wYXJhdG9yIHRyaW0nLCByYW5nZSwgcmVbQ09NUEFSQVRPUlRSSU1dKVxuXG4gIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbVElMREVUUklNXSwgdGlsZGVUcmltUmVwbGFjZSlcblxuICAvLyBgXiAxLjIuM2AgPT4gYF4xLjIuM2BcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW0NBUkVUVFJJTV0sIGNhcmV0VHJpbVJlcGxhY2UpXG5cbiAgLy8gbm9ybWFsaXplIHNwYWNlc1xuICByYW5nZSA9IHJhbmdlLnNwbGl0KC9cXHMrLykuam9pbignICcpXG5cbiAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJhbmdlIGlzIGNvbXBsZXRlbHkgdHJpbW1lZCBhbmRcbiAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy5cblxuICB2YXIgY29tcFJlID0gbG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl1cbiAgdmFyIHNldCA9IHJhbmdlLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHBhcnNlQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpXG4gIH0sIHRoaXMpLmpvaW4oJyAnKS5zcGxpdCgvXFxzKy8pXG4gIGlmICh0aGlzLm9wdGlvbnMubG9vc2UpIHtcbiAgICAvLyBpbiBsb29zZSBtb2RlLCB0aHJvdyBvdXQgYW55IHRoYXQgYXJlIG5vdCB2YWxpZCBjb21wYXJhdG9yc1xuICAgIHNldCA9IHNldC5maWx0ZXIoZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgIHJldHVybiAhIWNvbXAubWF0Y2goY29tcFJlKVxuICAgIH0pXG4gIH1cbiAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkge1xuICAgIHJldHVybiBuZXcgQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpXG4gIH0sIHRoaXMpXG5cbiAgcmV0dXJuIHNldFxufVxuXG5SYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSwgb3B0aW9ucykge1xuICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgUmFuZ2UgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuc2V0LnNvbWUoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9ycykge1xuICAgIHJldHVybiB0aGlzQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHRoaXNDb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmFuZ2Uuc2V0LnNvbWUoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcnMpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlQ29tcGFyYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHJhbmdlQ29tcGFyYXRvcikge1xuICAgICAgICAgIHJldHVybiB0aGlzQ29tcGFyYXRvci5pbnRlcnNlY3RzKHJhbmdlQ29tcGFyYXRvciwgb3B0aW9ucylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gTW9zdGx5IGp1c3QgZm9yIHRlc3RpbmcgYW5kIGxlZ2FjeSBBUEkgcmVhc29uc1xuZXhwb3J0cy50b0NvbXBhcmF0b3JzID0gdG9Db21wYXJhdG9yc1xuZnVuY3Rpb24gdG9Db21wYXJhdG9ycyAocmFuZ2UsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykuc2V0Lm1hcChmdW5jdGlvbiAoY29tcCkge1xuICAgIHJldHVybiBjb21wLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMudmFsdWVcbiAgICB9KS5qb2luKCcgJykudHJpbSgpLnNwbGl0KCcgJylcbiAgfSlcbn1cblxuLy8gY29tcHJpc2VkIG9mIHhyYW5nZXMsIHRpbGRlcywgc3RhcnMsIGFuZCBndGx0J3MgYXQgdGhpcyBwb2ludC5cbi8vIGFscmVhZHkgcmVwbGFjZWQgdGhlIGh5cGhlbiByYW5nZXNcbi8vIHR1cm4gaW50byBhIHNldCBvZiBKVVNUIGNvbXBhcmF0b3JzLlxuZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yIChjb21wLCBvcHRpb25zKSB7XG4gIGRlYnVnKCdjb21wJywgY29tcCwgb3B0aW9ucylcbiAgY29tcCA9IHJlcGxhY2VDYXJldHMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ2NhcmV0JywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VUaWxkZXMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ3RpbGRlcycsIGNvbXApXG4gIGNvbXAgPSByZXBsYWNlWFJhbmdlcyhjb21wLCBvcHRpb25zKVxuICBkZWJ1ZygneHJhbmdlJywgY29tcClcbiAgY29tcCA9IHJlcGxhY2VTdGFycyhjb21wLCBvcHRpb25zKVxuICBkZWJ1Zygnc3RhcnMnLCBjb21wKVxuICByZXR1cm4gY29tcFxufVxuXG5mdW5jdGlvbiBpc1ggKGlkKSB7XG4gIHJldHVybiAhaWQgfHwgaWQudG9Mb3dlckNhc2UoKSA9PT0gJ3gnIHx8IGlkID09PSAnKidcbn1cblxuLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wXG4vLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMFxuLy8gfjEuMiwgfjEuMi54LCB+PjEuMiwgfj4xLjIueCAtLT4gPj0xLjIuMCA8MS4zLjBcbi8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjBcbi8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjBcbmZ1bmN0aW9uIHJlcGxhY2VUaWxkZXMgKGNvbXAsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VUaWxkZShjb21wLCBvcHRpb25zKVxuICB9KS5qb2luKCcgJylcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVRpbGRlIChjb21wLCBvcHRpb25zKSB7XG4gIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1RJTERFTE9PU0VdIDogcmVbVElMREVdXG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24gKF8sIE0sIG0sIHAsIHByKSB7XG4gICAgZGVidWcoJ3RpbGRlJywgY29tcCwgXywgTSwgbSwgcCwgcHIpXG4gICAgdmFyIHJldFxuXG4gICAgaWYgKGlzWChNKSkge1xuICAgICAgcmV0ID0gJydcbiAgICB9IGVsc2UgaWYgKGlzWChtKSkge1xuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLjAuMCA8JyArICgrTSArIDEpICsgJy4wLjAnXG4gICAgfSBlbHNlIGlmIChpc1gocCkpIHtcbiAgICAgIC8vIH4xLjIgPT0gPj0xLjIuMCA8MS4zLjBcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuMCA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCdcbiAgICB9IGVsc2UgaWYgKHByKSB7XG4gICAgICBkZWJ1ZygncmVwbGFjZVRpbGRlIHByJywgcHIpXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgK1xuICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyAoK20gKyAxKSArICcuMCdcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gfjEuMi4zID09ID49MS4yLjMgPDEuMy4wXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgfVxuXG4gICAgZGVidWcoJ3RpbGRlIHJldHVybicsIHJldClcbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbi8vIF4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyBeMiwgXjIueCwgXjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMFxuLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMFxuLy8gXjEuMi4zIC0tPiA+PTEuMi4zIDwyLjAuMFxuLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMFxuZnVuY3Rpb24gcmVwbGFjZUNhcmV0cyAoY29tcCwgb3B0aW9ucykge1xuICByZXR1cm4gY29tcC50cmltKCkuc3BsaXQoL1xccysvKS5tYXAoZnVuY3Rpb24gKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZUNhcmV0KGNvbXAsIG9wdGlvbnMpXG4gIH0pLmpvaW4oJyAnKVxufVxuXG5mdW5jdGlvbiByZXBsYWNlQ2FyZXQgKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ2NhcmV0JywgY29tcCwgb3B0aW9ucylcbiAgdmFyIHIgPSBvcHRpb25zLmxvb3NlID8gcmVbQ0FSRVRMT09TRV0gOiByZVtDQVJFVF1cbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAoXywgTSwgbSwgcCwgcHIpIHtcbiAgICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBfLCBNLCBtLCBwLCBwcilcbiAgICB2YXIgcmV0XG5cbiAgICBpZiAoaXNYKE0pKSB7XG4gICAgICByZXQgPSAnJ1xuICAgIH0gZWxzZSBpZiAoaXNYKG0pKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCdcbiAgICB9IGVsc2UgaWYgKGlzWChwKSkge1xuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHIpIHtcbiAgICAgIGRlYnVnKCdyZXBsYWNlQ2FyZXQgcHInLCBwcilcbiAgICAgIGlmIChNID09PSAnMCcpIHtcbiAgICAgICAgaWYgKG0gPT09ICcwJykge1xuICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgJy0nICsgcHIgK1xuICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyAnLScgKyBwciArXG4gICAgICAgICAgICAgICcgPCcgKyAoK00gKyAxKSArICcuMC4wJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Zygnbm8gcHInKVxuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICBpZiAobSA9PT0gJzAnKSB7XG4gICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnXG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWcoJ2NhcmV0IHJldHVybicsIHJldClcbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2VzIChjb21wLCBvcHRpb25zKSB7XG4gIGRlYnVnKCdyZXBsYWNlWFJhbmdlcycsIGNvbXAsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VYUmFuZ2UoY29tcCwgb3B0aW9ucylcbiAgfSkuam9pbignICcpXG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VYUmFuZ2UgKGNvbXAsIG9wdGlvbnMpIHtcbiAgY29tcCA9IGNvbXAudHJpbSgpXG4gIHZhciByID0gb3B0aW9ucy5sb29zZSA/IHJlW1hSQU5HRUxPT1NFXSA6IHJlW1hSQU5HRV1cbiAgcmV0dXJuIGNvbXAucmVwbGFjZShyLCBmdW5jdGlvbiAocmV0LCBndGx0LCBNLCBtLCBwLCBwcikge1xuICAgIGRlYnVnKCd4UmFuZ2UnLCBjb21wLCByZXQsIGd0bHQsIE0sIG0sIHAsIHByKVxuICAgIHZhciB4TSA9IGlzWChNKVxuICAgIHZhciB4bSA9IHhNIHx8IGlzWChtKVxuICAgIHZhciB4cCA9IHhtIHx8IGlzWChwKVxuICAgIHZhciBhbnlYID0geHBcblxuICAgIGlmIChndGx0ID09PSAnPScgJiYgYW55WCkge1xuICAgICAgZ3RsdCA9ICcnXG4gICAgfVxuXG4gICAgaWYgKHhNKSB7XG4gICAgICBpZiAoZ3RsdCA9PT0gJz4nIHx8IGd0bHQgPT09ICc8Jykge1xuICAgICAgICAvLyBub3RoaW5nIGlzIGFsbG93ZWRcbiAgICAgICAgcmV0ID0gJzwwLjAuMCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vdGhpbmcgaXMgZm9yYmlkZGVuXG4gICAgICAgIHJldCA9ICcqJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBhbnlYKSB7XG4gICAgICAvLyB3ZSBrbm93IHBhdGNoIGlzIGFuIHgsIGJlY2F1c2Ugd2UgaGF2ZSBhbnkgeCBhdCBhbGwuXG4gICAgICAvLyByZXBsYWNlIFggd2l0aCAwXG4gICAgICBpZiAoeG0pIHtcbiAgICAgICAgbSA9IDBcbiAgICAgIH1cbiAgICAgIHAgPSAwXG5cbiAgICAgIGlmIChndGx0ID09PSAnPicpIHtcbiAgICAgICAgLy8gPjEgPT4gPj0yLjAuMFxuICAgICAgICAvLyA+MS4yID0+ID49MS4zLjBcbiAgICAgICAgLy8gPjEuMi4zID0+ID49IDEuMi40XG4gICAgICAgIGd0bHQgPSAnPj0nXG4gICAgICAgIGlmICh4bSkge1xuICAgICAgICAgIE0gPSArTSArIDFcbiAgICAgICAgICBtID0gMFxuICAgICAgICAgIHAgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbSA9ICttICsgMVxuICAgICAgICAgIHAgPSAwXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ3RsdCA9PT0gJzw9Jykge1xuICAgICAgICAvLyA8PTAuNy54IGlzIGFjdHVhbGx5IDwwLjguMCwgc2luY2UgYW55IDAuNy54IHNob3VsZFxuICAgICAgICAvLyBwYXNzLiAgU2ltaWxhcmx5LCA8PTcueCBpcyBhY3R1YWxseSA8OC4wLjAsIGV0Yy5cbiAgICAgICAgZ3RsdCA9ICc8J1xuICAgICAgICBpZiAoeG0pIHtcbiAgICAgICAgICBNID0gK00gKyAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbSA9ICttICsgMVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IGd0bHQgKyBNICsgJy4nICsgbSArICcuJyArIHBcbiAgICB9IGVsc2UgaWYgKHhtKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCdcbiAgICB9IGVsc2UgaWYgKHhwKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnXG4gICAgfVxuXG4gICAgZGVidWcoJ3hSYW5nZSByZXR1cm4nLCByZXQpXG5cbiAgICByZXR1cm4gcmV0XG4gIH0pXG59XG5cbi8vIEJlY2F1c2UgKiBpcyBBTkQtZWQgd2l0aCBldmVyeXRoaW5nIGVsc2UgaW4gdGhlIGNvbXBhcmF0b3IsXG4vLyBhbmQgJycgbWVhbnMgXCJhbnkgdmVyc2lvblwiLCBqdXN0IHJlbW92ZSB0aGUgKnMgZW50aXJlbHkuXG5mdW5jdGlvbiByZXBsYWNlU3RhcnMgKGNvbXAsIG9wdGlvbnMpIHtcbiAgZGVidWcoJ3JlcGxhY2VTdGFycycsIGNvbXAsIG9wdGlvbnMpXG4gIC8vIExvb3NlbmVzcyBpcyBpZ25vcmVkIGhlcmUuICBzdGFyIGlzIGFsd2F5cyBhcyBsb29zZSBhcyBpdCBnZXRzIVxuICByZXR1cm4gY29tcC50cmltKCkucmVwbGFjZShyZVtTVEFSXSwgJycpXG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIHRvIHN0cmluZy5yZXBsYWNlKHJlW0hZUEhFTlJBTkdFXSlcbi8vIE0sIG0sIHBhdGNoLCBwcmVyZWxlYXNlLCBidWlsZFxuLy8gMS4yIC0gMy40LjUgPT4gPj0xLjIuMCA8PTMuNC41XG4vLyAxLjIuMyAtIDMuNCA9PiA+PTEuMi4wIDwzLjUuMCBBbnkgMy40Lnggd2lsbCBkb1xuLy8gMS4yIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wXG5mdW5jdGlvbiBoeXBoZW5SZXBsYWNlICgkMCxcbiAgZnJvbSwgZk0sIGZtLCBmcCwgZnByLCBmYixcbiAgdG8sIHRNLCB0bSwgdHAsIHRwciwgdGIpIHtcbiAgaWYgKGlzWChmTSkpIHtcbiAgICBmcm9tID0gJydcbiAgfSBlbHNlIGlmIChpc1goZm0pKSB7XG4gICAgZnJvbSA9ICc+PScgKyBmTSArICcuMC4wJ1xuICB9IGVsc2UgaWYgKGlzWChmcCkpIHtcbiAgICBmcm9tID0gJz49JyArIGZNICsgJy4nICsgZm0gKyAnLjAnXG4gIH0gZWxzZSB7XG4gICAgZnJvbSA9ICc+PScgKyBmcm9tXG4gIH1cblxuICBpZiAoaXNYKHRNKSkge1xuICAgIHRvID0gJydcbiAgfSBlbHNlIGlmIChpc1godG0pKSB7XG4gICAgdG8gPSAnPCcgKyAoK3RNICsgMSkgKyAnLjAuMCdcbiAgfSBlbHNlIGlmIChpc1godHApKSB7XG4gICAgdG8gPSAnPCcgKyB0TSArICcuJyArICgrdG0gKyAxKSArICcuMCdcbiAgfSBlbHNlIGlmICh0cHIpIHtcbiAgICB0byA9ICc8PScgKyB0TSArICcuJyArIHRtICsgJy4nICsgdHAgKyAnLScgKyB0cHJcbiAgfSBlbHNlIHtcbiAgICB0byA9ICc8PScgKyB0b1xuICB9XG5cbiAgcmV0dXJuIChmcm9tICsgJyAnICsgdG8pLnRyaW0oKVxufVxuXG4vLyBpZiBBTlkgb2YgdGhlIHNldHMgbWF0Y2ggQUxMIG9mIGl0cyBjb21wYXJhdG9ycywgdGhlbiBwYXNzXG5SYW5nZS5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMub3B0aW9ucylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGVzdFNldCh0aGlzLnNldFtpXSwgdmVyc2lvbiwgdGhpcy5vcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHRlc3RTZXQgKHNldCwgdmVyc2lvbiwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgIGlmICghc2V0W2ldLnRlc3QodmVyc2lvbikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGlmICh2ZXJzaW9uLnByZXJlbGVhc2UubGVuZ3RoICYmICFvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7XG4gICAgLy8gRmluZCB0aGUgc2V0IG9mIHZlcnNpb25zIHRoYXQgYXJlIGFsbG93ZWQgdG8gaGF2ZSBwcmVyZWxlYXNlc1xuICAgIC8vIEZvciBleGFtcGxlLCBeMS4yLjMtcHIuMSBkZXN1Z2FycyB0byA+PTEuMi4zLXByLjEgPDIuMC4wXG4gICAgLy8gVGhhdCBzaG91bGQgYWxsb3cgYDEuMi4zLXByLjJgIHRvIHBhc3MuXG4gICAgLy8gSG93ZXZlciwgYDEuMi40LWFscGhhLm5vdHJlYWR5YCBzaG91bGQgTk9UIGJlIGFsbG93ZWQsXG4gICAgLy8gZXZlbiB0aG91Z2ggaXQncyB3aXRoaW4gdGhlIHJhbmdlIHNldCBieSB0aGUgY29tcGFyYXRvcnMuXG4gICAgZm9yIChpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgZGVidWcoc2V0W2ldLnNlbXZlcilcbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyID09PSBBTlkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKHNldFtpXS5zZW12ZXIucHJlcmVsZWFzZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBhbGxvd2VkID0gc2V0W2ldLnNlbXZlclxuICAgICAgICBpZiAoYWxsb3dlZC5tYWpvciA9PT0gdmVyc2lvbi5tYWpvciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5taW5vciA9PT0gdmVyc2lvbi5taW5vciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5wYXRjaCA9PT0gdmVyc2lvbi5wYXRjaCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydHMuc2F0aXNmaWVzID0gc2F0aXNmaWVzXG5mdW5jdGlvbiBzYXRpc2ZpZXMgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHRyeSB7XG4gICAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbilcbn1cblxuZXhwb3J0cy5tYXhTYXRpc2Z5aW5nID0gbWF4U2F0aXNmeWluZ1xuZnVuY3Rpb24gbWF4U2F0aXNmeWluZyAodmVyc2lvbnMsIHJhbmdlLCBvcHRpb25zKSB7XG4gIHZhciBtYXggPSBudWxsXG4gIHZhciBtYXhTViA9IG51bGxcbiAgdHJ5IHtcbiAgICB2YXIgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgaWYgKHJhbmdlT2JqLnRlc3QodikpIHtcbiAgICAgIC8vIHNhdGlzZmllcyh2LCByYW5nZSwgb3B0aW9ucylcbiAgICAgIGlmICghbWF4IHx8IG1heFNWLmNvbXBhcmUodikgPT09IC0xKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWF4LCB2LCB0cnVlKVxuICAgICAgICBtYXggPSB2XG4gICAgICAgIG1heFNWID0gbmV3IFNlbVZlcihtYXgsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWF4XG59XG5cbmV4cG9ydHMubWluU2F0aXNmeWluZyA9IG1pblNhdGlzZnlpbmdcbmZ1bmN0aW9uIG1pblNhdGlzZnlpbmcgKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykge1xuICB2YXIgbWluID0gbnVsbFxuICB2YXIgbWluU1YgPSBudWxsXG4gIHRyeSB7XG4gICAgdmFyIHJhbmdlT2JqID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgIGlmIChyYW5nZU9iai50ZXN0KHYpKSB7XG4gICAgICAvLyBzYXRpc2ZpZXModiwgcmFuZ2UsIG9wdGlvbnMpXG4gICAgICBpZiAoIW1pbiB8fCBtaW5TVi5jb21wYXJlKHYpID09PSAxKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWluLCB2LCB0cnVlKVxuICAgICAgICBtaW4gPSB2XG4gICAgICAgIG1pblNWID0gbmV3IFNlbVZlcihtaW4sIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWluXG59XG5cbmV4cG9ydHMubWluVmVyc2lvbiA9IG1pblZlcnNpb25cbmZ1bmN0aW9uIG1pblZlcnNpb24gKHJhbmdlLCBsb29zZSkge1xuICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgbG9vc2UpXG5cbiAgdmFyIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wJylcbiAgaWYgKHJhbmdlLnRlc3QobWludmVyKSkge1xuICAgIHJldHVybiBtaW52ZXJcbiAgfVxuXG4gIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wLTAnKVxuICBpZiAocmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgbWludmVyID0gbnVsbFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlLnNldC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBjb21wYXJhdG9ycyA9IHJhbmdlLnNldFtpXVxuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgICAgLy8gQ2xvbmUgdG8gYXZvaWQgbWFuaXB1bGF0aW5nIHRoZSBjb21wYXJhdG9yJ3Mgc2VtdmVyIG9iamVjdC5cbiAgICAgIHZhciBjb21wdmVyID0gbmV3IFNlbVZlcihjb21wYXJhdG9yLnNlbXZlci52ZXJzaW9uKVxuICAgICAgc3dpdGNoIChjb21wYXJhdG9yLm9wZXJhdG9yKSB7XG4gICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgIGlmIChjb21wdmVyLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb21wdmVyLnBhdGNoKytcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcHZlci5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcHZlci5yYXcgPSBjb21wdmVyLmZvcm1hdCgpXG4gICAgICAgICAgLyogZmFsbHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICAgIGlmICghbWludmVyIHx8IGd0KG1pbnZlciwgY29tcHZlcikpIHtcbiAgICAgICAgICAgIG1pbnZlciA9IGNvbXB2ZXJcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAvKiBJZ25vcmUgbWF4aW11bSB2ZXJzaW9ucyAqL1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG9wZXJhdGlvbjogJyArIGNvbXBhcmF0b3Iub3BlcmF0b3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGlmIChtaW52ZXIgJiYgcmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0cy52YWxpZFJhbmdlID0gdmFsaWRSYW5nZVxuZnVuY3Rpb24gdmFsaWRSYW5nZSAocmFuZ2UsIG9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICAvLyBSZXR1cm4gJyonIGluc3RlYWQgb2YgJycgc28gdGhhdCB0cnV0aGluZXNzIHdvcmtzLlxuICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBpZiBpdCdzIGludmFsaWQgYW55d2F5XG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucykucmFuZ2UgfHwgJyonXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBEZXRlcm1pbmUgaWYgdmVyc2lvbiBpcyBsZXNzIHRoYW4gYWxsIHRoZSB2ZXJzaW9ucyBwb3NzaWJsZSBpbiB0aGUgcmFuZ2VcbmV4cG9ydHMubHRyID0gbHRyXG5mdW5jdGlvbiBsdHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPCcsIG9wdGlvbnMpXG59XG5cbi8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGdyZWF0ZXIgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZS5cbmV4cG9ydHMuZ3RyID0gZ3RyXG5mdW5jdGlvbiBndHIgKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPicsIG9wdGlvbnMpXG59XG5cbmV4cG9ydHMub3V0c2lkZSA9IG91dHNpZGVcbmZ1bmN0aW9uIG91dHNpZGUgKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBvcHRpb25zKSB7XG4gIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuXG4gIHZhciBndGZuLCBsdGVmbiwgbHRmbiwgY29tcCwgZWNvbXBcbiAgc3dpdGNoIChoaWxvKSB7XG4gICAgY2FzZSAnPic6XG4gICAgICBndGZuID0gZ3RcbiAgICAgIGx0ZWZuID0gbHRlXG4gICAgICBsdGZuID0gbHRcbiAgICAgIGNvbXAgPSAnPidcbiAgICAgIGVjb21wID0gJz49J1xuICAgICAgYnJlYWtcbiAgICBjYXNlICc8JzpcbiAgICAgIGd0Zm4gPSBsdFxuICAgICAgbHRlZm4gPSBndGVcbiAgICAgIGx0Zm4gPSBndFxuICAgICAgY29tcCA9ICc8J1xuICAgICAgZWNvbXAgPSAnPD0nXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiBcIjxcIiBvciBcIj5cIicpXG4gIH1cblxuICAvLyBJZiBpdCBzYXRpc2lmZXMgdGhlIHJhbmdlIGl0IGlzIG5vdCBvdXRzaWRlXG4gIGlmIChzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBGcm9tIG5vdyBvbiwgdmFyaWFibGUgdGVybXMgYXJlIGFzIGlmIHdlJ3JlIGluIFwiZ3RyXCIgbW9kZS5cbiAgLy8gYnV0IG5vdGUgdGhhdCBldmVyeXRoaW5nIGlzIGZsaXBwZWQgZm9yIHRoZSBcImx0clwiIGZ1bmN0aW9uLlxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldXG5cbiAgICB2YXIgaGlnaCA9IG51bGxcbiAgICB2YXIgbG93ID0gbnVsbFxuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgICAgaWYgKGNvbXBhcmF0b3Iuc2VtdmVyID09PSBBTlkpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IG5ldyBDb21wYXJhdG9yKCc+PTAuMC4wJylcbiAgICAgIH1cbiAgICAgIGhpZ2ggPSBoaWdoIHx8IGNvbXBhcmF0b3JcbiAgICAgIGxvdyA9IGxvdyB8fCBjb21wYXJhdG9yXG4gICAgICBpZiAoZ3Rmbihjb21wYXJhdG9yLnNlbXZlciwgaGlnaC5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGhpZ2ggPSBjb21wYXJhdG9yXG4gICAgICB9IGVsc2UgaWYgKGx0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGxvdy5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGxvdyA9IGNvbXBhcmF0b3JcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb25cbiAgICAvLyBpc24ndCBvdXRzaWRlIGl0XG4gICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsb3dlc3QgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhbiBvcGVyYXRvciBhbmQgb3VyIHZlcnNpb25cbiAgICAvLyBpcyBsZXNzIHRoYW4gaXQgdGhlbiBpdCBpc24ndCBoaWdoZXIgdGhhbiB0aGUgcmFuZ2VcbiAgICBpZiAoKCFsb3cub3BlcmF0b3IgfHwgbG93Lm9wZXJhdG9yID09PSBjb21wKSAmJlxuICAgICAgICBsdGVmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIGlmIChsb3cub3BlcmF0b3IgPT09IGVjb21wICYmIGx0Zm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnRzLnByZXJlbGVhc2UgPSBwcmVyZWxlYXNlXG5mdW5jdGlvbiBwcmVyZWxlYXNlICh2ZXJzaW9uLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZSh2ZXJzaW9uLCBvcHRpb25zKVxuICByZXR1cm4gKHBhcnNlZCAmJiBwYXJzZWQucHJlcmVsZWFzZS5sZW5ndGgpID8gcGFyc2VkLnByZXJlbGVhc2UgOiBudWxsXG59XG5cbmV4cG9ydHMuaW50ZXJzZWN0cyA9IGludGVyc2VjdHNcbmZ1bmN0aW9uIGludGVyc2VjdHMgKHIxLCByMiwgb3B0aW9ucykge1xuICByMSA9IG5ldyBSYW5nZShyMSwgb3B0aW9ucylcbiAgcjIgPSBuZXcgUmFuZ2UocjIsIG9wdGlvbnMpXG4gIHJldHVybiByMS5pbnRlcnNlY3RzKHIyKVxufVxuXG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZVxuZnVuY3Rpb24gY29lcmNlICh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgdmFyIG1hdGNoID0gdmVyc2lvbi5tYXRjaChyZVtDT0VSQ0VdKVxuXG4gIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBwYXJzZShtYXRjaFsxXSArXG4gICAgJy4nICsgKG1hdGNoWzJdIHx8ICcwJykgK1xuICAgICcuJyArIChtYXRjaFszXSB8fCAnMCcpKVxufVxuIiwidmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xudmFyIHRyYW5zbGF0ZSA9IHJlcXVpcmUoJy4vdHJhbnNsYXRlLmpzJyk7XG52YXIgcmVxdWlyZUZyb21TdHJpbmcgPSByZXF1aXJlKCdyZXF1aXJlLWZyb20tc3RyaW5nJyk7XG52YXIgaHR0cHMgPSByZXF1aXJlKCdmb2xsb3ctcmVkaXJlY3RzJykuaHR0cHM7XG52YXIgTWVtb3J5U3RyZWFtID0gcmVxdWlyZSgnbWVtb3J5c3RyZWFtJyk7XG52YXIgc2VtdmVyID0gcmVxdWlyZSgnc2VtdmVyJyk7XG5cbmZ1bmN0aW9uIHNldHVwTWV0aG9kcyAoc29sanNvbikge1xuICB2YXIgdmVyc2lvbjtcbiAgaWYgKCdfc29saWRpdHlfdmVyc2lvbicgaW4gc29sanNvbikge1xuICAgIHZlcnNpb24gPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV92ZXJzaW9uJywgJ3N0cmluZycsIFtdKTtcbiAgfSBlbHNlIHtcbiAgICB2ZXJzaW9uID0gc29sanNvbi5jd3JhcCgndmVyc2lvbicsICdzdHJpbmcnLCBbXSk7XG4gIH1cblxuICB2YXIgdmVyc2lvblRvU2VtdmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cmFuc2xhdGUudmVyc2lvblRvU2VtdmVyKHZlcnNpb24oKSk7XG4gIH07XG5cbiAgdmFyIGlzVmVyc2lvbjYgPSBzZW12ZXIuZ3QodmVyc2lvblRvU2VtdmVyKCksICcwLjUuOTknKTtcblxuICB2YXIgbGljZW5zZTtcbiAgaWYgKCdfc29saWRpdHlfbGljZW5zZScgaW4gc29sanNvbikge1xuICAgIGxpY2Vuc2UgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9saWNlbnNlJywgJ3N0cmluZycsIFtdKTtcbiAgfSBlbHNlIGlmICgnX2xpY2Vuc2UnIGluIHNvbGpzb24pIHtcbiAgICBsaWNlbnNlID0gc29sanNvbi5jd3JhcCgnbGljZW5zZScsICdzdHJpbmcnLCBbXSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcHJlIDAuNC4xNFxuICAgIGxpY2Vuc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyByZXR1cm4gdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxvYztcbiAgaWYgKCdfc29saWRpdHlfYWxsb2MnIGluIHNvbGpzb24pIHtcbiAgICBhbGxvYyA9IHNvbGpzb24uY3dyYXAoJ3NvbGlkaXR5X2FsbG9jJywgJ251bWJlcicsIFsgJ251bWJlcicgXSk7XG4gIH0gZWxzZSB7XG4gICAgYWxsb2MgPSBzb2xqc29uLl9tYWxsb2M7XG4gICAgYXNzZXJ0KGFsbG9jLCAnRXhwZWN0ZWQgbWFsbG9jIHRvIGJlIHByZXNlbnQuJyk7XG4gIH1cblxuICB2YXIgcmVzZXQ7XG4gIGlmICgnX3NvbGlkaXR5X3Jlc2V0JyBpbiBzb2xqc29uKSB7XG4gICAgcmVzZXQgPSBzb2xqc29uLmN3cmFwKCdzb2xpZGl0eV9yZXNldCcsIG51bGwsIFtdKTtcbiAgfVxuXG4gIHZhciBjb3B5VG9DU3RyaW5nID0gZnVuY3Rpb24gKHN0ciwgcHRyKSB7XG4gICAgdmFyIGxlbmd0aCA9IHNvbGpzb24ubGVuZ3RoQnl0ZXNVVEY4KHN0cik7XG4gICAgLy8gVGhpcyBpcyBhbGxvY2F0aW5nIG1lbW9yeSB1c2luZyBzb2xjJ3MgYWxsb2NhdG9yLlxuICAgIC8vXG4gICAgLy8gQmVmb3JlIDAuNi4wOlxuICAgIC8vICAgQXNzdW1pbmcgY29weVRvQ1N0cmluZyBpcyBvbmx5IHVzZWQgaW4gdGhlIGNvbnRleHQgb2Ygd3JhcENhbGxiYWNrLCBzb2xjIHdpbGwgZnJlZSB0aGVzZSBwb2ludGVycy5cbiAgICAvLyAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vc29saWRpdHkvYmxvYi92MC41LjEzL2xpYnNvbGMvbGlic29sYy5oI0wzNy1MNDBcbiAgICAvL1xuICAgIC8vIEFmdGVyIDAuNi4wOlxuICAgIC8vICAgVGhlIGR1dHkgaXMgb24gc29sYy1qcyB0byBmcmVlIHRoZXNlIHBvaW50ZXJzLiBXZSBhY2NvbXBsaXNoIHRoYXQgYnkgY2FsbGluZyBgcmVzZXRgIGF0IHRoZSBlbmQuXG4gICAgdmFyIGJ1ZmZlciA9IGFsbG9jKGxlbmd0aCArIDEpO1xuICAgIHNvbGpzb24uc3RyaW5nVG9VVEY4KHN0ciwgYnVmZmVyLCBsZW5ndGggKyAxKTtcbiAgICBzb2xqc29uLnNldFZhbHVlKHB0ciwgYnVmZmVyLCAnKicpO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBFbXNjcmlwdGVuLlxuICAvLyBUYWtlIGEgc2luZ2xlIGBwdHJgIGFuZCByZXR1cm5zIGEgYHN0cmAuXG4gIHZhciBjb3B5RnJvbUNTdHJpbmcgPSBzb2xqc29uLlVURjhUb1N0cmluZyB8fCBzb2xqc29uLlBvaW50ZXJfc3RyaW5naWZ5O1xuXG4gIHZhciB3cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBhc3NlcnQodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAnSW52YWxpZCBjYWxsYmFjayBzcGVjaWZpZWQuJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhLCBjb250ZW50cywgZXJyb3IpIHtcbiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhjb3B5RnJvbUNTdHJpbmcoZGF0YSkpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciB3cmFwQ2FsbGJhY2tXaXRoS2luZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGFzc2VydCh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsICdJbnZhbGlkIGNhbGxiYWNrIHNwZWNpZmllZC4nKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQsIGtpbmQsIGRhdGEsIGNvbnRlbnRzLCBlcnJvcikge1xuICAgICAgLy8gTXVzdCBiZSBhIG51bGwgcG9pbnRlci5cbiAgICAgIGFzc2VydChjb250ZXh0ID09PSAwLCAnQ2FsbGJhY2sgY29udGV4dCBtdXN0IGJlIG51bGwuJyk7XG4gICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soY29weUZyb21DU3RyaW5nKGtpbmQpLCBjb3B5RnJvbUNTdHJpbmcoZGF0YSkpO1xuICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY29udGVudHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvcHlUb0NTdHJpbmcocmVzdWx0LmNvbnRlbnRzLCBjb250ZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5lcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29weVRvQ1N0cmluZyhyZXN1bHQuZXJyb3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFRoaXMgY2FsbHMgY29tcGlsZSgpIHdpdGggYXJncyB8fCBjYlxuICB2YXIgcnVuV2l0aENhbGxiYWNrcyA9IGZ1bmN0aW9uIChjYWxsYmFja3MsIGNvbXBpbGUsIGFyZ3MpIHtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICBhc3NlcnQodHlwZW9mIGNhbGxiYWNrcyA9PT0gJ29iamVjdCcsICdJbnZhbGlkIGNhbGxiYWNrIG9iamVjdCBzcGVjaWZpZWQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrcyA9IHt9O1xuICAgIH1cblxuICAgIHZhciByZWFkQ2FsbGJhY2sgPSBjYWxsYmFja3MuaW1wb3J0O1xuICAgIGlmIChyZWFkQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVhZENhbGxiYWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlcnJvcjogJ0ZpbGUgaW1wb3J0IGNhbGxiYWNrIG5vdCBzdXBwb3J0ZWQnXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzaW5nbGVDYWxsYmFjaztcbiAgICBpZiAoaXNWZXJzaW9uNikge1xuICAgICAgLy8gQWZ0ZXIgMC42LnggbXVsdGlwbGUga2luZCBvZiBjYWxsYmFja3MgYXJlIHN1cHBvcnRlZC5cbiAgICAgIHZhciBzbXRTb2x2ZXJDYWxsYmFjayA9IGNhbGxiYWNrcy5zbXRTb2x2ZXI7XG4gICAgICBpZiAoc210U29sdmVyQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbXRTb2x2ZXJDYWxsYmFjayA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiAnU01UIHNvbHZlciBjYWxsYmFjayBub3Qgc3VwcG9ydGVkJ1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHNpbmdsZUNhbGxiYWNrID0gZnVuY3Rpb24gKGtpbmQsIGRhdGEpIHtcbiAgICAgICAgaWYgKGtpbmQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlYWRDYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAnc210LXF1ZXJ5Jykge1xuICAgICAgICAgIHJldHVybiBzbXRTb2x2ZXJDYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnQoZmFsc2UsICdJbnZhbGlkIGNhbGxiYWNrIGtpbmQgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzaW5nbGVDYWxsYmFjayA9IHdyYXBDYWxsYmFja1dpdGhLaW5kKHNpbmdsZUNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2xkIFNvbGlkaXR5IHZlcnNpb24gb25seSBzdXBwb3J0ZWQgaW1wb3J0cy5cbiAgICAgIHNpbmdsZUNhbGxiYWNrID0gd3JhcENhbGxiYWNrKHJlYWRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IG11bHRpcGxlIHZlcnNpb25zIG9mIEVtc2NyaXB0ZW4uXG4gICAgdmFyIGFkZEZ1bmN0aW9uID0gc29sanNvbi5hZGRGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUuYWRkRnVuY3Rpb247XG4gICAgdmFyIHJlbW92ZUZ1bmN0aW9uID0gc29sanNvbi5yZW1vdmVGdW5jdGlvbiB8fCBzb2xqc29uLlJ1bnRpbWUucmVtb3ZlRnVuY3Rpb247XG5cbiAgICB2YXIgY2IgPSBhZGRGdW5jdGlvbihzaW5nbGVDYWxsYmFjaywgJ3ZpaWlpaScpO1xuICAgIHZhciBvdXRwdXQ7XG4gICAgdHJ5IHtcbiAgICAgIGFyZ3MucHVzaChjYik7XG4gICAgICBpZiAoaXNWZXJzaW9uNikge1xuICAgICAgICAvLyBDYWxsYmFjayBjb250ZXh0LlxuICAgICAgICBhcmdzLnB1c2gobnVsbCk7XG4gICAgICB9XG4gICAgICBvdXRwdXQgPSBjb21waWxlLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVtb3ZlRnVuY3Rpb24oY2IpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmVtb3ZlRnVuY3Rpb24oY2IpO1xuICAgIGlmIChyZXNldCkge1xuICAgICAgLy8gRXhwbGljaXRseSBmcmVlIG1lbW9yeS5cbiAgICAgIC8vXG4gICAgICAvLyBOT1RFOiBjd3JhcCgpIG9mIFwiY29tcGlsZVwiIHdpbGwgY29weSB0aGUgcmV0dXJuZWQgcG9pbnRlciBpbnRvIGFcbiAgICAgIC8vICAgICAgIEphdmFzY3JpcHQgc3RyaW5nIGFuZCBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBmcmVlKCkgb24gaXQuXG4gICAgICAvLyAgICAgICByZXNldCgpIGhvd2V2ZXIgd2lsbCBjbGVhciB1cCBhbGwgYWxsb2NhdGlvbnMuXG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBjb21waWxlSlNPTiA9IG51bGw7XG4gIGlmICgnX2NvbXBpbGVKU09OJyBpbiBzb2xqc29uKSB7XG4gICAgLy8gaW5wdXQgKHRleHQpLCBvcHRpbWl6ZSAoYm9vbCkgLT4gb3V0cHV0IChqc29udGV4dClcbiAgICBjb21waWxlSlNPTiA9IHNvbGpzb24uY3dyYXAoJ2NvbXBpbGVKU09OJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgfVxuXG4gIHZhciBjb21waWxlSlNPTk11bHRpID0gbnVsbDtcbiAgaWYgKCdfY29tcGlsZUpTT05NdWx0aScgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgIGNvbXBpbGVKU09OTXVsdGkgPSBzb2xqc29uLmN3cmFwKCdjb21waWxlSlNPTk11bHRpJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgfVxuXG4gIHZhciBjb21waWxlSlNPTkNhbGxiYWNrID0gbnVsbDtcbiAgaWYgKCdfY29tcGlsZUpTT05DYWxsYmFjaycgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIG9wdGltaXplIChib29sKSwgY2FsbGJhY2sgKHB0cikgLT4gb3V0cHV0IChqc29udGV4dClcbiAgICB2YXIgY29tcGlsZUludGVybmFsID0gc29sanNvbi5jd3JhcCgnY29tcGlsZUpTT05DYWxsYmFjaycsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInLCAnbnVtYmVyJ10pO1xuICAgIGNvbXBpbGVKU09OQ2FsbGJhY2sgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGltaXplLCByZWFkQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBydW5XaXRoQ2FsbGJhY2tzKHJlYWRDYWxsYmFjaywgY29tcGlsZUludGVybmFsLCBbIGlucHV0LCBvcHRpbWl6ZSBdKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGNvbXBpbGVTdGFuZGFyZCA9IG51bGw7XG4gIGlmICgnX2NvbXBpbGVTdGFuZGFyZCcgaW4gc29sanNvbikge1xuICAgIC8vIGlucHV0IChqc29udGV4dCksIGNhbGxiYWNrIChwdHIpIC0+IG91dHB1dCAoanNvbnRleHQpXG4gICAgdmFyIGNvbXBpbGVTdGFuZGFyZEludGVybmFsID0gc29sanNvbi5jd3JhcCgnY29tcGlsZVN0YW5kYXJkJywgJ3N0cmluZycsIFsnc3RyaW5nJywgJ251bWJlciddKTtcbiAgICBjb21waWxlU3RhbmRhcmQgPSBmdW5jdGlvbiAoaW5wdXQsIHJlYWRDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHJ1bldpdGhDYWxsYmFja3MocmVhZENhbGxiYWNrLCBjb21waWxlU3RhbmRhcmRJbnRlcm5hbCwgWyBpbnB1dCBdKTtcbiAgICB9O1xuICB9XG4gIGlmICgnX3NvbGlkaXR5X2NvbXBpbGUnIGluIHNvbGpzb24pIHtcbiAgICB2YXIgc29saWRpdHlDb21waWxlO1xuICAgIGlmIChpc1ZlcnNpb242KSB7XG4gICAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBjYWxsYmFjayAocHRyKSwgY2FsbGJhY2tfY29udGV4dCAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgICAgc29saWRpdHlDb21waWxlID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfY29tcGlsZScsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInLCAnbnVtYmVyJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnB1dCAoanNvbnRleHQpLCBjYWxsYmFjayAocHRyKSAtPiBvdXRwdXQgKGpzb250ZXh0KVxuICAgICAgc29saWRpdHlDb21waWxlID0gc29sanNvbi5jd3JhcCgnc29saWRpdHlfY29tcGlsZScsICdzdHJpbmcnLCBbJ3N0cmluZycsICdudW1iZXInXSk7XG4gICAgfVxuICAgIGNvbXBpbGVTdGFuZGFyZCA9IGZ1bmN0aW9uIChpbnB1dCwgY2FsbGJhY2tzKSB7XG4gICAgICByZXR1cm4gcnVuV2l0aENhbGxiYWNrcyhjYWxsYmFja3MsIHNvbGlkaXR5Q29tcGlsZSwgWyBpbnB1dCBdKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gRXhwZWN0cyBhIFN0YW5kYXJkIEpTT04gSS9PIGJ1dCBzdXBwb3J0cyBvbGQgY29tcGlsZXJzXG4gIHZhciBjb21waWxlU3RhbmRhcmRXcmFwcGVyID0gZnVuY3Rpb24gKGlucHV0LCByZWFkQ2FsbGJhY2spIHtcbiAgICBpZiAoY29tcGlsZVN0YW5kYXJkICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29tcGlsZVN0YW5kYXJkKGlucHV0LCByZWFkQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdEZhdGFsRXJyb3IgKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICd0eXBlJzogJ0pTT05FcnJvcicsXG4gICAgICAgICAgICAnY29tcG9uZW50JzogJ3NvbGNqcycsXG4gICAgICAgICAgICAnc2V2ZXJpdHknOiAnZXJyb3InLFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiBtZXNzYWdlLFxuICAgICAgICAgICAgJ2Zvcm1hdHRlZE1lc3NhZ2UnOiAnRXJyb3I6ICcgKyBtZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaW5wdXQgPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignSW52YWxpZCBKU09OIHN1cHBsaWVkOiAnICsgZS5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRbJ2xhbmd1YWdlJ10gIT09ICdTb2xpZGl0eScpIHtcbiAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdPbmx5IFwiU29saWRpdHlcIiBpcyBzdXBwb3J0ZWQgYXMgYSBsYW5ndWFnZS4nKTtcbiAgICB9XG5cbiAgICAvLyBOT1RFOiB0aGlzIGlzIGRlbGliZXJhdGVseSBgPT0gbnVsbGBcbiAgICBpZiAoaW5wdXRbJ3NvdXJjZXMnXSA9PSBudWxsIHx8IGlucHV0Wydzb3VyY2VzJ10ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignTm8gaW5wdXQgc291cmNlcyBzcGVjaWZpZWQuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPcHRpbWl6ZXJFbmFibGVkIChpbnB1dCkge1xuICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddICYmIGlucHV0WydzZXR0aW5ncyddWydvcHRpbWl6ZXInXSAmJiBpbnB1dFsnc2V0dGluZ3MnXVsnb3B0aW1pemVyJ11bJ2VuYWJsZWQnXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVTb3VyY2VzIChpbnB1dCkge1xuICAgICAgdmFyIHNvdXJjZXMgPSB7fTtcbiAgICAgIGZvciAodmFyIHNvdXJjZSBpbiBpbnB1dFsnc291cmNlcyddKSB7XG4gICAgICAgIGlmIChpbnB1dFsnc291cmNlcyddW3NvdXJjZV1bJ2NvbnRlbnQnXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZXNbc291cmNlXSA9IGlucHV0Wydzb3VyY2VzJ11bc291cmNlXVsnY29udGVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGZvcmNlIGZhaWx1cmVcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNvdXJjZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlicmFyaWVzU3VwcGxpZWQgKGlucHV0KSB7XG4gICAgICBpZiAoaW5wdXRbJ3NldHRpbmdzJ10pIHtcbiAgICAgICAgcmV0dXJuIGlucHV0WydzZXR0aW5ncyddWydsaWJyYXJpZXMnXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVPdXRwdXQgKG91dHB1dCwgbGlicmFyaWVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvdXRwdXQgPSBKU09OLnBhcnNlKG91dHB1dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdDb21waWxlciByZXR1cm5lZCBpbnZhbGlkIEpTT046ICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgb3V0cHV0ID0gdHJhbnNsYXRlLnRyYW5zbGF0ZUpzb25Db21waWxlck91dHB1dChvdXRwdXQsIGxpYnJhcmllcyk7XG4gICAgICBpZiAob3V0cHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEZhdGFsRXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIG91dHB1dC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VzID0gdHJhbnNsYXRlU291cmNlcyhpbnB1dCk7XG4gICAgaWYgKHNvdXJjZXMgPT09IG51bGwgfHwgT2JqZWN0LmtleXMoc291cmNlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignRmFpbGVkIHRvIHByb2Nlc3Mgc291cmNlcy4nKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgbGlua2luZyBpZiBsaWJyYXJpZXMgd2VyZSBzdXBwbGllZFxuICAgIHZhciBsaWJyYXJpZXMgPSBsaWJyYXJpZXNTdXBwbGllZChpbnB1dCk7XG5cbiAgICAvLyBUcnkgdG8gd3JhcCBhcm91bmQgb2xkIHZlcnNpb25zXG4gICAgaWYgKGNvbXBpbGVKU09OQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cmFuc2xhdGVPdXRwdXQoY29tcGlsZUpTT05DYWxsYmFjayhKU09OLnN0cmluZ2lmeSh7ICdzb3VyY2VzJzogc291cmNlcyB9KSwgaXNPcHRpbWl6ZXJFbmFibGVkKGlucHV0KSwgcmVhZENhbGxiYWNrKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICBpZiAoY29tcGlsZUpTT05NdWx0aSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZU91dHB1dChjb21waWxlSlNPTk11bHRpKEpTT04uc3RyaW5naWZ5KHsgJ3NvdXJjZXMnOiBzb3VyY2VzIH0pLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgb3VyIGx1Y2sgd2l0aCBhbiBhbmNpZW50IGNvbXBpbGVyXG4gICAgaWYgKGNvbXBpbGVKU09OICE9PSBudWxsKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlcykubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRGYXRhbEVycm9yKCdNdWx0aXBsZSBzb3VyY2VzIHByb3ZpZGVkLCBidXQgY29tcGlsZXIgb25seSBzdXBwb3J0cyBzaW5nbGUgaW5wdXQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNsYXRlT3V0cHV0KGNvbXBpbGVKU09OKHNvdXJjZXNbT2JqZWN0LmtleXMoc291cmNlcylbMF1dLCBpc09wdGltaXplckVuYWJsZWQoaW5wdXQpKSwgbGlicmFyaWVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0RmF0YWxFcnJvcignQ29tcGlsZXIgZG9lcyBub3Qgc3VwcG9ydCBhbnkga25vd24gaW50ZXJmYWNlLicpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICBzZW12ZXI6IHZlcnNpb25Ub1NlbXZlcixcbiAgICBsaWNlbnNlOiBsaWNlbnNlLFxuICAgIGxvd2xldmVsOiB7XG4gICAgICBjb21waWxlU2luZ2xlOiBjb21waWxlSlNPTixcbiAgICAgIGNvbXBpbGVNdWx0aTogY29tcGlsZUpTT05NdWx0aSxcbiAgICAgIGNvbXBpbGVDYWxsYmFjazogY29tcGlsZUpTT05DYWxsYmFjayxcbiAgICAgIGNvbXBpbGVTdGFuZGFyZDogY29tcGlsZVN0YW5kYXJkXG4gICAgfSxcbiAgICBmZWF0dXJlczoge1xuICAgICAgbGVnYWN5U2luZ2xlSW5wdXQ6IGNvbXBpbGVKU09OICE9PSBudWxsLFxuICAgICAgbXVsdGlwbGVJbnB1dHM6IGNvbXBpbGVKU09OTXVsdGkgIT09IG51bGwgfHwgY29tcGlsZVN0YW5kYXJkICE9PSBudWxsLFxuICAgICAgaW1wb3J0Q2FsbGJhY2s6IGNvbXBpbGVKU09OQ2FsbGJhY2sgIT09IG51bGwgfHwgY29tcGlsZVN0YW5kYXJkICE9PSBudWxsLFxuICAgICAgbmF0aXZlU3RhbmRhcmRKU09OOiBjb21waWxlU3RhbmRhcmQgIT09IG51bGxcbiAgICB9LFxuICAgIGNvbXBpbGU6IGNvbXBpbGVTdGFuZGFyZFdyYXBwZXIsXG4gICAgLy8gTG9hZHMgdGhlIGNvbXBpbGVyIG9mIHRoZSBnaXZlbiB2ZXJzaW9uIGZyb20gdGhlIGdpdGh1YiByZXBvc2l0b3J5XG4gICAgLy8gaW5zdGVhZCBvZiBmcm9tIHRoZSBsb2NhbCBmaWxlc3lzdGVtLlxuICAgIGxvYWRSZW1vdGVWZXJzaW9uOiBmdW5jdGlvbiAodmVyc2lvblN0cmluZywgY2IpIHtcbiAgICAgIHZhciBtZW0gPSBuZXcgTWVtb3J5U3RyZWFtKG51bGwsIHtyZWFkYWJsZTogZmFsc2V9KTtcbiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9iaW5hcmllcy5zb2xpZGl0eWxhbmcub3JnL2Jpbi9zb2xqc29uLScgKyB2ZXJzaW9uU3RyaW5nICsgJy5qcyc7XG4gICAgICBodHRwcy5nZXQodXJsLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgIGNiKG5ldyBFcnJvcignRXJyb3IgcmV0cmlldmluZyBiaW5hcnk6ICcgKyByZXNwb25zZS5zdGF0dXNNZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2UucGlwZShtZW0pO1xuICAgICAgICAgIHJlc3BvbnNlLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYihudWxsLCBzZXR1cE1ldGhvZHMocmVxdWlyZUZyb21TdHJpbmcobWVtLnRvU3RyaW5nKCksICdzb2xqc29uLScgKyB2ZXJzaW9uU3RyaW5nICsgJy5qcycpKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBjYihlcnJvcik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vIFVzZSB0aGlzIGlmIHlvdSB3YW50IHRvIGFkZCB3cmFwcGVyIGZ1bmN0aW9ucyBhcm91bmQgdGhlIHB1cmUgbW9kdWxlLlxuICAgIHNldHVwTWV0aG9kczogc2V0dXBNZXRob2RzXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXBNZXRob2RzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX3dyYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJzb2xjL3dyYXBwZXJcIikpO1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyogZ2xvYmFscyBpbXBvcnRTY3JpcHRzICovXG5pbXBvcnRTY3JpcHRzKFwiaHR0cHM6Ly9iaW5hcmllcy5zb2xpZGl0eWxhbmcub3JnL2Jpbi9zb2xqc29uLXYwLjguOStjb21taXQuZTVlZWQ2M2EuanNcIik7XG52YXIgY29tcGlsZXIgPSAoMCwgX3dyYXBwZXJbXCJkZWZhdWx0XCJdKShzZWxmLk1vZHVsZSk7XG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGF0YSA9IF9yZWYuZGF0YTtcblxuICBpZiAoJ2NvbXBpbGUnID09PSBkYXRhLnR5cGUpIHtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgIHBheWxvYWQ6IGNvbXBpbGVyLmNvbXBpbGUoZGF0YS5wYXlsb2FkKSxcbiAgICAgIHR5cGU6ICdjb21waWxlX3Jlc3VsdCdcbiAgICB9KTtcbiAgfVxufSk7XG5zZWxmLnBvc3RNZXNzYWdlKHtcbiAgdHlwZTogJ2xvYWRlZCdcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29saWRpdHlDb21waWxlci53b3JrZXIuanMubWFwIl0sIm5hbWVzIjpbInJlcXVpcmUkJDAiLCJpZWVlNzU0IiwicmVxdWlyZSQkMSIsImdsb2JhbCIsIm5vb3AiLCJvbmNlIiwiZm9ybWF0IiwiaW5zcGVjdCIsImlzRnVuY3Rpb24iLCJpc0FycmF5IiwiaGFzT3duUHJvcGVydHkiLCJCdWZmZXIiLCJpbmhlcml0cyIsIm9iamVjdEtleXMiLCJpc0J1ZmZlciIsImFzc2VydCIsInV0aWxJbnNwZWN0IiwibGlua2VyIiwidHJhbnNsYXRlIiwidGhpcyIsInBhcnNlIiwicXNQYXJzZSIsInRvQVNDSUkiLCJxc1N0cmluZ2lmeSIsImV2ZW50c01vZHVsZSIsImV2ZW50cyIsImxpc3RlbmVyQ291bnQiLCJidWZmZXIiLCJTdHJpbmdEZWNvZGVyIiwiZGVidWciLCJFdmVudEVtaXR0ZXIiLCJXcml0YWJsZSIsImNhcGFiaWxpdHkuaGFzRmV0Y2giLCJjYXBhYmlsaXR5Lm1vemNodW5rZWRhcnJheWJ1ZmZlciIsImNhcGFiaWxpdHkubXNzdHJlYW0iLCJjYXBhYmlsaXR5LmFycmF5YnVmZmVyIiwiY2FwYWJpbGl0eS52YkFycmF5IiwiY2FwYWJpbGl0eS5vdmVycmlkZU1pbWVUeXBlIiwiY2FwYWJpbGl0eS5ibG9iQ29uc3RydWN0b3IiLCJodHRwcyIsInJlcXVpcmUkJDMiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNSIsImZvbGxvd1JlZGlyZWN0c01vZHVsZSIsImZvbGxvd1JlZGlyZWN0cyIsInJlcXVpcmUkJDIiLCJNZW1vcnlTdHJlYW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Q0FBQSxTQUFTLHNCQUFzQixDQUFDLEdBQUcsRUFBRTtDQUNyQyxFQUFFLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHO0NBQ3ZDLElBQUksU0FBUyxFQUFFLEdBQUc7Q0FDbEIsR0FBRyxDQUFDO0NBQ0osQ0FBQztBQUNEO0NBQ0EsTUFBQSxDQUFBLE9BQUEsR0FBaUIsc0JBQXNCLEVBQUUsTUFBNEIsQ0FBQSxPQUFBLENBQUEsVUFBQSxHQUFBLElBQUksRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxH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LEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFDO0NBQ2xFLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFDO0NBQ2pDLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUM7Q0FDdkIsRUFBRSxJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztBQUM3RDtDQUNBLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDO0FBQ3pCO0NBQ0EsRUFBRSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssUUFBUSxFQUFFO0NBQzFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztDQUM1QixJQUFJLENBQUMsR0FBRyxLQUFJO0NBQ1osR0FBRyxNQUFNO0NBQ1QsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUM7Q0FDOUMsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtDQUMzQyxNQUFNLENBQUMsR0FBRTtDQUNULE1BQU0sQ0FBQyxJQUFJLEVBQUM7Q0FDWixLQUFLO0NBQ0wsSUFBSSxJQUFJLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxFQUFFO0NBQ3hCLE1BQU0sS0FBSyxJQUFJ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QUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtDQUN6QyxFQUFFLElBQUksVUFBVSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsVUFBVSxFQUFDO0NBQzNFLEVBQUUsSUFBSSxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxVQUFVLEVBQUM7Q0FDM0UsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Q0FDbEQsSUFBSSxNQUFNLElBQUksU0FBUztDQUN2QixNQUFNLHVFQUF1RTtDQUM3RSxLQUFLO0NBQ0wsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDO0FBQ3ZCO0NBQ0EsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTTtDQUNsQixFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFNO0FBQ2xCO0NBQ0EsRUFBRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRTtDQUN0RCxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtDQUN2QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFDO0NBQ2QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFD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Q0FDN0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsU0FBUyxZQUFZLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRTtDQUN6RSxFQUFFLE1BQU0sR0FBRyxNQUFNLEtBQUssRUFBQztDQUN2QixFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztBQUNwRDtDQUNBLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxTQUFTO0NBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7Q0FDNUIsS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUMzQixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDckIsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsU0FBUyxTQUFTLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUU7Q0FDL0UsRUFBRSxNQUFNLEdBQUcsTUFBTSxLQUFLLEVBQUM7Q0FDdkIsRUFBRSxVQUFVLEdBQUcsVUFBVSxLQUFLLEVBQUM7Q0FDL0IsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7QUFDN0Q7Q0FDQSxFQUFFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUM7Q0FDeEIsRUFBRSxJQUFJLEdBQUcsR0FBRyxFQUFDO0NBQ2IsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFDO0NBQ1gsRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLFVBQVUsS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUU7Q0FDN0MsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFHO0NBQ2pDLEdBQUc7Q0FDSCxFQUFFLEdBQUcsSUFBSSxLQUFJO0FBQ2I7Q0FDQSxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsRUFBQztBQUNwRDtDQUNBLEVBQUUsT0FBTyxHQUFHO0NBQ1osRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsU0FBUyxTQUFTLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUU7Q0FDL0UsRUFBRSxNQUFNLEdBQUcsTUFBTSxLQUFLLEVBQUM7Q0FDdkIsRUFBRSxVQUFVLEdBQUcsVUFBVSxLQUFLLEVBQUM7Q0FDL0IsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7QUFDN0Q7Q0FDQSxFQUFFLElBQUksQ0FBQyxHQUFHLFdBQVU7Q0FDcEIsRUFBRSxJQUFJLEdBQUcsR0FBRyxFQUFDO0NBQ2IsRUFBRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFDO0NBQzlCLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsRUFBRTtDQUNsQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBRztDQUNuQyxHQUFHO0NBQ0gsRUFBRSxHQUFHLElBQUksS0FBSTtBQUNiO0NBQ0EsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLEVBQUM7QUFDcEQ7Q0FDQSxFQUFFLE9BQU8sR0FBRztDQUNaLEVBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFNBQVMsUUFBUSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUU7Q0FDakUsRUFBRSxNQUFNLEdBQUcsTUFBTSxLQUFLLEVBQUM7Q0FDdkIsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7Q0FDcEQsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBQ25ELEVBQUUsUUFBUSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLEVBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFNBQVMsV0FBVyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUU7Q0FDdkUsRUFBRSxNQUFNLEdBQUcsTUFBTSxLQUFLLEVBQUM7Q0FDdkIsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7Q0FDcEQsRUFBRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUM7Q0FDbEQsRUFBRSxPQUFPLENBQUMsR0FBRyxHQUFHLE1BQU0sSUFBSSxHQUFHLEdBQUcsVUFBVSxHQUFHLEdBQUc7Q0FDaEQsRUFBQztBQUNEO0NBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsU0FBUyxXQUFXLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRTtDQUN2RSxFQUFFLE1BQU0sR0FBRyxNQUFNLEtBQUssRUFBQztDQUN2QixFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztDQUNwRCxFQUFFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQztDQUNsRCxFQUFFLE9BQU8sQ0FBQyxHQUFHLEdBQUcsTUFBTSxJQUFJLEdBQUcsR0FBRyxVQUFVLEdBQUcsR0FBRztDQUNoRCxFQUFDO0FBQ0Q7Q0FDQSxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxTQUFTLFdBQVcsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFO0NBQ3ZFLEVBQUUsTUFBTSxHQUFHLE1BQU0sS0FBSyxFQUFDO0NBQ3ZCLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFDO0FBQ3BEO0NBQ0EsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztDQUN0QixLQUFLLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQzNCLEtBQUssSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Q0FDNUIsS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUM1QixFQUFDO0FBQ0Q7Q0FDQSxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxTQUFTLFdBQVcsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFO0NBQ3ZFLEVBQUUsTUFBTSxHQUFHLE1BQU0sS0FBSyxFQUFDO0NBQ3ZCLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFDO0FBQ3BEO0NBQ0EsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7Q0FDNUIsS0FBSyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUM1QixLQUFLLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FB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QztDQUNuRCxFQUFFLElBQUksY0FBYyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7Q0FDakQsRUFBRSxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0NBQzdDLEVBQUUsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztDQUM3QixFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFVBQVU7Q0FDM0YsSUFBSSxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQztDQUMvRSxJQUFJLFVBQVUsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsS0FBSztDQUMzRSxJQUFJLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsVUFBVTtDQUNwRixJQUFJLFVBQVUsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUN0RixFQUFFLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7Q0FDbEMsRUFBRSxJQUFJLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztDQUM5QixFQUFFLElBQUksWUFBWSxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0NBQ3pFLEVBQUUsSUFBSSxjQUFjLEdBQUc7Q0FDdkIsSUFBSSxLQUFLLEVBQUUsR0FBRztDQUNkLElBQUksS0FBSyxFQUFFLEdBQUc7Q0FDZCxHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxJQUFJLENBQUMsa0JBQWtCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFO0NBQ2pELElBQUksS0FBSyxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtDQUNuQyxNQUFNLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGdCQUFnQixDQUFDO0NBQ3RFLEtBQUssQ0FBQztDQUNOLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxZQUFZLEtBQUssSUFBSSxDQUFDLCtCQUErQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0NBQ3JGLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxVQUFVLEdBQUcsRUFBRTtDQUN4QyxNQUFNLE9BQU8sT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEtBQUssV0FBVyxDQUFDO0NBQzdGLEtBQUssQ0FBQztDQUNOLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxrQkFBa0IsR0FBRyxVQUFVLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFO0NBQ2hFLElBQUksT0FBTyxVQUFVLE9BQU8sRUFBRTtDQUM5QixNQUFNLE9BQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztDQUMzRSxLQUFLLENBQUM7Q0FDTixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSx1QkFBdUIsR0FBRyxVQUFVLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFO0NBQ3JFLElBQUksT0FBTyxVQUFVLE9BQU8sRUFBRSxVQUFVLEVBQUU7Q0FDMUMsTUFBTSxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7Q0FDakYsS0FBSyxDQUFDO0NBQ04sR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksd0JBQXdCLEdBQUcsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRTtDQUN0RSxJQUFJLE9BQU8sVUFBVSxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7Q0FDaEQsTUFBTSxPQUFPLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7Q0FDdEYsS0FBSyxDQUFDO0NBQ04sR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksc0JBQXNCLEdBQUcsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRTtDQUNwRSxJQUFJLE9BQU8sVUFBVSxHQUFHLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUU7Q0FDbEQsTUFBTSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7Q0FDdEYsS0FBSyxDQUFDO0NBQ04sR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksbUJBQW1CLEdBQUcsVUFBVSxNQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7Q0FDM0UsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtDQUNsRCxNQUFNLElBQUksSUFBSSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNqQyxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztDQUN2RCxLQUFLO0NBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztDQUNsQixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxZQUFZLEdBQUcsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0NBQzlDLElBQUksSUFBSSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztDQUMxRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsWUFBWTtDQUNoQyxNQUFNLE9BQU8sSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztDQUM3QyxLQUFLLENBQUM7Q0FDTixJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsVUFBVSxPQUFPLEVBQUU7Q0FDdkMsTUFBTSxPQUFPLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDN0MsS0FBSyxDQUFDO0NBQ04sSUFBSSxPQUFPLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDMUUsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksaUJBQWlCLEdBQUcsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0NBQ25ELElBQUksSUFBSSxNQUFNLEdBQUcsdUJBQXVCLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztDQUMvRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsVUFBVSxVQUFVLEVBQUU7Q0FDMUMsTUFBTSxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7Q0FDbkQsS0FBSyxDQUFDO0NBQ04sSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsT0FBTyxFQUFFLFVBQVUsRUFBRTtDQUNuRCxNQUFNLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDdkQsS0FBSyxDQUFDO0NBQ04sSUFBSSxPQUFPLG1CQUFtQixDQUFDLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDL0UsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksa0JBQWtCLEdBQUcsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0NBQ3BELElBQUksSUFBSSxDQUFDLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pDLElBQUksSUFBSSxNQUFNLEdBQUcsd0JBQXdCLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztDQUNoRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsVUFBVSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtDQUNoRCxNQUFNLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7Q0FDcEIsUUFBUSxPQUFPLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0NBQzFELE9BQU8sTUFBTTtDQUNiLFFBQVEsT0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN4RSxPQUFPO0NBQ1AsS0FBSyxDQUFDO0NBQ04sSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0NBQ3pELE1BQU0sT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQzdELEtBQUssQ0FBQztDQUNOLElBQUksT0FBTyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsd0JBQXdCLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ2hGLEdBQUcsQ0FBQztBQUNKO0NBQ0EsRUFBRSxJQUFJLGdCQUFnQixHQUFHLFVBQVUsSUFBSSxFQUFFLE9BQU8sRUFBRTtDQUNsRCxJQUFJLElBQUksQ0FBQyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQyxJQUFJLElBQUksTUFBTSxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDOUQsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLFVBQVUsR0FBRyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUU7Q0FDbEQsTUFBTSxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQzNGLEtBQUssQ0FBQztDQUNOLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxVQUFVLEdBQUcsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRTtDQUMzRCxNQUFNLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztDQUMvRCxLQUFLLENBQUM7Q0FDTixJQUFJLE9BQU8sbUJBQW1CLENBQUMsTUFBTSxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztDQUM5RSxHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxVQUFVLEdBQUc7Q0FDbkIsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUU7Q0FDdkYsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUU7Q0FDOUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRTtDQUNoRyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLGtCQUFrQixFQUFFO0NBQ25HLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUU7Q0FDL0YsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLElBQUksT0FBTyxHQUFHLEVBQUUsRUFBRSxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQ3JDO0NBQ0EsRUFBRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtDQUM5QyxJQUFJLElBQUksU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNsQyxJQUFJLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUM7Q0FDOUIsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtDQUMxQyxNQUFNLElBQUksVUFBVSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN0RCxNQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Q0FDbkMsTUFBTSxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQy9FLE1BQU0sSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRTtDQUNyQyxRQUFRLElBQUksYUFBYSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3JELFFBQVEsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztDQUN4QyxRQUFRLE9BQU8sQ0FBQyxhQUFhLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7Q0FDckQsT0FBTztDQUNQLEtBQUs7Q0FDTCxHQUFHO0FBQ0g7Q0FDQSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFO0NBQzdDLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7Q0FDckIsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztDQUNoQixJQUFJLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0NBQzNCLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7Q0FDakMsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztDQUN0QixJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0NBQzNCLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7Q0FDbkIsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztDQUNuQixJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUNoRCxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUM7Q0FDMUMsSUFBSSxJQUFJLENBQUMsWUFBWSxHQUFHLFVBQVUsSUFBSSxDQUFDLENBQUM7Q0FDeEMsSUFBSSxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsVUFBVSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDN0M7Q0FDQSxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDakMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQixLQUFLO0NBQ0wsR0FBRztBQUNIO0NBQ0EsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLE9BQU8sRUFBRTtDQUMvQyxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtDQUN4QixNQUFNLE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7Q0FDdEMsS0FBSztDQUNMLElBQUksSUFBSSxTQUFTLEVBQUUsSUFBSSxHQUFHLE9BQU8sT0FBTyxDQUFDO0NBQ3pDLElBQUksSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0NBQzNCLE1BQU0sSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0NBQzdCLFFBQVEsSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFO0NBQzlCLFVBQVUsTUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztDQUN2QyxTQUFTLE1BQU0sSUFBSSxZQUFZLElBQUksT0FBTyxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7Q0FDeEUsVUFBVSxPQUFPLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDNUMsU0FBUyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO0NBQzVDLFVBQVUsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUU7Q0FDN0QsWUFBWSxNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0NBQ3pDLFdBQVc7Q0FDWCxTQUFTO0NBQ1QsT0FBTyxNQUFNO0NBQ2IsUUFBUSxNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0NBQ3JDLE9BQU87Q0FDUCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUM7Q0FDdkIsS0FBSztDQUNMLElBQUksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU07Q0FDakYsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUM7QUFDbkU7Q0FDQSxJQUFJLE9BQU8sS0FBSyxHQUFHLE1BQU0sRUFBRTtDQUMzQixNQUFNLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtDQUN0QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0NBQzNCLFFBQVEsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Q0FDL0IsUUFBUSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDN0MsVUFBVSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQ3hCLFNBQVM7Q0FDVCxPQUFPO0NBQ1AsTUFBTSxJQUFJLFNBQVMsRUFBRTtDQUNyQixRQUFRLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFO0NBQ3ZFLFVBQVUsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0NBQzdELFNBQVM7Q0FDVCxPQUFPLE1BQU07Q0FDYixRQUFRLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFO0NBQ3ZFLFVBQVUsSUFBSSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDM0MsVUFBVSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7Q0FDM0IsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDckQsV0FBVyxNQUFNLElBQUksSUFBSSxHQUFHLEtBQUssRUFBRTtDQUNuQyxZQUFZLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUNyRSxZQUFZLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUN2RSxXQUFXLE1BQU0sSUFBSSxJQUFJLEdBQUcsTUFBTSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7Q0FDdEQsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdEUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDOUUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdkUsV0FBVyxNQUFNO0NBQ2pCLFlBQVksSUFBSSxHQUFHLE9BQU8sSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFLEtBQUssT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDOUYsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdEUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDL0UsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDOUUsWUFBWSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDdkUsV0FBVztDQUNYLFNBQVM7Q0FDVCxPQUFPO0NBQ1AsTUFBTSxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztDQUM3QixNQUFNLElBQUksQ0FBQyxJQUFJLFNBQVMsRUFBRTtDQUMxQixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztDQUNuQyxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0NBQ3hDLFFBQVEsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDekMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQzVCLFNBQVM7Q0FDVCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNiLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7Q0FDMUIsT0FBTyxNQUFNO0NBQ2IsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztDQUN2QixPQUFPO0NBQ1AsS0FBSztDQUNMLElBQUksT0FBTyxJQUFJLENBQUM7Q0FDaEIsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEtBQUssRUFBRTtDQUNoRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMzQixJQUFJLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7Q0FDaEIsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7Q0FDbEIsTUFBTSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3ZCLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztDQUNsQixNQUFNLEVBQUUsQ0FBQyxDQUFDO0NBQ1YsS0FBSztDQUNMLElBQUksSUFBSSxLQUFLLEVBQUU7Q0FDZixNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDcEIsS0FBSyxNQUFNO0NBQ1gsTUFBTSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3ZCLEtBQUs7Q0FDTCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDdkIsSUFBSSxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7Q0FDeEIsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFVBQVUsR0FBRyxFQUFFO0NBQ2pELElBQUksSUFBSSxTQUFTLEVBQUUsSUFBSSxHQUFHLE9BQU8sR0FBRyxDQUFDO0NBQ3JDLElBQUksSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0NBQzNCLE1BQU0sSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO0NBQzdCLFFBQVEsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO0NBQzFCLFVBQVUsTUFBTSxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztDQUN2QyxTQUFTLE1BQU0sSUFBSSxZQUFZLElBQUksR0FBRyxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7Q0FDcEUsVUFBVSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDcEMsU0FBUyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0NBQ3hDLFVBQVUsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUU7Q0FDekQsWUFBWSxNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0NBQ3pDLFdBQVc7Q0FDWCxTQUFTO0NBQ1QsT0FBTyxNQUFNO0NBQ2IsUUFBUSxNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0NBQ3JDLE9BQU87Q0FDUCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUM7Q0FDdkIsS0FBSztDQUNMLElBQUksSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0NBQ3ZDLElBQUksSUFBSSxTQUFTLEVBQUU7Q0FDbkIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDO0NBQ3JCLEtBQUssTUFBTTtDQUNYLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDM0MsUUFBUSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3JDLFFBQVEsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO0NBQ3pCLFVBQVUsS0FBSyxJQUFJLENBQUMsQ0FBQztDQUNyQixTQUFTLE1BQU0sSUFBSSxJQUFJLEdBQUcsS0FBSyxFQUFFO0NBQ2pDLFVBQVUsS0FBSyxJQUFJLENBQUMsQ0FBQztDQUNyQixTQUFTLE1BQU0sSUFBSSxJQUFJLEdBQUcsTUFBTSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7Q0FDcEQsVUFBVSxLQUFLLElBQUksQ0FBQyxDQUFDO0NBQ3JCLFNBQVMsTUFBTTtDQUNmLFVBQVUsSUFBSSxHQUFHLE9BQU8sSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFLEtBQUssR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDcEYsVUFBVSxLQUFLLElBQUksQ0FBQyxDQUFDO0NBQ3JCLFNBQVM7Q0FDVCxPQUFPO0NBQ1AsS0FBSztDQUNMLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0NBQ3BDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNyQixJQUFJLE9BQU8sS0FBSyxDQUFDO0NBQ2pCLEdBQUcsQ0FBQztBQUNKO0NBQ0EsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxVQUFVLElBQUksRUFBRSxDQUFDLEVBQUU7Q0FDaEQsSUFBSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQy9CLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDMUMsTUFBTSxLQUFLLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUMxQyxLQUFLO0NBQ0wsSUFBSSxJQUFJLFlBQVksR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztDQUNyQyxJQUFJLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztDQUNuQixJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDO0NBQ2hDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUN2QixJQUFJLE9BQU8sSUFBSSxDQUFDO0NBQ2hCLEdBQUcsQ0FBQztBQUNKO0NBQ0EsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxZQUFZO0NBQzFDLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0NBQ3hCLE1BQU0sT0FBTztDQUNiLEtBQUs7Q0FDTCxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0NBQzFCLElBQUksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztDQUMvRixJQUFJLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDMUMsSUFBSSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLFNBQVMsRUFBRTtDQUMvQyxNQUFNLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Q0FDckMsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDM0MsUUFBUSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQ3RCLE9BQU87Q0FDUCxLQUFLO0NBQ0wsSUFBSSxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQztDQUN6QyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFO0NBQ3JDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN4QixLQUFLO0NBQ0wsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDVCxHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsWUFBWTtDQUNqRSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUNwQjtDQUNBLElBQUksSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVk7Q0FDbEYsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDakQsSUFBSSxJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsS0FBSyxDQUFDO0NBQ3hCLElBQUksT0FBTyxDQUFDLEdBQUcsWUFBWSxFQUFFO0NBQzdCLE1BQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLElBQUksQ0FBQyxHQUFHLFlBQVksRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtDQUNoRSxRQUFRLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDckIsUUFBUSxHQUFHLElBQUksU0FBUyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztDQUN2RSxVQUFVLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7Q0FDMUUsVUFBVSxTQUFTLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDO0NBQzNFLFVBQVUsU0FBUyxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDO0NBQzVFLE9BQU87Q0FDUCxNQUFNLElBQUksQ0FBQyxHQUFHLFVBQVUsS0FBSyxDQUFDLEVBQUU7Q0FDaEMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDYixRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDZCxPQUFPO0NBQ1AsS0FBSztDQUNMLElBQUksSUFBSSxVQUFVLEVBQUU7Q0FDcEIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ25CLE1BQU0sR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQztDQUN0RSxNQUFNLElBQUksVUFBVSxHQUFHLENBQUMsRUFBRTtDQUMxQixRQUFRLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7Q0FDaEYsT0FBTztDQUNQLE1BQU0sSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFO0NBQzFCLFFBQVEsR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQztDQUNqRixPQUFPO0NBQ1AsS0FBSztDQUNMLElBQUksT0FBTyxHQUFHLENBQUM7Q0FDZixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsWUFBWTtDQUM3QyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUNwQjtDQUNBLElBQUksSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVk7Q0FDbEYsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDakQsSUFBSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQztDQUNyQyxJQUFJLElBQUksTUFBTSxDQUFDO0NBQ2YsSUFBSSxJQUFJLFVBQVUsRUFBRTtDQUNwQixNQUFNLE1BQU0sR0FBRyxJQUFJLFdBQVcsQ0FBQyxDQUFDLFlBQVksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDeEQsS0FBSyxNQUFNO0NBQ1gsTUFBTSxNQUFNLEdBQUcsSUFBSSxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDdEMsS0FBSztDQUNMLElBQUksSUFBSSxLQUFLLEdBQUcsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDeEMsSUFBSSxPQUFPLENBQUMsR0FBRyxZQUFZLEVBQUU7Q0FDN0IsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsSUFBSSxDQUFDLEdBQUcsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0NBQ2hFLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN4QixPQUFPO0NBQ1AsTUFBTSxJQUFJLENBQUMsR0FBRyxVQUFVLEtBQUssQ0FBQyxFQUFFO0NBQ2hDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2IsT0FBTztDQUNQLEtBQUs7Q0FDTCxJQUFJLElBQUksVUFBVSxFQUFFO0NBQ3BCLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN0QixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztDQUN0QyxLQUFLO0NBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztDQUNsQixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7QUFDekQ7Q0FDQSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVk7Q0FDakUsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDcEI7Q0FDQSxJQUFJLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZO0NBQ2xGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQ2pELElBQUksSUFBSSxLQUFLLEdBQUcsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7Q0FDbEMsSUFBSSxPQUFPLENBQUMsR0FBRyxZQUFZLEVBQUU7Q0FDN0IsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsSUFBSSxDQUFDLEdBQUcsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0NBQ2hFLFFBQVEsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDeEIsUUFBUSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3JCLFFBQVEsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7Q0FDckMsUUFBUSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7Q0FDaEQsUUFBUSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUM7Q0FDakQsUUFBUSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUM7Q0FDakQsT0FBTztDQUNQLE1BQU0sSUFBSSxDQUFDLEdBQUcsVUFBVSxLQUFLLENBQUMsRUFBRTtDQUNoQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNiLE9BQU87Q0FDUCxLQUFLO0NBQ0wsSUFBSSxJQUFJLFVBQVUsRUFBRTtDQUNwQixNQUFNLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ3RCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNuQixNQUFNLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDO0NBQ25DLE1BQU0sSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFO0NBQzFCLFFBQVEsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDO0NBQ2hELE9BQU87Q0FDUCxNQUFNLElBQUksVUFBVSxHQUFHLENBQUMsRUFBRTtDQUMxQixRQUFRLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQztDQUNqRCxPQUFPO0NBQ1AsS0FBSztDQUNMLElBQUksT0FBTyxLQUFLLENBQUM7Q0FDakIsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLFNBQVMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFO0NBQzNDLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztDQUNqRCxHQUFHO0FBQ0g7Q0FDQSxFQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNoQztDQUNBLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsWUFBWTtDQUN4QyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUN2QyxJQUFJLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hELEdBQUcsQ0FBQztBQUNKO0NBQ0EsRUFBRSxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsRUFBRTtDQUN2QixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtDQUN2RCxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztDQUNwRixNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7Q0FDcEYsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Q0FDckYsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0NBQ2hDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDaEQsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNoRCxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2hELE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDaEQ7Q0FDQSxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDekMsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztDQUN6QyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDaEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDakIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakI7Q0FDQSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDaEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDeEMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzNDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDeEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUN4QyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDM0MsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUN4QyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDeEMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMzQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzNDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0NBQzFDLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDMUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUMxQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQzFDO0NBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0NBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztDQUM3QixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7Q0FDN0IsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNqQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7Q0FDakMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0NBQ2pDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNqQztDQUNBLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNwQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0NBQ3hCLEtBQUs7Q0FDTCxHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxTQUFTLEVBQUU7Q0FDakIs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Q0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFO0NBQ3BDLElBQUksS0FBSyxHQUFHRSxTQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ3BDLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLEtBQUssR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQzdEO0NBQ0EsRUFBRSxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLFFBQVEsSUFBSSxHQUFHLENBQUM7QUFDL0Q7Q0FDQTtDQUNBO0NBQ0EsRUFBRSxJQUFJLElBQUksQ0FBQyxPQUFPO0NBQ2xCLElBQUksQ0FBQyxDQUFDLFFBQVEsSUFBSSxlQUFlLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssRUFBRTtDQUNoRSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0NBQy9CLElBQUksSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsUUFBUSxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUM7Q0FDMUUsR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUU7Q0FDcEIsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0NBQ2QsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztDQUN4RCxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDO0FBQ2hFO0NBQ0EsRUFBRSxRQUFRLEdBQUcsUUFB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LEtBQUs7Q0FDekQ7Q0FDQSxJQUFJLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQztDQUNBLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLElBQUksS0FBSyxDQUFDLGVBQWUsRUFBRTtDQUN4RixNQUFNLFdBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDakMsS0FBSztBQUNMO0NBQ0EsSUFBSSxJQUFJLElBQUksRUFBRTtDQUNkO0NBQ0EsUUFBUSxRQUFRLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQzFEO0NBQ0EsS0FBSyxNQUFNO0NBQ1gsUUFBUSxVQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDaEQsT0FBTztDQUNQLEdBQUc7Q0FDSCxDQUFDO0FBQ0Q7Q0FDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUU7Q0FDakQsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDN0MsRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7Q0FDcEIsRUFBRSxFQUFFLEVBQUUsQ0FBQztDQUNQLEVBQUUsV0FBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztDQUM3QixDQUFDO0FBQ0Q7Q0FDQTtDQUNBO0NBQ0E7Q0FDQSxTQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFO0NBQ3JDLEVBQUUsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFO0NBQzdDLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7Q0FDNUIsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFD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QUFJLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0NBQzFELEVBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFVBQVUsS0FBSyxFQUFFO0NBQ2hELEVBQUUsSUFBSSxFQUFFLEtBQUssWUFBWSxNQUFNLENBQUMsRUFBRTtDQUNsQyxJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBQztDQUMzQyxHQUFHO0FBQ0g7Q0FDQSxFQUFFLE9BQU8sa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDO0NBQ3BELFNBQVMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDO0NBQ3BELFNBQVMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDO0NBQ3BELEVBQUM7QUFDRDtDQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVUsS0FBSyxFQUFFO0NBQy9DLEVBQUUsSUFBSSxFQUFFLEtBQUssWUFBWSxNQUFNLENBQUMsRUFBRTtDQUNsQyxJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBQztDQUMzQyxHQUFHO0FBQ0g7Q0FDQTtDQUNBLEVBQUUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO0NBQzFELElBQUksT0FBTyxDQUFDLENBQUM7Q0FDYixHQUFHLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO0NBQ2pFLElBQUksT0FBTyxDQUFDO0NBQ1osR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FB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QUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUU7Q0FDM0IsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtDQUNmLElBQUksSUFBSSxHQUFHLEdBQUU7Q0FDYixHQUFHLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7Q0FDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxPQUFNO0NBQzdCLEdBQUcsTUFBTSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtDQUN0QixJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsS0FBSTtDQUN0QyxHQUFHLE1BQU07Q0FDVCxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSTtDQUN0QixHQUFHO0FBQ0g7Q0FDQSxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0NBQ2YsSUFBSSxFQUFFLEdBQUcsR0FBRTtDQUNYLEdBQUcsTUFBTSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtDQUN0QixJQUFJLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTTtDQUNqQyxHQUFHLE1BQU0sSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7Q0FDdEIsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSTtDQUMxQyxHQUFHLE1BQU0sSUFBSSxHQUFHLEVBQUU7Q0FDbEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUc7Q0FDcEQsR0FBRyxNQUFNO0NBQ1QsSUFBSSxFQUFFLEdBQUcsSUFBSSxHQUFHLEdBQUU7Q0FDbEIsR0FBRztBQUNIO0NBQ0EsRUFBRSxPQUFPLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFO0NBQ2pDLENBQUM7QUFDRDtDQUNBO0NBQ0EsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxPQUFPLEVBQUU7Q0FDMUMsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFO0NBQ2hCLElBQUksT0FBTyxLQUFLO0NBQ2hCLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7Q0FDbkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUM7Q0FDL0MsR0FBRztBQUNIO0NBQ0EsRUFBRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Q0FDNUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7Q0FDckQsTUFBTSxPQUFPLElBQUk7Q0FDakIsS0FBSztDQUNMLEdBQUc7Q0FDSCxFQUFFLE9BQU8sS0FBSztDQUNkLEVBQUM7QUFDRDtDQUNBLFNBQVMsT0FBTyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFO0NBQ3pDLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Q0FDdkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtDQUMvQixNQUFNLE9BQU8sS0FBSztDQUNsQixLQUFLO0NBQ0wsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFO0NBQy9EO0NBQ0E7Q0FDQTtDQUNBO0NBQ0E7Q0FDQSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtDQUNyQyxNQUFNLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFDO0NBQzFCLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtDQUNqQyxRQUFRLFFBQVE7Q0FDaEIsT0FBTztBQUNQO0NBQ0EsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Q0FDL0MsUUFBUSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTTtDQUNuQyxRQUFRLElBQUksT0FBTyxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsS0FBSztDQUMzQyxZQUFZLE9BQU8sQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLEtBQUs7Q0FDM0MsWUFBWSxPQUFPLENBQUMsS0FBSyxLQUFLLE9BQU8sQ0FBQyxLQUFLLEVBQUU7Q0FDN0MsVUFBVSxPQUFPLElBQUk7Q0FDckIsU0FBUztDQUNULE9BQU87Q0FDUCxLQUFLO0FBQ0w7Q0FDQTtDQUNBLElBQUksT0FBTyxLQUFLO0NBQ2hCLEdBQUc7QUFDSDtDQUNBLEVBQUUsT0FBTyxJQUFJO0NBQ2IsQ0FBQztBQUNEO0NBQ0EsT0FBQSxDQUFBLFNBQUEsR0FBb0IsVUFBUztDQUM3QixTQUFTLFNBQVMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtDQUM3QyxFQUFFLElBQUk7Q0FDTixJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFDO0NBQ3JDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRTtDQUNmLElBQUksT0FBTyxLQUFLO0NBQ2hCLEdBQUc7Q0FDSCxFQUFFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7Q0FDNUIsQ0FBQztBQUNEO0NBQ0EsT0FBQSxDQUFBLGFBQUEsR0FBd0IsY0FBYTtDQUNyQyxTQUFTLGFBQWEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtDQUNsRCxFQUFFLElBQUksR0FBRyxHQUFHLEtBQUk7Q0FDaEIsRUFBRSxJQUFJLEtBQUssR0FBRyxLQUFJO0NBQ2xCLEVBQUUsSUFBSTtDQUNOLElBQUksSUFBSSxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQztDQUM1QyxHQUFHLENBQUMsT0FBTyxFQUFFLEVBQUU7Q0FDZixJQUFJLE9BQU8sSUFBSTtDQUNmLEdBQUc7Q0FDSCxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7Q0FDaEMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7Q0FDMUI7Q0FDQSxNQUFNLElBQUksQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtDQUMzQztDQUNBLFFBQVEsR0FBRyxHQUFHLEVBQUM7Q0FDZixRQUFRLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFDO0NBQ3hDLE9BQU87Q0FDUCxLQUFLO0NBQ0wsR0FBRyxFQUFDO0NBQ0osRUFBRSxPQUFPLEdBQUc7Q0FDWixDQUFDO0FBQ0Q7Q0FDQSxPQUFBLENBQUEsYUFBQSxHQUF3QixjQUFhO0NBQ3JDLFNBQVMsYUFBYSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO0NBQ2xELEVBQUUsSUFBSSxHQUFHLEdBQUcsS0FBSTtDQUNoQixFQUFFLElBQUksS0FBSyxHQUFHLEtBQUk7Q0FDbEIsRUFBRSxJQUFJO0NBQ04sSUFBSSxJQUFJLFFBQVEsR0FBRyxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFDO0NBQzVDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRTtDQUNmLElBQUksT0FBTyxJQUFJO0NBQ2YsR0FBRztDQUNILEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtDQUNoQyxJQUFJLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtDQUMxQjtDQUNBLE1BQU0sSUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtDQUMxQztDQUNBLFFBQVEsR0FBRyxHQUFHLEVBQUM7Q0FDZixRQUFRLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFDO0NBQ3hDLE9BQU87Q0FDUCxLQUFLO0NBQ0wsR0FBRyxFQUFDO0NBQ0osRUFBRSxPQUFPLEdBQUc7Q0FDWixDQUFDO0FBQ0Q7Q0FDQSxPQUFBLENBQUEsVUFBQSxHQUFxQixXQUFVO0NBQy9CLFNBQVMsVUFBVSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Q0FDbkMsRUFBRSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBQztBQUNqQztDQUNBLEVBQUUsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFDO0NBQ2xDLEVBQUUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0NBQzFCLElBQUksT0FBTyxNQUFNO0NBQ2pCLEdBQUc7QUFDSDtDQUNBLEVBQUUsTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLFNBQVMsRUFBQztDQUNoQyxFQUFFLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtDQUMxQixJQUFJLE9BQU8sTUFBTTtDQUNqQixHQUFHO0FBQ0g7Q0FDQSxFQUFFLE1BQU0sR0FBRyxLQUFJO0NBQ2YsRUFBRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Q0FDN0MsSUFBSSxJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQztBQUNsQztDQUNBLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFVLFVBQVUsRUFBRTtDQUM5QztDQUNBLE1BQU0sSUFBSSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUM7Q0FDekQsTUFBTSxRQUFRLFVBQVUsQ0FBQyxRQUFRO0NBQ2pDLFFBQVEsS0FBSyxHQUFHO0NBQ2hCLFVBQVUsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Q0FDL0MsWUFBWSxPQUFPLENBQUMsS0FBSyxHQUFFO0NBQzNCLFdBQVcsTUFBTTtDQUNqQixZQUFZLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQztDQUN0QyxXQUFXO0NBQ1gsVUFBVSxPQUFPLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUU7Q0FDeEM7Q0FDQSxRQUFRLEtBQUssRUFBRSxDQUFDO0NBQ2hCLFFBQVEsS0FBSyxJQUFJO0NBQ2pCLFVBQVUsSUFBSSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUFFO0NBQzlDLFlBQVksTUFBTSxHQUFHLFFBQU87Q0FDNUIsV0FBVztDQUNYLFVBQVUsS0FBSztDQUNmLFFBQVEsS0FBSyxHQUFHLENBQUM7Q0FDakIsUUFBUSxLQUFLLElBQUk7Q0FDakI7Q0FDQSxVQUFVLEtBQUs7Q0FDZjtDQUNBLFFBQVE7Q0FDUixVQUFVLE1BQU0sSUFBSSxLQUFLLENBQUMsd0JBQXdCLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQztDQUN6RSxPQUFPO0NBQ1AsS0FBSyxFQUFDO0NBQ04sR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLE1BQU0sSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0NBQ3BDLElBQUksT0FBTyxNQUFNO0NBQ2pCLEdBQUc7QUFDSDtDQUNBLEVBQUUsT0FBTyxJQUFJO0NBQ2IsQ0FBQztBQUNEO0NBQ0EsT0FBQSxDQUFBLFVBQUEsR0FBcUIsV0FBVTtDQUMvQixTQUFTLFVBQVUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO0NBQ3JDLEVBQUUsSUFBSTtDQUNOO0NBQ0E7Q0FDQSxJQUFJLE9BQU8sSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHO0NBQ2pELEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRTtDQUNmLElBQUksT0FBTyxJQUFJO0NBQ2YsR0FBRztDQUNILENBQUM7QUFDRDtDQUNBO0NBQ0EsT0FBQSxDQUFBLEdBQUEsR0FBYyxJQUFHO0NBQ2pCLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO0NBQ3ZDLEVBQUUsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDO0NBQzlDLENBQUM7QUFDRDtDQUNBO0NBQ0EsT0FBQSxDQUFBLEdBQUEsR0FBYyxJQUFHO0NBQ2pCLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO0NBQ3ZDLEVBQUUsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDO0NBQzlDLENBQUM7QUFDRDtDQUNBLE9BQUEsQ0FBQSxPQUFBLEdBQWtCLFFBQU87Q0FDekIsU0FBUyxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0NBQ2pELEVBQUUsT0FBTyxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUM7Q0FDeEMsRUFBRSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQztBQUNuQztDQUNBLEVBQUUsSUFBSSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBSztDQUNwQyxFQUFFLFFBQVEsSUFBSTtDQUNkLElBQUksS0FBSyxHQUFHO0NBQ1osTUFBTSxJQUFJLEdBQUcsR0FBRTtDQUNmLE1BQU0sS0FBSyxHQUFHLElBQUc7Q0FDakIsTUFBTSxJQUFJLEdBQUcsR0FBRTtDQUNmLE1BQU0sSUFBSSxHQUFHLElBQUc7Q0FDaEIsTUFBTSxLQUFLLEdBQUcsS0FBSTtDQUNsQixNQUFNLEtBQUs7Q0FDWCxJQUFJLEtBQUssR0FBRztDQUNaLE1BQU0sSUFBSSxHQUFHLEdBQUU7Q0FDZixNQUFNLEtBQUssR0FBRyxJQUFHO0NBQ2pCLE1BQU0sSUFBSSxHQUFHLEdBQUU7Q0FDZixNQUFNLElBQUksR0FBRyxJQUFHO0NBQ2hCLE1BQU0sS0FBSyxHQUFHLEtBQUk7Q0FDbEIsTUFBTSxLQUFLO0NBQ1gsSUFBSTtDQUNKLE1BQU0sTUFBTSxJQUFJLFNBQVMsQ0FBQyx1Q0FBdUMsQ0FBQztDQUNsRSxHQUFHO0FBQ0g7Q0FDQTtDQUNBLEVBQUUsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsRUFBRTtDQUMxQyxJQUFJLE9BQU8sS0FBSztDQUNoQixHQUFHO0FBQ0g7Q0FDQTtDQUNBO0FBQ0E7Q0FDQSxFQUFFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtDQUM3QyxJQUFJLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDO0FBQ2xDO0NBQ0EsSUFBSSxJQUFJLElBQUksR0FBRyxLQUFJO0NBQ25CLElBQUksSUFBSSxHQUFHLEdBQUcsS0FBSTtBQUNsQjtDQUNBLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFVLFVBQVUsRUFBRTtDQUM5QyxNQUFNLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxHQUFHLEVBQUU7Q0FDckMsUUFBUSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsU0FBUyxFQUFDO0NBQzlDLE9BQU87Q0FDUCxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksV0FBVTtDQUMvQixNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksV0FBVTtDQUM3QixNQUFNLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRTtDQUN6RCxRQUFRLElBQUksR0FBRyxXQUFVO0NBQ3pCLE9BQU8sTUFBTSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLEVBQUU7Q0FDL0QsUUFBUSxHQUFHLEdBQUcsV0FBVTtDQUN4QixPQUFPO0NBQ1AsS0FBSyxFQUFDO0FBQ047Q0FDQTtDQUNBO0NBQ0EsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUFFO0NBQzNELE1BQU0sT0FBTyxLQUFLO0NBQ2xCLEtBQUs7QUFDTDtDQUNBO0NBQ0E7Q0FDQSxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxJQUFJO0NBQy9DLFFBQVEsS0FBSyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7Q0FDcEMsTUFBTSxPQUFPLEtBQUs7Q0FDbEIsS0FBSyxNQUFNLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7Q0FDcEUsTUFBTSxPQUFPLEtBQUs7Q0FDbEIsS0FBSztDQUNMLEdBQUc7Q0FDSCxFQUFFLE9BQU8sSUFBSTtDQUNiLENBQUM7QUFDRDtDQUNBLE9BQUEsQ0FBQSxVQUFBLEdBQXFCLFdBQVU7Q0FDL0IsU0FBUyxVQUFVLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtDQUN2QyxFQUFFLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFDO0NBQ3RDLEVBQUUsT0FBTyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUk7Q0FDeEUsQ0FBQztBQUNEO0NBQ0EsT0FBQSxDQUFBLFVBQUEsR0FBcUIsV0FBVTtDQUMvQixTQUFTLFVBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRTtDQUN0QyxFQUFFLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFDO0NBQzdCLEVBQUUsRUFBRSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUM7Q0FDN0IsRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO0NBQzFCLENBQUM7QUFDRDtDQUNBLE9BQUEsQ0FBQSxNQUFBLEdBQWlCLE9BQU07Q0FDdkIsU0FBUyxNQUFNLEVBQUUsT0FBTyxFQUFFO0NBQzFCLEVBQUUsSUFBSSxPQUFPLFlBQVksTUFBTSxFQUFFO0NBQ2pDLElBQUksT0FBTyxPQUFPO0NBQ2xCLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7Q0FDbkMsSUFBSSxPQUFPLElBQUk7Q0FDZixHQUFHO0FBQ0g7Q0FDQSxFQUFFLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFDO0FBQ3ZDO0NBQ0EsRUFBRSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7Q0FDckIsSUFBSSxPQUFPLElBQUk7Q0FDZixHQUFHO0FBQ0g7Q0FDQSxFQUFFLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDdkIsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQztDQUMzQixJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7Q0FDNUIsQ0FBQTs7O0NDMThDQSxJQUFJLE1BQU0sR0FBRzlDLFFBQWlCLENBQUM7Q0FDL0IsSUFBSSxTQUFTLEdBQUdFLFdBQXlCLENBQUM7Q0FDMUMsSUFBSSxpQkFBaUIsR0FBRzJDLDJCQUE4QixDQUFDO0NBQ3ZELElBQUksS0FBSyxHQUFHTCx1QkFBMkIsQ0FBQyxLQUFLLENBQUM7Q0FDOUMsSUFBSSxZQUFZLEdBQUdDLFlBQXVCLENBQUM7Q0FDM0MsSUFBSSxNQUFNLEdBQUdDLGdCQUFpQixDQUFDO0FBQy9CO0NBQ0EsU0FBUyxZQUFZLEVBQUUsT0FBTyxFQUFFO0NBQ2hDLEVBQUUsSUFBSSxPQUFPLENBQUM7Q0FDZCxFQUFFLElBQUksbUJBQW1CLElBQUksT0FBTyxFQUFFO0NBQ3RDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQzlELEdBQUcsTUFBTTtDQUNULElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztDQUNyRCxHQUFHO0FBQ0g7Q0FDQSxFQUFFLElBQUksZUFBZSxHQUFHLFlBQVk7Q0FDcEMsSUFBSSxPQUFPLFNBQVMsQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztDQUNoRCxHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMxRDtDQUNBLEVBQUUsSUFBSSxPQUFPLENBQUM7Q0FDZCxFQUFFLElBQUksbUJBQW1CLElBQUksT0FBTyxFQUFFO0NBQ3RDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQzlELEdBQUcsTUFBTSxJQUFJLFVBQVUsSUFBSSxPQUFPLEVBQUU7Q0FDcEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ3JELEdBQUcsTUFBTTtDQUNUO0NBQ0EsSUFBSSxPQUFPLEdBQUcsWUFBWTtDQUMxQjtDQUNBLEtBQUssQ0FBQztDQUNOLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxLQUFLLENBQUM7Q0FDWixFQUFFLElBQUksaUJBQWlCLElBQUksT0FBTyxFQUFFO0NBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztDQUNwRSxHQUFHLE1BQU07Q0FDVCxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO0NBQzVCLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO0NBQ3BELEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxLQUFLLENBQUM7Q0FDWixFQUFFLElBQUksaUJBQWlCLElBQUksT0FBTyxFQUFFO0NBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ3RELEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxhQUFhLEdBQUcsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFO0NBQzFDLElBQUksSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUM5QztDQUNBO0NBQ0E7Q0FDQTtDQUNBO0NBQ0E7Q0FDQTtDQUNBO0NBQ0EsSUFBSSxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0NBQ25DLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztDQUNsRCxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztDQUN2QyxHQUFHLENBQUM7QUFDSjtDQUNBO0NBQ0E7Q0FDQSxFQUFFLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxZQUFZLElBQUksT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzFFO0NBQ0EsRUFBRSxJQUFJLFlBQVksR0FBRyxVQUFVLFFBQVEsRUFBRTtDQUN6QyxJQUFJLE1BQU0sQ0FBQyxPQUFPLFFBQVEsS0FBSyxVQUFVLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztDQUMxRSxJQUFJLE9BQU8sVUFBVSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtDQUM1QyxNQUFNLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztDQUNuRCxNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtDQUMvQyxRQUFRLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0NBQ2pELE9BQU87Q0FDUCxNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtDQUM1QyxRQUFRLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0NBQzNDLE9BQU87Q0FDUCxLQUFLLENBQUM7Q0FDTixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxvQkFBb0IsR0FBRyxVQUFVLFFBQVEsRUFBRTtDQUNqRCxJQUFJLE1BQU0sQ0FBQyxPQUFPLFFBQVEsS0FBSyxVQUFVLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztDQUMxRSxJQUFJLE9BQU8sVUFBVSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFO0NBQzNEO0NBQ0EsTUFBTSxNQUFNLENBQUMsT0FBTyxLQUFLLENBQUMsRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO0NBQzlELE1BQU0sSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBRSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztDQUMxRSxNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtDQUMvQyxRQUFRLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0NBQ2pELE9BQU87Q0FDUCxNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtDQUM1QyxRQUFRLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0NBQzNDLE9BQU87Q0FDUCxLQUFLLENBQUM7Q0FDTixHQUFHLENBQUM7QUFDSjtDQUNBO0NBQ0EsRUFBRSxJQUFJLGdCQUFnQixHQUFHLFVBQVUsU0FBUyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7Q0FDN0QsSUFBSSxJQUFJLFNBQVMsRUFBRTtDQUNuQixNQUFNLE1BQU0sQ0FBQyxPQUFPLFNBQVMsS0FBSyxRQUFRLEVBQUUsb0NBQW9DLENBQUMsQ0FBQztDQUNsRixLQUFLLE1BQU07Q0FDWCxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7Q0FDckIsS0FBSztBQUNMO0NBQ0EsSUFBSSxJQUFJLFlBQVksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO0NBQ3hDLElBQUksSUFBSSxZQUFZLEtBQUssU0FBUyxFQUFFO0NBQ3BDLE1BQU0sWUFBWSxHQUFHLFVBQVUsSUFBSSxFQUFFO0NBQ3JDLFFBQVEsT0FBTztDQUNmLFVBQVUsS0FBSyxFQUFFLG9DQUFvQztDQUNyRCxTQUFTLENBQUM7Q0FDVixPQUFPLENBQUM7Q0FDUixLQUFLO0FBQ0w7Q0FDQSxJQUFJLElBQUksY0FBYyxDQUFDO0NBQ3ZCLElBQUksSUFBSSxVQUFVLEVBQUU7Q0FDcEI7Q0FDQSxNQUFNLElBQUksaUJBQWlCLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztDQUNsRCxNQUFNLElBQUksaUJBQWlCLEtBQUssU0FBUyxFQUFFO0NBQzNDLFFBQVEsaUJBQWlCLEdBQUcsVUFBVSxJQUFJLEVBQUU7Q0FDNUMsVUFBVSxPQUFPO0NBQ2pCLFlBQVksS0FBSyxFQUFFLG1DQUFtQztDQUN0RCxXQUFXLENBQUM7Q0FDWixTQUFTLENBQUM7Q0FDVixPQUFPO0FBQ1A7Q0FDQSxNQUFNLGNBQWMsR0FBRyxVQUFVLElBQUksRUFBRSxJQUFJLEVBQUU7Q0FDN0MsUUFBUSxJQUFJLElBQUksS0FBSyxRQUFRLEVBQUU7Q0FDL0IsVUFBVSxPQUFPLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNwQyxTQUFTLE1BQU0sSUFBSSxJQUFJLEtBQUssV0FBVyxFQUFFO0NBQ3pDLFVBQVUsT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN6QyxTQUFTLE1BQU07Q0FDZixVQUFVLE1BQU0sQ0FBQyxLQUFLLEVBQUUsa0NBQWtDLENBQUMsQ0FBQztDQUM1RCxTQUFTO0NBQ1QsT0FBTyxDQUFDO0FBQ1I7Q0FDQSxNQUFNLGNBQWMsR0FBRyxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsQ0FBQztDQUM1RCxLQUFLLE1BQU07Q0FDWDtDQUNBLE1BQU0sY0FBYyxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQztDQUNsRCxLQUFLO0FBQ0w7Q0FDQTtDQUNBLElBQUksSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztDQUN6RSxJQUFJLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxjQUFjLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDbEY7Q0FDQSxJQUFJLElBQUksRUFBRSxHQUFHLFdBQVcsQ0FBQyxjQUFjLEVBQUUsUUFBUSxDQUFDLENBQUM7Q0FDbkQsSUFBSSxJQUFJLE1BQU0sQ0FBQztDQUNmLElBQUksSUFBSTtDQUNSLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNwQixNQUFNLElBQUksVUFBVSxFQUFFO0NBQ3RCO0NBQ0EsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ3hCLE9BQU87Q0FDUCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUM5QyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUU7Q0FDaEIsTUFBTSxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7Q0FDekIsTUFBTSxNQUFNLENBQUMsQ0FBQztDQUNkLEtBQUs7Q0FDTCxJQUFJLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUN2QixJQUFJLElBQUksS0FBSyxFQUFFO0NBQ2Y7Q0FDQTtDQUNBO0NBQ0E7Q0FDQTtDQUNBLE1BQU0sS0FBSyxFQUFFLENBQUM7Q0FDZCxLQUFLO0NBQ0wsSUFBSSxPQUFPLE1BQU0sQ0FBQztDQUNsQixHQUFHLENBQUM7QUFDSjtDQUNBLEVBQUUsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO0NBQ3pCLEVBQUUsSUFBSSxjQUFjLElBQUksT0FBTyxFQUFFO0NBQ2pDO0NBQ0EsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7Q0FDL0UsR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQztDQUM5QixFQUFFLElBQUksbUJBQW1CLElBQUksT0FBTyxFQUFFO0NBQ3RDO0NBQ0EsSUFBSSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0NBQ3pGLEdBQUc7QUFDSDtDQUNBLEVBQUUsSUFBSSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7Q0FDakMsRUFBRSxJQUFJLHNCQUFzQixJQUFJLE9BQU8sRUFBRTtDQUN6QztDQUNBLElBQUksSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7Q0FDekcsSUFBSSxtQkFBbUIsR0FBRyxVQUFVLEtBQUssRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFO0NBQ25FLE1BQU0sT0FBTyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7Q0FDbEYsS0FBSyxDQUFDO0NBQ04sR0FBRztBQUNIO0NBQ0EsRUFBRSxJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUM7Q0FDN0IsRUFBRSxJQUFJLGtCQUFrQixJQUFJLE9BQU8sRUFBRTtDQUNyQztDQUNBLElBQUksSUFBSSx1QkFBdUIsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0NBQ25HLElBQUksZUFBZSxHQUFHLFVBQVUsS0FBSyxFQUFFLFlBQVksRUFBRTtDQUNyRCxNQUFNLE9BQU8sZ0JBQWdCLENBQUMsWUFBWSxFQUFFLHVCQUF1QixFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztDQUNoRixLQUFLLENBQUM7Q0FDTixHQUFHO0NBQ0gsRUFBRSxJQUFJLG1CQUFtQixJQUFJLE9BQU8sRUFBRTtDQUN0QyxJQUFJLElBQUksZUFBZSxDQUFDO0NBQ3hCLElBQUksSUFBSSxVQUFVLEVBQUU7Q0FDcEI7Q0FDQSxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztDQUNwRyxLQUFLLE1BQU07Q0FDWDtDQUNBLE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7Q0FDMUYsS0FBSztDQUNMLElBQUksZUFBZSxHQUFHLFVBQVUsS0FBSyxFQUFFLFNBQVMsRUFBRTtDQUNsRCxNQUFNLE9BQU8sZ0JBQWdCLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDckUsS0FBSyxDQUFDO0NBQ04sR0FBRztBQUNIO0NBQ0E7Q0FDQSxFQUFFLElBQUksc0JBQXNCLEdBQUcsVUFBVSxLQUFLLEVBQUUsWUFBWSxFQUFFO0NBQzlELElBQUksSUFBSSxlQUFlLEtBQUssSUFBSSxFQUFFO0NBQ2xDLE1BQU0sT0FBTyxlQUFlLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO0NBQ2xELEtBQUs7QUFDTDtDQUNBLElBQUksU0FBUyxnQkFBZ0IsRUFBRSxPQUFPLEVBQUU7Q0FDeEMsTUFBTSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7Q0FDNUIsUUFBUSxNQUFNLEVBQUU7Q0FDaEIsVUFBVTtDQUNWLFlBQVksTUFBTSxFQUFFLFdBQVc7Q0FDL0IsWUFBWSxXQUFXLEVBQUUsUUFBUTtDQUNqQyxZQUFZLFVBQVUsRUFBRSxPQUFPO0NBQy9CLFlBQVksU0FBUyxFQUFFLE9BQU87Q0FDOUIsWUFBWSxrQkFBa0IsRUFBRSxTQUFTLEdBQUcsT0FBTztDQUNuRCxXQUFXO0NBQ1gsU0FBUztDQUNULE9BQU8sQ0FBQyxDQUFDO0NBQ1QsS0FBSztBQUNMO0NBQ0EsSUFBSSxJQUFJO0NBQ1IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUNoQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUU7Q0FDaEIsTUFBTSxPQUFPLGdCQUFnQixDQUFDLHlCQUF5QixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztDQUNyRSxLQUFLO0FBQ0w7Q0FDQSxJQUFJLElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVUsRUFBRTtDQUMxQyxNQUFNLE9BQU8sZ0JBQWdCLENBQUMsNkNBQTZDLENBQUMsQ0FBQztDQUM3RSxLQUFLO0FBQ0w7Q0FDQTtDQUNBLElBQUksSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0NBQ25FLE1BQU0sT0FBTyxnQkFBZ0IsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0NBQzdELEtBQUs7QUFDTDtDQUNBLElBQUksU0FBUyxrQkFBa0IsRUFBRSxLQUFLLEVBQUU7Q0FDeEMsTUFBTSxPQUFPLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0NBQzlHLEtBQUs7QUFDTDtDQUNBLElBQUksU0FBUyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUU7Q0FDdEMsTUFBTSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7Q0FDdkIsTUFBTSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsRUFBRTtDQUMzQyxRQUFRLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtDQUMxRCxVQUFVLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7Q0FDaEUsU0FBUyxNQUFNO0NBQ2Y7Q0FDQSxVQUFVLE9BQU8sSUFBSSxDQUFDO0NBQ3RCLFNBQVM7Q0FDVCxPQUFPO0NBQ1AsTUFBTSxPQUFPLE9BQU8sQ0FBQztDQUNyQixLQUFLO0FBQ0w7Q0FDQSxJQUFJLFNBQVMsaUJBQWlCLEVBQUUsS0FBSyxFQUFFO0NBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQUU7Q0FDN0IsUUFBUSxPQUFPLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQztDQUM5QyxPQUFPO0NBQ1AsS0FBSztBQUNMO0NBQ0EsSUFBSSxTQUFTLGVBQWUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFO0NBQ2pELE1BQU0sSUFBSTtDQUNWLFFBQVEsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDcEMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO0NBQ2xCLFFBQVEsT0FBTyxnQkFBZ0IsQ0FBQyxrQ0FBa0MsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7Q0FDaEYsT0FBTztDQUNQLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQywyQkFBMkIsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7Q0FDeEUsTUFBTSxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7Q0FDMUIsUUFBUSxPQUFPLGdCQUFnQixDQUFDLDJCQUEyQixDQUFDLENBQUM7Q0FDN0QsT0FBTztDQUNQLE1BQU0sT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBQ3BDLEtBQUs7QUFDTDtDQUNBLElBQUksSUFBSSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDMUMsSUFBSSxJQUFJLE9BQU8sS0FBSyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0NBQy9ELE1BQU0sT0FBTyxnQkFBZ0IsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0NBQzVELEtBQUs7QUFDTDtDQUNBO0NBQ0EsSUFBSSxJQUFJLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM3QztDQUNBO0NBQ0EsSUFBSSxJQUFJLG1CQUFtQixLQUFLLElBQUksRUFBRTtDQUN0QyxNQUFNLE9BQU8sZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxZQUFZLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztDQUM5SSxLQUFLO0FBQ0w7Q0FDQSxJQUFJLElBQUksZ0JBQWdCLEtBQUssSUFBSSxFQUFFO0NBQ25DLE1BQU0sT0FBTyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7Q0FDN0gsS0FBSztBQUNMO0NBQ0E7Q0FDQSxJQUFJLElBQUksV0FBVyxLQUFLLElBQUksRUFBRTtDQUM5QixNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0NBQzdDLFFBQVEsT0FBTyxnQkFBZ0IsQ0FBQyxxRUFBcUUsQ0FBQyxDQUFDO0NBQ3ZHLE9BQU87Q0FDUCxNQUFNLE9BQU8sZUFBZSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7Q0FDbEgsS0FBSztBQUNMO0NBQ0EsSUFBSSxPQUFPLGdCQUFnQixDQUFDLGdEQUFnRCxDQUFDLENBQUM7Q0FDOUUsR0FBRyxDQUFDO0FBQ0o7Q0FDQSxFQUFFLE9BQU87Q0FDVCxJQUFJLE9BQU8sRUFBRSxPQUFPO0NBQ3BCLElBQUksTUFBTSxFQUFFLGVBQWU7Q0FDM0IsSUFBSSxPQUFPLEVBQUUsT0FBTztDQUNwQixJQUFJLFFBQVEsRUFBRTtDQUNkLE1BQU0sYUFBYSxFQUFFLFdBQVc7Q0FDaEMsTUFBTSxZQUFZLEVBQUUsZ0JBQWdCO0NBQ3BDLE1BQU0sZUFBZSxFQUFFLG1CQUFtQjtDQUMxQyxNQUFNLGVBQWUsRUFBRSxlQUFlO0NBQ3RDLEtBQUs7Q0FDTCxJQUFJLFFBQVEsRUFBRTtDQUNkLE1BQU0saUJBQWlCLEVBQUUsV0FBVyxLQUFLLElBQUk7Q0FDN0MsTUFBTSxjQUFjLEVBQUUsZ0JBQWdCLEtBQUssSUFBSSxJQUFJLGVBQWUsS0FBSyxJQUFJO0NBQzNFLE1BQU0sY0FBYyxFQUFFLG1CQUFtQixLQUFLLElBQUksSUFBSSxlQUFlLEtBQUssSUFBSTtDQUM5RSxNQUFNLGtCQUFrQixFQUFFLGVBQWUsS0FBSyxJQUFJO0NBQ2xELEtBQUs7Q0FDTCxJQUFJLE9BQU8sRUFBRSxzQkFBc0I7Q0FDbkM7Q0FDQTtDQUNBLElBQUksaUJBQWlCLEVBQUUsVUFBVSxhQUFhLEVBQUUsRUFBRSxFQUFFO0NBQ3BELE1BQU0sSUFBSSxHQUFHLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDMUQsTUFBTSxJQUFJLEdBQUcsR0FBRyxnREFBZ0QsR0FBRyxhQUFhLEdBQUcsS0FBSyxDQUFDO0NBQ3pGLE1BQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBVSxRQUFRLEVBQUU7Q0FDekMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO0NBQ3pDLFVBQVUsRUFBRSxDQUFDLElBQUksS0FBSyxDQUFDLDJCQUEyQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0NBQzlFLFNBQVMsTUFBTTtDQUNmLFVBQVUsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUM3QixVQUFVLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFlBQVk7Q0FDekMsWUFBWSxFQUFFLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUUsVUFBVSxHQUFHLGFBQWEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDMUcsV0FBVyxDQUFDLENBQUM7Q0FDYixTQUFTO0NBQ1QsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLEtBQUssRUFBRTtDQUN0QyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUNsQixPQUFPLENBQUMsQ0FBQztDQUNULEtBQUs7Q0FDTDtDQUNBLElBQUksWUFBWSxFQUFFLFlBQVk7Q0FDOUIsR0FBRyxDQUFDO0NBQ0osQ0FBQztBQUNEO0NBQ0EsSUFBQSxPQUFjLEdBQUcsWUFBWTs7Q0MzVjdCLElBQUksc0JBQXNCLEdBQUcxQyw2QkFBdUQsQ0FBQztBQUNyRjtDQUNBLElBQUksUUFBUSxHQUFHLHNCQUFzQixDQUFDRSxPQUF1QixDQUFDLENBQUM7QUFDL0Q7Q0FDQTtBQUNBO0NBQ0E7Q0FDQSxhQUFhLENBQUMseUVBQXlFLENBQUMsQ0FBQztDQUN6RixJQUFJLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDckQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxVQUFVLElBQUksRUFBRTtDQUNqRCxFQUFFLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDdkI7Q0FDQSxFQUFFLElBQUksU0FBUyxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUU7Q0FDL0IsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO0NBQ3JCLE1BQU0sT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztDQUM3QyxNQUFNLElBQUksRUFBRSxnQkFBZ0I7Q0FDNUIsS0FBSyxDQUFDLENBQUM7Q0FDUCxHQUFHO0NBQ0gsQ0FBQyxDQUFDLENBQUM7Q0FDSCxJQUFJLENBQUMsV0FBVyxDQUFDO0NBQ2pCLEVBQUUsSUFBSSxFQUFFLFFBQVE7Q0FDaEIsQ0FBQyxDQUFDOzs7Ozs7OzsifQ==",aC=!1,uC?XC(HC,WC,aC):function(Q,B,F){var U;return function(g){return U=U||nC(Q,B,F),new Worker(U,g)}}(HC,WC,aC)),hC=RC(Object.freeze({__proto__:null,default:oC})),YC=RC(NC),eC=DC.exports;Object.defineProperty(AC,"__esModule",{value:!0});var kC=AC.VIRTUAL_SOURCE_CONTRACT_FILE_NAME=PC=AC.SolidityCompiler=void 0,pC=eC(mC.exports),MC=eC(EC.exports),TC=eC(JC.exports),zC=eC(hC),rC=eC(YC);kC=AC.VIRTUAL_SOURCE_CONTRACT_FILE_NAME="__contract__.sol";var vC=null,wC=!1;function KC(Q){var B={language:"Solidity",settings:{metadata:{bytecodeHash:"none"},outputSelection:{"*":{"*":["*"]}}},sources:(0,TC.default)({},"__contract__.sol",{content:Q})};if(!vC)throw new Error("First initialize the compile web-worker.");vC.postMessage({payload:JSON.stringify(B),type:"compile"})}var OC=function(){function Q(){(0,pC.default)(this,Q)}return(0,MC.default)(Q,null,[{key:"compile",value:function(Q){var B=Q.code,F=Q.path;if(!window.Worker)throw new Error("Your browser does not support WebWorkers therefore Contract compilation is not available.");if(void 0!==F){if(F.startsWith(".."))throw new Error("Cannot load contracts which are outside the bundled designated folder from which the 'ContractsInFileStorage' is constructed.");if(F.startsWith("./")&&(F=F.substring(2)),void 0!==rC.default[F])B=rC.default[F];else if(!B||void 0!==F)throw new Error("Only direct code compilation is fully supported by the browser at this point. Path loading is limited to the pre-bundled contracts stored in 'ContractsInFileStorage'.")}return vC?KC(B):vC=new zC.default,new Promise((function(Q,F){vC.onmessage=function(F){var U=F.data;if("compile_result"===U.type)Q(U.payload);else{if("loaded"===U.type||wC)return wC=!0,void KC(B);console.log("Unhandled message received from web-worker:",U)}},vC.onerror=function(Q){F(Q)}}))}}]),Q}(),PC=AC.SolidityCompiler=OC;function fC(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var jC=function(Q){_F(F,OU(Error));var B=fC(F);function F(Q){var U;return P(this,F),(U=B.call(this,"There are issues with the contract code:\n".concat(F._listOfSimpleIssueMessagesFor(Q).join("\n")))).issues=Q,U}return j(F,null,[{key:"tryThrowingIfErrorsIn",value:function(Q){var B=Q.compileResult,U=void 0===B?null:B,g=Q.ignoreWarnings,I=void 0===g||g;if(null!=U&&Array.isArray(U.errors)){var C=U.errors.filter((function(Q){return I&&"Warning"!==Q.type||!I}));if(0!=C.length)throw new F(C)}}},{key:"_listOfSimpleIssueMessagesFor",value:function(Q){return Q.map((function(Q){return"[ ".concat(Q.sourceLocation.start,":").concat(Q.sourceLocation.end," ] ").concat(Q.message)}))}}]),F}();function qC(Q,B){var F=Object.keys(Q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(Q);B&&(U=U.filter((function(B){return Object.getOwnPropertyDescriptor(Q,B).enumerable}))),F.push.apply(F,U)}return F}function _C(Q){for(var B=1;B<arguments.length;B++){var F=null!=arguments[B]?arguments[B]:{};B%2?qC(Object(F),!0).forEach((function(B){w(Q,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(F)):qC(Object(F)).forEach((function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(F,B))}))}return Q}function $C(Q,B){var F="undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(!F){if(Array.isArray(Q)||(F=function(Q,B){if(!Q)return;if("string"==typeof Q)return Qs(Q,B);var F=Object.prototype.toString.call(Q).slice(8,-1);"Object"===F&&Q.constructor&&(F=Q.constructor.name);if("Map"===F||"Set"===F)return Array.from(Q);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Qs(Q,B)}(Q))||B&&Q&&"number"==typeof Q.length){F&&(Q=F);var U=0,g=function(){};return{s:g,n:function(){return U>=Q.length?{done:!0}:{done:!1,value:Q[U++]}},e:function(Q){throw Q},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,C=!0,s=!1;return{s:function(){F=F.call(Q)},n:function(){var Q=F.next();return C=Q.done,Q},e:function(Q){s=!0,I=Q},f:function(){try{C||null==F.return||F.return()}finally{if(s)throw I}}}}function Qs(Q,B){(null==B||B>Q.length)&&(B=Q.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=Q[F];return U}function Bs(Q){var B=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Q){return!1}}();return function(){var F,U=BU(Q);if(B){var g=BU(this).constructor;F=Reflect.construct(U,arguments,g)}else F=U.apply(this,arguments);return QU(this,F)}}var Fs=function(Q){_F(s,TI);var B,F,U,g,I,C=Bs(s);function s(Q){var B,F=Q.name,U=Q.abi,g=Q.byteCode;if(P(this,s),!F)throw new Error("Please provide a name for the Contract instance.");if(!U)throw new Error("Please provide a, valid, EthersProject-compatible, ABI definition for the Contract instance.");if("string"==typeof g&&0!==g.length){if(/.*__\$.*\$__.*/.test(g))throw new Error("Library linking is not currently supported. Please follow issue #38 for more info.");if(!/^[0-9a-f]+$/.test(g))throw new Error("Please provide the valid formatted byte-code definition for the Contract in order to instantiate it.")}return(B=C.call(this,"".concat(F,"-Contract"))).name=F,B.byteCode=g,B.interface=new KF(U),B}return j(s,[{key:"equals",value:function(Q){if(Q instanceof s==!1)return!1;var B=this.interface.fragments,F=Q.interface.fragments;if(B.length!==F.length)return!1;var U,g=!0,I=$C(B);try{var C=function(){var Q=U.value;if(!F.find((function(B){return B.format()===Q.format()})))return g=!1,"break"};for(I.s();!(U=I.n()).done;){if("break"===C())break}}catch(Q){I.e(Q)}finally{I.f()}return this.byteCode===Q.byteCode&&g}},{key:"serialize",value:function(){return JSON.stringify({abi:this.interface.format(),byteCode:this.byteCode,name:this.name})}},{key:"getContent",value:(I=O(QQ.mark((function Q(){return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(this.byteCode){Q.next=2;break}throw new Error("Won't upload contract to network because it's lacking the required byte-code data.");case 2:return Q.abrupt("return",this.byteCode);case 3:case"end":return Q.stop()}}),Q,this)}))),function(){return I.apply(this,arguments)})},{key:"onFileUploaded",value:(g=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,U=B.receipt,g=B.args,I=void 0===g?[]:g,Q.next=3,this._getContractCreateOptionsFor({args:I,receipt:U,session:F});case 3:return C=Q.sent,s=C.createContractOptions,c=C.emitConstructorLogs,l=new v(s),Q.next=9,ng.newFollowingUpload({contract:this,emitConstructorLogs:c,session:F,transaction:l});case 9:return Q.abrupt("return",Q.sent);case 10:case"end":return Q.stop()}}),Q,this)}))),function(Q){return g.apply(this,arguments)})},{key:"_getContractCreateOptionsFor",value:(U=O(QQ.mark((function Q(B){var F,U,g,I,C,s,c,l,S;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=B.session,U=B.receipt,g=B.args,I=void 0===g?[]:g,C=U.fileId,s=this.interface.deploy,c={},l=F.defaults.emitConstructorLogs,I.length>0&&0!==Object.keys(I[0]).length&&"_contract"===Object.keys(I[0])[0]&&(S=I[0]._contract,l=void 0!==S.emitConstructorLogs?S.emitConstructorLogs:l,delete S.emitConstructorLogs,c=S,I=I.slice(1)),Q.t0=Object,Q.t1={},Q.t2=_C,Q.t3=F.wallet.account.publicKey,Q.t4=C,Q.next=13,$U.newFor(s,I);case 13:return Q.t5=Q.sent,Q.t6=F.defaults.contractCreationGas,Q.t7={adminKey:Q.t3,bytecodeFileId:Q.t4,constructorParameters:Q.t5,gas:Q.t6},Q.t8=c,Q.t9=(0,Q.t2)(Q.t7,Q.t8),Q.t10=Q.t0.assign.call(Q.t0,Q.t1,Q.t9),Q.t11=l,Q.abrupt("return",{createContractOptions:Q.t10,emitConstructorLogs:Q.t11});case 21:case"end":return Q.stop()}}),Q,this)}))),function(Q){return U.apply(this,arguments)})}],[{key:"newFrom",value:(F=O(QQ.mark((function Q(B){var F,U,g,I,C,c,l,S,Z;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(F=B.code,U=B.index,g=void 0===U?0:U,I=B.ignoreWarnings,C=void 0!==I&&I,c=B.name,l=B.path,F||l){Q.next=3;break}throw new Error("In order to continue, either provide the direct solidity code or a file path where the top-level code resides.");case 3:if(c||!(g||Number.isInteger(g)&&g<0)){Q.next=5;break}throw new Error("Please provide either a non-negative index or the actual name of the contract to reference the Contract instance with.");case 5:return Q.next=7,s.allFrom({code:F,ignoreWarnings:C,path:l});case 7:if(S=Q.sent,!c){Q.next=15;break}if(Z=S.find((function(Q){return Q.name===c}))){Q.next=12;break}throw new Error("There is no such contract named '".concat(c,"' present in the referenced code."));case 12:return Q.abrupt("return",Z);case 15:if(!(g>=S.length)){Q.next=17;break}throw new Error("Index out of range. Your requested contract-id ".concat(g," is not in range of the ").concat(S.length," contracts present in the given code."));case 17:return Q.abrupt("return",S[g]);case 18:case"end":return Q.stop()}}),Q)}))),function(Q){return F.apply(this,arguments)})},{key:"allFrom",value:(B=O(QQ.mark((function Q(B){var F,U,g,I,C,c,l,S,Z,G,L,x;return QQ.wrap((function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(F=B.code,U=B.ignoreWarnings,g=void 0!==U&&U,I=B.path,F||I){Q.next=3;break}throw new Error("Can only retrieve contracts if either the direct solidity code is provided or a file path where that top-level code resides.");case 3:return Q.next=5,PC.compile({code:F,path:I});case 5:for(C=Q.sent,c=s._tryParsingCompileResultFrom({ignoreWarnings:g,rawCompileResult:C}),l=c.contracts[kC],S=[],Z=0,G=Object.keys(l);Z<G.length;Z++)L=G[Z],x=l[L],S.push(new s({abi:x.abi,byteCode:x.evm.bytecode.object,name:L}));return Q.abrupt("return",S);case 11:case"end":return Q.stop()}}),Q)}))),function(Q){return B.apply(this,arguments)})},{key:"deserialize",value:function(Q){var B={};try{B=JSON.parse(Q)}catch(Q){throw new Error("Please provide something valid to be deserialized.")}return new s(B)}},{key:"_tryParsingCompileResultFrom",value:function(Q){var B=Q.rawCompileResult,F=Q.ignoreWarnings,U=JSON.parse(B);return jC.tryThrowingIfErrorsIn({compileResult:U,ignoreWarnings:F}),U}}]),s}(),Us={Counter:["function count() view returns (uint256)","function dec()","function get() view returns (uint256)","function inc()"],Event:["constructor()","event AnotherLog()","event Log(address indexed sender, string message)","function test()"],HelloWorld:["function greet() view returns (string)"],Incrementer:["function count() view returns (uint256)","function get() view returns (uint256)","function inc()"],SimpleStorage:["function get() view returns (uint256)","function num() view returns (uint256)","function set(uint256 _num)"]};export{pg as AVAILABLE_NETWORK_NAMES,sg as Account,QC as ApiSession,Fs as Contract,Us as ContractRegistry,OI as File,kg as HEDERA_CUSTOM_NET_NAME,Mg as HederaNetwork,_I as Json,Ug as KeyType,Sg as LiveAccount,Zg as LiveAccountWithPrivateKey,ng as LiveContract,ug as LiveContractWithLogs,wI as LiveFile,fI as LiveJson,ZC as LiveToken,bC as LiveTopic,sC as Token,IC as TokenType,CC as TokenTypes,LC as Topic,qI as TypeOfExecutionReturn};
//# sourceMappingURL=hedera-strato.js.map
